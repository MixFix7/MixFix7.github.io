/*! For license information please see main.de99e3bd.js.LICENSE.txt */
!function(){var e={888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),I=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,L=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case S:return"Profiler";case C:return"StrictMode";case T:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case $:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function H(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&H(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function ae(e,t){var n=z(t.value),r=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ce=null;function Se(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=ki(t),_e(e.stateNode,e.type,t))}}function Ee(e){xe?Ce?Ce.push(e):Ce=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Ce;if(Ce=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function $e(e,t){return e(t)}function Te(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return $e(e,t,n)}finally{Ne=!1,(null!==xe||null!==Ce)&&(Te(),Ie())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Oe=!1}function Re(e,t,n,r,i,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,Le=null,je=!1,Fe=null,Ue={onError:function(e){Me=!0,Le=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Le=null,Re.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(Ve(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ze(i),e;if(o===r)return ze(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,He=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var lt=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=dt(u):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,_t,xt,Ct,St,Et=!1,It=[],$t=null,Tt=null,Nt=null,Pt=new Map,At=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=gi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){jt(e)&&n.delete(t)}function Ut(){Et=!1,null!==$t&&jt($t)&&($t=null),null!==Tt&&jt(Tt)&&(Tt=null),null!==Nt&&jt(Nt)&&(Nt=null),Pt.forEach(Ft),At.forEach(Ft)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==$t&&Bt($t,e),null!==Tt&&Bt(Tt,e),null!==Nt&&Bt(Nt,e),Pt.forEach(t),At.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ot.shift()}var qt=w.ReactCurrentBatchConfig,zt=!0;function Wt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Kt(e,t,n,r){if(zt){var i=Qt(e,t,n,r);if(null===i)zr(e,t,r,Ht,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return $t=Mt($t,e,t,n,r,i),!0;case"dragenter":return Tt=Mt(Tt,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&kt(a),null===(a=Qt(e,t,n,r))&&zr(e,t,r,Ht,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}}var Ht=null;function Qt(e,t,n,r){if(Ht=null,null!==(e=gi(e=ke(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),dn=L({},ln,{view:0,detail:0}),fn=an(dn),hn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(hn),vn=an(L({},hn,{dataTransfer:0})),mn=an(L({},dn,{relatedTarget:0})),yn=an(L({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=L({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),wn=an(L({},ln,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return Cn}var En=L({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(En),$n=an(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(L({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=an(Pn),On=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Rn=null;c&&"documentMode"in document&&(Rn=document.documentMode);var Mn=c&&"TextEvent"in window&&!Rn,Ln=c&&(!Dn||Rn&&8<Rn&&11>=Rn),jn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Hn(e){jr(e,0)}function Qn(e){if(K(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Wn(t,Kn,e,ke(e)),Pe(Hn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=H();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=H((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==H(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},xr={},Cr={};function Sr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return xr[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Er=Sr("animationend"),Ir=Sr("animationiteration"),$r=Sr("animationstart"),Tr=Sr("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Nr.set(e,t),s(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Dr=Pr[Or];Ar(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ar(Er,"onAnimationEnd"),Ar(Ir,"onAnimationIteration"),Ar($r,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Tr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,l){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=Le;Me=!1,Le=null,je||(je=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,l),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,l=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,l),a=s}}}if(je)throw e=Fe,je=!1,Fe=null,e}function Fr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Pe((function(){var r=a,i=ke(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=In;break;case"focusin":l="focus",s=mn;break;case"focusout":l="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Tn;break;case Er:case Ir:case $r:s=yn;break;case Tr:s=Nn;break;case"scroll":s=fn;break;case"wheel":s=An;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=$n}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==u?u+"Capture":null:u;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==f&&(null!=(v=Ae(p,f))&&c.push(Wr(p,v,h)))),d)break;p=p.return}0<c.length&&(u=new s(u,l,null,n,i),o.push({event:u,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(d=Ve(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=$n,v="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==s?u:wi(s),h=null==l?u:wi(l),(u=new c(v,p+"leave",s,n,i)).target=d,u.relatedTarget=h,v=null,gi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=h,c.relatedTarget=d,v=c),d=v,s&&l)e:{for(f=l,p=0,h=c=s;h;h=Kr(h))p++;for(h=0,v=f;v;v=Kr(v))h++;for(;0<p-h;)c=Kr(c),p--;for(;0<h-p;)f=Kr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Kr(c),f=Kr(f)}c=null}else c=null;null!==s&&Hr(o,u,s,c,!1),null!==l&&null!==d&&Hr(o,d,l,c,!0)}if("select"===(s=(u=r?wi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(zn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?wi(r):window,e){case"focusin":(zn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Vn=!0)),0<(y=Gr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Bn(n))&&(b.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Fn=!0,jn);case"textInput":return(e=t.data)===jn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ae(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Ae(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,i?null!=(s=Ae(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Ae(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,vi="__reactEvents$"+di,mi="__reactListeners$"+di,yi="__reactHandles$"+di;function gi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ki(e){return e[hi]||null}var _i=[],xi=-1;function Ci(e){return{current:e}}function Si(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ei(e,t){xi++,_i[xi]=e.current,e.current=t}var Ii={},$i=Ci(Ii),Ti=Ci(!1),Ni=Ii;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Si(Ti),Si($i)}function Di(e,t,n){if($i.current!==Ii)throw Error(a(168));Ei($i,t),Ei(Ti,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return L({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ni=$i.current,Ei($i,e),Ei(Ti,Ti.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ri(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ti),Si($i),Ei($i,e)):Si(Ti),Ei(Ti,n)}var ji=null,Fi=!1,Ui=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function Vi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Fi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke(Ze,Vi),i}finally{bt=t,Ui=!1}}return null}var qi=[],zi=0,Wi=null,Gi=0,Ki=[],Hi=0,Qi=null,Yi=1,Xi="";function Ji(e,t){qi[zi++]=Gi,qi[zi++]=Wi,Wi=e,Gi=t}function Zi(e,t,n){Ki[Hi++]=Yi,Ki[Hi++]=Xi,Ki[Hi++]=Qi,Qi=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--zi],qi[zi]=null,Gi=qi[--zi],qi[zi]=null;for(;e===Qi;)Qi=Ki[--Hi],Ki[Hi]=null,Xi=Ki[--Hi],Ki[Hi]=null,Yi=Ki[--Hi],Ki[Hi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Al(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Al(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=li(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=w.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ci(null),ga=null,ba=null,wa=null;function ka(){wa=ba=ga=null}function _a(e){var t=ya.current;Si(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){ga=e,wa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wu=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ea=null;function Ia(e){null===Ea?Ea=[e]:Ea.push(e)}function $a(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ta(e,r)}function Ta(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ts)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ta(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ta(e,n)}function Ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,l=s.next;s.next=null,null===o?a=l:o.next=l,o=s;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===u?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=s))}if(null!==a){var d=i.baseState;for(o=0,c=l=s=null,u=a;;){var f=u.lane,h=u.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(f=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(h,d,f):p)||void 0===f)break e;d=L({},d,f);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[u]:f.push(u))}else h={eventTime:h,lane:f,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(l=c=h,s=d):c=c.next=h,o|=f;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(f=u).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(s=d),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ls|=o,e.lanes=o,e.memoizedState=d}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fa=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rl(t,e,i,r),Ra(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rl(t,e,i,r),Ra(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rl(t,e,r,n),Ra(t,e,r))}};function Va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Ai(t)?Ni:$i.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function za(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fa,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Ai(t)?Ni:$i.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),La(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ha(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&Ha(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Rl(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Rl(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case _:return(t=Fl(t,e.mode,n)).return=e,t;case A:return f(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?l(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null;case A:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:d(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,u,s){for(var l=null,c=null,d=a,v=a=0,m=null;null!==d&&v<u.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var y=h(i,d,u[v],s);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y,d=m}if(v===u.length)return n(i,d),ia&&Ji(i,v),l;if(null===d){for(;v<u.length;v++)null!==(d=f(i,u[v],s))&&(a=o(d,a,v),null===c?l=d:c.sibling=d,c=d);return ia&&Ji(i,v),l}for(d=r(i,d);v<u.length;v++)null!==(m=p(d,i,v,u[v],s))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),l}function m(i,u,s,l){var c=R(s);if("function"!==typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var d=c=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=h(i,v,g.value,l);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===d?c=b:d.sibling=b,d=b,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),c;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=f(i,g.value,l))&&(u=o(g,u,m),null===d?c=g:d.sibling=g,d=g);return ia&&Ji(i,m),c}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===d?c=g:d.sibling=g,d=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),c}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case k:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===x){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===A&&Ha(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ga(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===x?((a=Ml(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rl(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fl(o,r.mode,s)).return=r,r=a}return u(r);case A:return e(r,a,(c=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(R(o))return m(r,a,o,s);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jl(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=Qa(!0),Xa=Qa(!1),Ja={},Za=Ci(Ja),eo=Ci(Ja),to=Ci(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ei(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var uo=Ci(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=w.ReactCurrentDispatcher,ho=w.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,wo=0,ko=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Co(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,wo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=lu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==wo;return wo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Io(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function $o(e,t){return"function"===typeof t?t(e):t}function To(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,l=null,c=o;do{var d=c.lane;if((po&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=f,u=r):l=l.next=f,vo.lanes|=d,Ls|=d}c=c.next}while(null!==c&&c!==o);null===l?u=r:l.next=s,ur(r,t.memoizedState)||(wu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ls|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(wu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Ao(e,t){var n=vo,r=Io(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,wu=!0),r=r.queue,zo(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Fo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Lo(e)}function Ro(e,t,n){return n((function(){Mo(t)&&Lo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Lo(e){var t=Ta(e,1);null!==t&&rl(t,e,1,-1)}function jo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return Io().memoizedState}function Bo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Vo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Fo(t,n,a,r))}vo.flags|=e,i.memoizedState=Fo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function zo(e,t){return Vo(2048,8,e,t)}function Wo(e,t){return Vo(4,2,e,t)}function Go(e,t){return Vo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ho(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,Ko.bind(null,t,e),n)}function Qo(){}function Yo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,wu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ls|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return Io().memoizedState}function tu(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=$a(e,t,n,r))){rl(n,e,r,tl()),au(n,t,r)}}function nu(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ia(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=$a(e,t,i,r))&&(rl(n,e,r,i=tl()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:jo,useDebugValue:Qo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Ro.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ko++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:zo,useImperativeHandle:Ho,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Xo,useReducer:To,useRef:Uo,useState:function(){return To($o)},useDebugValue:Qo,useDeferredValue:function(e){return Jo(Io(),mo.memoizedState,e)},useTransition:function(){return[To($o)[0],Io().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ao,useId:eu,unstable_isNewReconciler:!1},lu={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:zo,useImperativeHandle:Ho,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Xo,useReducer:No,useRef:Uo,useState:function(){return No($o)},useDebugValue:Qo,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[No($o)[0],Io().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ao,useId:eu,unstable_isNewReconciler:!1};function cu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function du(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hu="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Gs=r),fu(0,t)},n}function vu(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=El.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=w.ReactCurrentOwner,wu=!1;function ku(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Ca(t,i),r=Co(e,t,n,r,a,i),n=So(),null===e||wu?(ia&&n&&ea(t),t.flags|=1,ku(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ol(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Cu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Dl(a,r)).ref=t.ref,e.return=t,t.child=e}function Cu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(wu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(wu=!0)}}return Iu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ds,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ds,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ds,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ds,Os),Os|=r;return ku(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Iu(e,t,n,r,i){var a=Ai(n)?Ni:$i.current;return a=Pi(t,a),Ca(t,i),n=Co(e,t,n,r,a,i),r=So(),null===e||wu?(ia&&r&&ea(t),t.flags|=1,ku(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function $u(e,t,n,r,i){if(Ai(n)){var a=!0;Mi(t)}else a=!1;if(Ca(t,i),null===t.stateNode)zu(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Sa(l):l=Pi(t,l=Ai(n)?Ni:$i.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==l)&&za(t,o,r,l),Na=!1;var f=t.memoizedState;o.state=f,La(t,r,o,i),s=t.memoizedState,u!==r||f!==s||Ti.current||Na?("function"===typeof c&&(Ua(t,n,c,r),s=t.memoizedState),(u=Na||Va(t,n,u,r,f,s,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Aa(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:ma(t.type,u),o.props=l,d=t.pendingProps,f=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Pi(t,s=Ai(n)?Ni:$i.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==d||f!==s)&&za(t,o,r,s),Na=!1,f=t.memoizedState,o.state=f,La(t,r,o,i);var p=t.memoizedState;u!==d||f!==p||Ti.current||Na?("function"===typeof h&&(Ua(t,n,h,r),p=t.memoizedState),(l=Na||Va(t,n,l,r,f,p,s)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Tu(e,t,n,r,a,i)}function Tu(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Wu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):ku(e,t,u,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Pu(e,t,n,r,i){return ha(),pa(i),t.flags|=256,ku(e,t,n,r),t.child}var Au,Ou,Du,Ru,Mu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ju(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Ll(s,i,0,null),e=Ml(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Lu(n),t.memoizedState=Mu,e):Fu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=du(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ll({mode:"visible",children:r.children},i,0,null),(o=Ml(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Lu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=du(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),wu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ta(e,i),rl(r,e,i,-1))}return ml(),Uu(e,t,u,r=du(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=$l.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Hi++]=Yi,Ki[Hi++]=Xi,Ki[Hi++]=Qi,Yi=e.id,Xi=e.overflow,Qi=t),t=Fu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dl(r,u):(u=Ml(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Lu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=Dl(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fu(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Vu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ku(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n,t);else if(19===e.tag)Bu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vu(t,!0,n,null,a);break;case"together":Vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Ai(t.type)&&Oi(),Ku(t),null;case 3:return r=t.stateNode,io(),Si(Ti),Si($i),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ul(aa),aa=null))),Ou(e,t),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no(Za.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Fr(Rr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var l=o[s];"children"===s?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):u.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&Fr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[fi]=t,e[hi]=r,Au(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Fr(Rr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fr("scroll",e):null!=c&&b(e,o,c,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Ru(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),ha(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(ul(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Rs&&(Rs=3):ml())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),Ou(e,t),null===e&&Vr(t.stateNode.containerInfo),Ku(t),null;case 10:return _a(t.type._context),Ku(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Gu(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Gu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qs&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*Xe()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Ai(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ti),Si($i),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Au=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(){},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(u.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(u.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Fr("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,Xu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sl(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Sl(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ds=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||es(n,t);case 6:var r=ds,i=fs;ds=null,hs(e,t,n),fs=i,null!==(ds=r)&&(fs?(e=ds,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ds.removeChild(n.stateNode));break;case 18:null!==ds&&(fs?(e=ds,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Vt(e)):si(ds,n.stateNode));break;case 4:r=ds,i=fs,ds=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ds=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Xu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sl(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,hs(e,t,n),Xu=r):hs(e,t,n);break;default:hs(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Tl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ds=s.stateNode,fs=!1;break e;case 3:case 4:ds=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ds)throw Error(a(160));ps(o,u,i),ds=null,fs=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Sl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Sl(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Sl(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Sl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var c=be(s,o);for(u=0;u<l.length;u+=2){var d=l[u],f=l[u+1];"style"===d?me(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,c)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Sl(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sl(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){Sl(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vs=Xe())),4&r&&vs(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(c=Xu)||d,ms(t,e),Xu=c):ms(t,e),gs(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Zu=e,d=e.child;null!==d;){for(f=Zu=d;null!==Zu;){switch(p=(h=Zu).child,h.tag){case 0:case 11:case 14:case 15:rs(4,h,h.return);break;case 1:es(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sl(r,n,m)}}break;case 5:es(h,h.return);break;case 22:if(null!==h.memoizedState){_s(f);continue}}null!==p?(p.return=h,Zu=p):_s(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=f.stateNode,u=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,s.style.display=ve("display",u))}catch(m){Sl(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Sl(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cs(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ls(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Sl(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bs(e,t,n){Zu=e,ws(e,t,n)}function ws(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=Yu;var l=Xu;if(Yu=o,(Xu=s)&&!l)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Zu=s):xs(i);for(;null!==a;)Zu=a,ws(a,t,n),a=a.sibling;Zu=i,Yu=u,Xu=l}ks(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ks(e)}}function ks(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Vt(f)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&as(t)}catch(h){Sl(t,t.return,h)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function _s(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Sl(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sl(t,i,s)}}var a=t.return;try{as(t)}catch(s){Sl(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Sl(t,o,s)}}}catch(s){Sl(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Cs,Ss=Math.ceil,Es=w.ReactCurrentDispatcher,Is=w.ReactCurrentOwner,$s=w.ReactCurrentBatchConfig,Ts=0,Ns=null,Ps=null,As=0,Os=0,Ds=Ci(0),Rs=0,Ms=null,Ls=0,js=0,Fs=0,Us=null,Bs=null,Vs=0,qs=1/0,zs=null,Ws=!1,Gs=null,Ks=null,Hs=!1,Qs=null,Ys=0,Xs=0,Js=null,Zs=-1,el=0;function tl(){return 0!==(6&Ts)?Xe():-1!==Zs?Zs:Zs=Xe()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Ts)&&0!==As?As&-As:null!==va.transition?(0===el&&(el=vt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rl(e,t,n,r){if(50<Xs)throw Xs=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&Ts)&&e===Ns||(e===Ns&&(0===(2&Ts)&&(js|=n),4===Rs&&sl(e,As)),il(e,r),1===n&&0===Ts&&0===(1&t.mode)&&(qs=Xe()+500,Fi&&Vi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ft(e,e===Ns?As:0);if(0===r)null!==n&&He(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&He(n),1===t)0===e.tag?function(e){Fi=!0,Bi(e)}(ll.bind(null,e)):Bi(ll.bind(null,e)),oi((function(){0===(6&Ts)&&Vi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nl(n,al.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function al(e,t){if(Zs=-1,el=0,0!==(6&Ts))throw Error(a(327));var n=e.callbackNode;if(xl()&&e.callbackNode!==n)return null;var r=ft(e,e===Ns?As:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yl(e,r);else{t=r;var i=Ts;Ts|=2;var o=vl();for(Ns===e&&As===t||(zs=null,qs=Xe()+500,hl(e,t));;)try{bl();break}catch(s){pl(e,s)}ka(),Es.current=o,Ts=i,null!==Ps?t=0:(Ns=null,As=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Ms,hl(e,0),sl(e,r),il(e,Xe()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yl(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Ms,hl(e,0),sl(e,r),il(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_l(e,Bs,zs);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Vs+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_l.bind(null,e,Bs,zs),t);break}_l(e,Bs,zs);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(_l.bind(null,e,Bs,zs),r);break}_l(e,Bs,zs);break;default:throw Error(a(329))}}}return il(e,Xe()),e.callbackNode===n?al.bind(null,e):null}function ol(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=yl(e,t))&&(t=Bs,Bs=n,null!==t&&ul(t)),e}function ul(e){null===Bs?Bs=e:Bs.push.apply(Bs,e)}function sl(e,t){for(t&=~Fs,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Ts))throw Error(a(327));xl();var t=ft(e,0);if(0===(1&t))return il(e,Xe()),null;var n=yl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Ms,hl(e,0),sl(e,t),il(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_l(e,Bs,zs),il(e,Xe()),null}function cl(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(qs=Xe()+500,Fi&&Vi())}}function dl(e){null!==Qs&&0===Qs.tag&&0===(6&Ts)&&xl();var t=Ts;Ts|=1;var n=$s.transition,r=bt;try{if($s.transition=null,bt=1,e)return e()}finally{bt=r,$s.transition=n,0===(6&(Ts=t))&&Vi()}}function fl(){Os=Ds.current,Si(Ds)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Si(Ti),Si($i),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:_a(r.type._context);break;case 22:case 23:fl()}n=n.return}if(Ns=e,Ps=e=Dl(e.current,null),As=Os=t,Rs=0,Ms=null,Fs=js=Ls=0,Bs=Us=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pl(e,t){for(;;){var n=Ps;try{if(ka(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,wo=0,Is.current=null,null===n||null===n.return){Rs=1,Ms=t,Ps=null;break}e:{var o=e,u=n.return,s=n,l=t;if(t=As,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,d=s,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){mu(o,c,t),ml();break e}l=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(cu(l,s));break e}}o=l=cu(l,s),4!==Rs&&(Rs=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,l,t));break e;case 1:s=l;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ks||!Ks.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}kl(n)}catch(w){t=w,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function vl(){var e=Es.current;return Es.current=ou,null===e?ou:e}function ml(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===Ns||0===(268435455&Ls)&&0===(268435455&js)||sl(Ns,As)}function yl(e,t){var n=Ts;Ts|=2;var r=vl();for(Ns===e&&As===t||(zs=null,hl(e,t));;)try{gl();break}catch(i){pl(e,i)}if(ka(),Ts=n,Es.current=r,null!==Ps)throw Error(a(261));return Ns=null,As=0,Rs}function gl(){for(;null!==Ps;)wl(Ps)}function bl(){for(;null!==Ps&&!Qe();)wl(Ps)}function wl(e){var t=Cs(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?kl(e):Ps=t,Is.current=null}function kl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Os)))return void(Ps=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Ps=n);if(null===e)return Rs=6,void(Ps=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Rs&&(Rs=5)}function _l(e,t,n){var r=bt,i=$s.transition;try{$s.transition=null,bt=1,function(e,t,n,r){do{xl()}while(null!==Qs);if(0!==(6&Ts))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Ps=Ns=null,As=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Nl(tt,(function(){return xl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=$s.transition,$s.transition=null;var u=bt;bt=1;var s=Ts;Ts|=4,Is.current=null,function(e,t){if(ei=zt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(k){n=null;break e}var u=0,s=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(s=u+i),f!==o||0!==r&&3!==f.nodeType||(l=u+r),3===f.nodeType&&(u+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(s=u),h===o&&++d===r&&(l=u),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},zt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(k){Sl(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),zt=!!ei,ti=ei=null,e.current=n,bs(n,e,i),Ye(),Ts=s,bt=u,$s.transition=o}else e.current=n;if(Hs&&(Hs=!1,Qs=e,Ys=i),o=e.pendingLanes,0===o&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Gs,Gs=null,e;0!==(1&Ys)&&0!==e.tag&&xl(),o=e.pendingLanes,0!==(1&o)?e===Js?Xs++:(Xs=0,Js=e):Xs=0,Vi()}(e,t,n,r)}finally{$s.transition=i,bt=r}return null}function xl(){if(null!==Qs){var e=wt(Ys),t=$s.transition,n=bt;try{if($s.transition=null,bt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Ys=0,0!==(6&Ts))throw Error(a(331));var i=Ts;for(Ts|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(Zu=c;null!==Zu;){var d=Zu;switch(d.tag){case 0:case 11:case 15:rs(8,d,o)}var f=d.child;if(null!==f)f.return=d,Zu=f;else for(;null!==Zu;){var h=(d=Zu).sibling,p=d.return;if(os(d),d===c){Zu=null;break}if(null!==h){h.return=p,Zu=h;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var b=e.current;for(Zu=b;null!==Zu;){var w=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==w)w.return=u,Zu=w;else e:for(u=b;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(_){Sl(s,s.return,_)}if(s===u){Zu=null;break e}var k=s.sibling;if(null!==k){k.return=s.return,Zu=k;break e}Zu=s.return}}if(Ts=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,$s.transition=t}}return!1}function Cl(e,t,n){e=Da(e,t=pu(0,t=cu(n,t),1),1),t=tl(),null!==e&&(yt(e,1,t),il(e,t))}function Sl(e,t,n){if(3===e.tag)Cl(e,e,n);else for(;null!==t;){if(3===t.tag){Cl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Da(t,e=vu(t,e=cu(n,e),1),1),e=tl(),null!==t&&(yt(t,1,e),il(t,e));break}}t=t.return}}function El(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(As&n)===n&&(4===Rs||3===Rs&&(130023424&As)===As&&500>Xe()-Vs?hl(e,0):Fs|=n),il(e,t)}function Il(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Ta(e,t))&&(yt(e,t,n),il(e,n))}function $l(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Il(e,n)}function Tl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Il(e,n)}function Nl(e,t){return Ke(e,t)}function Pl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Al(e,t,n,r){return new Pl(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Al(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rl(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Ol(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Ml(n.children,i,o,t);case C:u=8,i|=8;break;case S:return(e=Al(12,n,t,2|i)).elementType=S,e.lanes=o,e;case T:return(e=Al(13,n,t,i)).elementType=T,e.lanes=o,e;case N:return(e=Al(19,n,t,i)).elementType=N,e.lanes=o,e;case O:return Ll(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case I:u=9;break e;case $:u=11;break e;case P:u=14;break e;case A:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Al(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ml(e,t,n,r){return(e=Al(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=Al(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return(e=Al(6,e,null,t)).lanes=n,e}function Fl(e,t,n){return(t=Al(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,a,o,u,s){return e=new Ul(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Al(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function Vl(e){if(!e)return Ii;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Ri(e,n,t)}return t}function ql(e,t,n,r,i,a,o,u,s){return(e=Bl(n,r,!0,e,0,a,0,u,s)).context=Vl(null),n=e.current,(a=Oa(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),il(e,r),e}function zl(e,t,n,r){var i=t.current,a=tl(),o=nl(i);return n=Vl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rl(e,i,o,a),Ra(e,i,o)),o}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kl(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}Cs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)wu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),ha();break;case 5:ao(t);break;case 1:Ai(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ju(e,t,n):(Ei(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Wu(e,t,n)}(e,t,n);wu=0!==(131072&e.flags)}else wu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zu(e,t),e=t.pendingProps;var i=Pi(t,$i.current);Ca(t,n),i=Co(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Tu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ku(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ol(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===$)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Iu(null,t,r,e,n);break e;case 1:t=$u(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,$u(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Aa(e,t),La(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pu(e,t,r,n,i=cu(Error(a(423)),t));break e}if(r!==i){t=Pu(e,t,r,n,i=cu(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Wu(e,t,n);break e}ku(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),ku(e,t,u,n),t.child;case 6:return null===e&&la(t),null;case 13:return ju(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):ku(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ku(e,t,t.pendingProps,n),t.child;case 8:case 12:return ku(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ti.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Oa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}ku(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ca(t,n),r=r(i=Sa(i)),t.flags|=1,ku(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Cu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),zu(e,t),t.tag=1,Ai(r)?(e=!0,Mi(t)):e=!1,Ca(t,n),qa(t,r,i),Wa(t,r,i,n),Tu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var Hl="function"===typeof reportError?reportError:function(e){console.error(e)};function Ql(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wl(o);u.call(e)}}zl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wl(o);a.call(e)}}var o=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),dl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wl(s);u.call(e)}}var s=Bl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=s,e[pi]=s.current,Vr(8===e.nodeType?e.parentNode:e),dl((function(){zl(t,s,n,r)})),s}(n,t,e,i,r);return Wl(o)}Yl.prototype.render=Ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));zl(e,t,null,null)},Yl.prototype.unmount=Ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dl((function(){zl(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Lt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(gt(t,1|n),il(t,Xe()),0===(6&Ts)&&(qs=Xe()+500,Vi()))}break;case 13:dl((function(){var t=Ta(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Kl(e,1)}},_t=function(e){if(13===e.tag){var t=Ta(e,134217728);if(null!==t)rl(t,e,134217728,tl());Kl(e,134217728)}},xt=function(e){if(13===e.tag){var t=nl(e),n=Ta(e,t);if(null!==n)rl(n,e,t,tl());Kl(e,t)}},Ct=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(a(90));K(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},$e=cl,Te=dl;var tc={usingClientEntryPoint:!1,Events:[bi,wi,ki,Ee,Ie,cl]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(a(299));var n=!1,r="",i=Hl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Hl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(dl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},221:function(e,t,n){"use strict";var r=n(424).default,i=n(122).default,a=n(61).default,o=n(156).default,u=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&u(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useTurnstile=void 0;var c,d,f=l(n(791)),h="undefined"!==typeof globalThis?globalThis:window,p="undefined"!==typeof h.turnstile?"ready":"unloaded",v=new Promise((function(e,t){d={resolve:e,reject:t},"ready"===p&&e(void 0)})),m="cf__reactTurnstileOnLoad";function y(e){return{execute:function(t){return window.turnstile.execute(e,t)},reset:function(){return window.turnstile.reset(e)},getResponse:function(){return window.turnstile.getResponse(e)},isExpired:function(){return window.turnstile.isExpired(e)}}}c=function(){if("unloaded"===p){p="loading",h[m]=function(){d.resolve(),p="ready",delete h[m]};var e="".concat("https://challenges.cloudflare.com/turnstile/v0/api.js","?onload=").concat(m,"&render=explicit"),t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("error",(function(){d.reject("Failed to load Turnstile."),delete h[m]})),document.head.appendChild(t)}return v},t.default=function(e){var t=e.id,n=e.className,r=e.style,u=e.sitekey,s=e.action,l=e.cData,d=e.theme,h=e.language,v=e.tabIndex,m=e.responseField,g=e.responseFieldName,b=e.size,w=e.fixedSize,k=e.retry,_=e.retryInterval,x=e.refreshExpired,C=e.appearance,S=e.execution,E=e.userRef,I=e.onVerify,$=e.onLoad,T=e.onError,N=e.onExpire,P=e.onTimeout,A=e.onAfterInteractive,O=e.onBeforeInteractive,D=e.onUnsupported,R=(0,f.useRef)(null),M=(0,f.useState)({onVerify:I,onLoad:$,onError:T,onExpire:N,onTimeout:P,onAfterInteractive:A,onBeforeInteractive:O,onUnsupported:D})[0],L=null!==E&&void 0!==E?E:R;return(0,f.useEffect)((function(){if(L.current){var e=!1,t="";return o(a().mark((function n(){var r,i,o,f;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("ready"===p){n.next=10;break}return n.prev=1,n.next=4,c();case 4:n.next=10;break;case 6:return n.prev=6,n.t0=n.catch(1),null===(r=M.onError)||void 0===r||r.call(M,n.t0),n.abrupt("return");case 10:if(!e&&L.current){n.next=12;break}return n.abrupt("return");case 12:f={sitekey:u,action:s,cData:l,theme:d,language:h,tabindex:v,"response-field":m,"response-field-name":g,size:b,retry:k,"retry-interval":_,"refresh-expired":x,appearance:C,execution:S,callback:function(e){var t;return null===(t=M.onVerify)||void 0===t?void 0:t.call(M,e,o)},"error-callback":function(e){var t;return null===(t=M.onError)||void 0===t?void 0:t.call(M,e,o)},"expired-callback":function(e){var t;return null===(t=M.onExpire)||void 0===t?void 0:t.call(M,e,o)},"timeout-callback":function(){var e;return null===(e=M.onTimeout)||void 0===e?void 0:e.call(M,o)},"after-interactive-callback":function(){var e;return null===(e=M.onAfterInteractive)||void 0===e?void 0:e.call(M,o)},"before-interactive-callback":function(){var e;return null===(e=M.onBeforeInteractive)||void 0===e?void 0:e.call(M,o)},"unsupported-callback":function(){var e;return null===(e=M.onUnsupported)||void 0===e?void 0:e.call(M,o)}},t=window.turnstile.render(L.current,f),o=y(t),null===(i=M.onLoad)||void 0===i||i.call(M,t,o);case 16:case"end":return n.stop()}}),n,null,[[1,6]])})))(),function(){e=!0,t&&window.turnstile.remove(t)}}}),[u,s,l,d,h,v,m,g,b,k,_,x,C,S]),(0,f.useEffect)((function(){M.onVerify=I,M.onLoad=$,M.onError=T,M.onExpire=N,M.onTimeout=P,M.onAfterInteractive=A,M.onBeforeInteractive=O,M.onUnsupported=D}),[I,$,T,N,P,A,O,D]),f.default.createElement("div",{ref:L,id:t,className:n,style:w?i(i({},null!==r&&void 0!==r?r:{}),{},{width:"compact"===b?"130px":"300px",height:"compact"===b?"120px":"65px"}):r})},t.useTurnstile=function(){var e=(0,f.useState)(p),t=r(e,2),n=(t[0],t[1]);return(0,f.useEffect)((function(){"ready"!==p&&v.then((function(){return n(p)}))}),[]),h.turnstile}},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:u.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var w=b.prototype=new g;w.constructor=b,v(w,y.prototype),w.isPureReactComponent=!0;var k=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function $(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+$(s,0):a,k(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),T(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",k(e))for(var l=0;l<e.length;l++){var c=a+$(u=e[l],l);s+=T(u,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=T(u=u.value,t,i,c=a+$(u,l++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},O={transition:null},D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:O,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)_.call(t,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],l=u+1,c=e[l];if(0>a(s,n))l<i&&0>a(c,s)?(e[r]=c,e[l]=n,r=l):(e[r]=s,e[u]=n,r=u);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var l=[],c=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function k(e){if(m=!1,w(e),!v)if(null!==r(l))v=!0,O(_);else{var t=r(c);null!==t&&D(k,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=h;try{for(w(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!T());){var o=f.callback;if("function"===typeof o){f.callback=null,h=f.priorityLevel;var u=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?f.callback=u:f===r(l)&&i(l),w(n)}else i(l);f=r(l)}if(null!==f)var s=!0;else{var d=r(c);null!==d&&D(k,d.startTime-n),s=!1}return s}finally{f=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,C=!1,S=null,E=-1,I=5,$=-1;function T(){return!(t.unstable_now()-$<I)}function N(){if(null!==S){var e=t.unstable_now();$=e;var n=!0;try{n=S(!0,e)}finally{n?x():(C=!1,S=null)}}else C=!1}if("function"===typeof b)x=function(){b(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=N,x=function(){A.postMessage(null)}}else x=function(){y(N,0)};function O(e){S=e,C||(C=!0,x())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(g(E),E=-1):m=!0,D(k,a-o))):(e.sortIndex=u,n(l,e),v||p||(v=!0,O(_))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},637:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useSyncExternalStore,o=r.useRef,u=r.useEffect,s=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,c){var d=o(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=s((function(){function e(e){if(!u){if(u=!0,a=e,e=r(e),void 0!==c&&f.hasValue){var t=f.value;if(c(t,e))return o=t}return o=e}if(t=o,i(a,e))return t;var n=r(e);return void 0!==c&&c(t,n)?t:(a=e,o=n)}var a,o,u=!1,s=void 0===n?null:n;return[function(){return e(t())},null===s?void 0:function(){return e(s())}]}),[t,n,r,c]);var h=a(e,d[0],d[1]);return u((function(){f.hasValue=!0,f.value=h}),[h]),l(h),h}},995:function(e,t,n){"use strict";e.exports=n(637)},897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},156:function(e){function t(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(l){return void n(l)}u.done?t(s):Promise.resolve(s).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function u(e){t(o,i,a,u,s,"next",e)}function s(e){t(o,i,a,u,s,"throw",e)}u(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},416:function(e,t,n){var r=n(62);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return u}},e.exports.__esModule=!0,e.exports.default=e.exports},218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},122:function(e,t,n){var r=n(416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},61:function(e,t,n){var r=n(698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},s=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",c=u.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(P){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),u=new $(r||[]);return o(a,"_invoke",{value:C(e,n,u)}),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}t.wrap=f;var p={};function v(){}function m(){}function y(){}var g={};d(g,s,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(T([])));w&&w!==n&&a.call(w,s)&&(g=w);var k=y.prototype=v.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,u,s){var l=h(e[i],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,u,s)}),(function(e){n("throw",e,u,s)})):t.resolve(d).then((function(e){c.value=e,u(c)}),(function(e){return n("throw",e,u,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function C(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===p)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=h(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function $(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=y,o(k,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:m,configurable:!0}),m.displayName=d(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,d(e,c,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},_(x.prototype),d(x.prototype,l,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new x(f(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(k),d(k,c,"Generator"),d(k,s,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},424:function(e,t,n){var r=n(372),i=n(872),a=n(116),o=n(218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},36:function(e,t,n){var r=n(698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},62:function(e,t,n){var r=n(698).default,i=n(36);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},116:function(e,t,n){var r=n(897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},418:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,a(n)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return $n},SDK_VERSION:function(){return Gr},_DEFAULT_ENTRY_NAME:function(){return Or},_addComponent:function(){return Lr},_addOrOverwriteComponent:function(){return jr},_apps:function(){return Rr},_clearComponents:function(){return Vr},_components:function(){return Mr},_getProvider:function(){return Ur},_registerComponent:function(){return Fr},_removeServiceInstance:function(){return Br},deleteApp:function(){return Yr},getApp:function(){return Hr},getApps:function(){return Qr},initializeApp:function(){return Kr},onLog:function(){return Zr},registerVersion:function(){return Jr},setLogLevel:function(){return ei}});var t={};n.r(t),n.d(t,{changeSection:function(){return RT},setIsChangeMode:function(){return MT},setSectionField:function(){return LT},setSections:function(){return DT}});var r,i=n(791),a=n.t(i,2),o=n(250);function u(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){return u(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return u}}(e,t)||l(e,t)||c()}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){var t=w();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}(this,n)}}function x(){x=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),u=new I(i||[]);return r(o,"_invoke",{value:_(e,n,u)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=l;var d={};function f(){}function p(){}function v(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y($([])));g&&g!==t&&n.call(g,a)&&(m=g);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(r,a,o,u){var s=c(e[r],e,a);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==h(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=C(o,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=c(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function $(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),s(k.prototype,o,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=$,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:$(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function C(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(qi){return void n(qi)}u.done?t(s):Promise.resolve(s).then(r,i)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){C(a,r,i,o,u,"next",e)}function u(e){C(a,r,i,o,u,"throw",e)}o(void 0)}))}}function E(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t,n){return I=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i},I.apply(null,arguments)}function $(e){var t="function"===typeof Map?new Map:void 0;return $=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return I(e,arguments,b(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,e)},$(e)}function T(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function N(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function P(e){return function(e){if(Array.isArray(e))return s(e)}(e)||T(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));var O,D="popstate";function R(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function M(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function L(e,t){return{usr:e.state,key:e.key,idx:t}}function j(e,t,n,r){return void 0===n&&(n=null),A({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?U(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function F(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function U(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function B(e,t,n,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,l=void 0!==s&&s,c=u.history,d=r.Pop,f=null,h=p();function p(){return(c.state||{idx:null}).idx}function v(){d=r.Pop;var e=p(),t=null==e?null:e-h;h=e,f&&f({action:d,location:y.location,delta:t})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:F(e);return R(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(A({},c.state,{idx:h}),""));var y={get action(){return d},get location(){return e(u,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return u.addEventListener(D,v),f=e,function(){u.removeEventListener(D,v),f=null}},createHref:function(e){return t(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){d=r.Push;var i=j(y.location,e,t);n&&n(i,e);var a=L(i,h=p()+1),o=y.createHref(i);try{c.pushState(a,"",o)}catch(qi){if(qi instanceof DOMException&&"DataCloneError"===qi.name)throw qi;u.location.assign(o)}l&&f&&f({action:d,location:y.location,delta:1})},replace:function(e,t){d=r.Replace;var i=j(y.location,e,t);n&&n(i,e);var a=L(i,h=p()),o=y.createHref(i);c.replaceState(a,"",o),l&&f&&f({action:d,location:y.location,delta:0})},go:function(e){return c.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(O||(O={}));var V=new Set(["lazy","caseSensitive","path","id","index","children"]);function q(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map((function(e,i){var a=[].concat(P(n),[i]),o="string"===typeof e.id?e.id:a.join("-");if(R(!0!==e.index||!e.children,"Cannot specify children on an index route"),R(!r[o],'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){var u=A({},e,t(e),{id:o});return r[o]=u,u}var s=A({},e,t(e),{id:o,children:void 0});return r[o]=s,e.children&&(s.children=q(e.children,t,a,r)),s}))}function z(e,t,n){void 0===n&&(n="/");var r=ie(("string"===typeof t?U(t):t).pathname||"/",n);if(null==r)return null;var i=W(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=te(i[o],re(r));return a}function W(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(R(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=se([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(R(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),W(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:ee(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=N(G(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function G(e){var t=e.split("/");if(0===t.length)return[];var n,r=u(n=t)||T(n)||l(n)||c(),i=r[0],a=r.slice(1),o=i.endsWith("?"),s=i.replace(/\?$/,"");if(0===a.length)return o?[s,""]:[s];var d=G(a.join("/")),f=[];return f.push.apply(f,P(d.map((function(e){return""===e?s:[s,e].join("/")})))),o&&f.push.apply(f,P(d)),f.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var K=/^:\w+$/,H=3,Q=2,Y=1,X=10,J=-2,Z=function(e){return"*"===e};function ee(e,t){var n=e.split("/"),r=n.length;return n.some(Z)&&(r+=J),t&&(r+=Q),n.filter((function(e){return!Z(e)})).reduce((function(e,t){return e+(K.test(t)?H:""===t?Y:X)}),r)}function te(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=ne({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);var d=u.route;a.push({params:r,pathname:se([i,c.pathname]),pathnameBase:le(se([i,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(i=se([i,c.pathnameBase]))}return a}function ne(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);M("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=d(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1),c=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(qi){return M(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+qi+")."),e}}(l[n]||"",t),e}),{});return{params:c,pathname:u,pathnameBase:s,pattern:e}}function re(e){try{return decodeURI(e)}catch(qi){return M(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+qi+")."),e}}function ie(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ae(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function oe(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ue(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=U(e):(R(!(i=A({},e)).pathname||!i.pathname.includes("?"),ae("?","pathname","search",i)),R(!i.pathname||!i.pathname.includes("#"),ae("#","pathname","hash",i)),R(!i.search||!i.search.includes("#"),ae("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var l=u.split("/");".."===l[0];)l.shift(),s-=1;i.pathname=l.join("/")}a=s>=0?t[s]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?U(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ce(a),hash:de(u)}}(i,a),d=u&&"/"!==u&&u.endsWith("/"),f=(o||"."===u)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!f||(c.pathname+="/"),c}var se=function(e){return e.join("/").replace(/\/\/+/g,"/")},le=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ce=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},de=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},fe=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n)}($(Error));var he=m((function e(t,n,r,i){f(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function pe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ve=["post","put","patch","delete"],me=new Set(ve),ye=["get"].concat(ve),ge=new Set(ye),be=new Set([301,302,303,307,308]),we=new Set([307,308]),ke={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_e={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xe={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Se=function(e){return{hasErrorBoundary:Boolean(e.hasErrorBoundary)}};function Ee(e){var t,n=e.window?e.window:"undefined"!==typeof window?window:void 0,i="undefined"!==typeof n&&"undefined"!==typeof n.document&&"undefined"!==typeof n.document.createElement,a=!i;if(R(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)t=e.mapRouteProperties;else if(e.detectErrorBoundary){var o=e.detectErrorBoundary;t=function(e){return{hasErrorBoundary:o(e)}}}else t=Se;var u,s={},l=q(e.routes,t,void 0,s),c=e.basename||"/",f=A({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),h=null,p=new Set,v=null,m=null,y=null,g=null!=e.hydrationData,b=z(l,e.history.location,c),w=null;if(null==b){var k=We(404,{pathname:e.history.location.pathname}),_=ze(l);b=_.matches,w=E({},_.route.id,k)}var C,I,$=!b.some((function(e){return e.route.lazy}))&&(!b.some((function(e){return e.route.loader}))||null!=e.hydrationData),T={historyAction:e.history.action,location:e.history.location,matches:b,initialized:$,navigation:ke,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||w,fetchers:new Map,blockers:new Map},D=r.Pop,L=!1,F=!1,U=!1,B=[],V=[],W=new Map,G=0,K=-1,H=new Map,Q=new Set,Y=new Map,X=new Map,J=new Map,Z=!1;function ee(e){T=A({},T,e),p.forEach((function(e){return e(T)}))}function te(t,n){var i,a,o,s=null!=T.actionData&&null!=T.navigation.formMethod&&tt(T.navigation.formMethod)&&"loading"===T.navigation.state&&!0!==(null==(i=t.state)?void 0:i._isRedirect);o=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:s?T.actionData:null;var c=n.loaderData?Ve(T.loaderData,n.loaderData,n.matches||[],n.errors):T.loaderData,d=new Map;J.clear();var f=!0===L||null!=T.navigation.formMethod&&tt(T.navigation.formMethod)&&!0!==(null==(a=t.state)?void 0:a._isRedirect);u&&(l=u,u=void 0),F||D===r.Pop||(D===r.Push?e.history.push(t,t.state):D===r.Replace&&e.history.replace(t,t.state)),ee(A({},n,{actionData:o,loaderData:c,historyAction:D,location:t,initialized:!0,navigation:ke,revalidation:"idle",restoreScrollPosition:Je(t,n.matches||T.matches),preventScrollReset:f,blockers:d})),D=r.Pop,L=!1,F=!1,U=!1,B=[],V=[]}function ne(e,t){return re.apply(this,arguments)}function re(){return re=S(x().mark((function t(n,i){var a,o,u,s,l,d,h,p,v,m,y;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("number"!==typeof n){t.next=3;break}return e.history.go(n),t.abrupt("return");case 3:if(a=Ie(T.location,T.matches,c,f.v7_prependBasename,n,null==i?void 0:i.fromRouteId,null==i?void 0:i.relative),o=$e(f.v7_normalizeFormMethod,!1,a,i),u=o.path,s=o.submission,l=o.error,d=T.location,h=A({},h=j(T.location,u,i&&i.state),e.history.encodeLocation(h)),p=i&&null!=i.replace?i.replace:void 0,v=r.Push,!0===p?v=r.Replace:!1===p||null!=s&&tt(s.formMethod)&&s.formAction===T.location.pathname+T.location.search&&(v=r.Replace),m=i&&"preventScrollReset"in i?!0===i.preventScrollReset:void 0,!(y=je({currentLocation:d,nextLocation:h,historyAction:v}))){t.next=16;break}return Me(y,{state:"blocked",location:h,proceed:function(){Me(y,{state:"proceeding",proceed:void 0,reset:void 0,location:h}),ne(n,i)},reset:function(){var e=new Map(T.blockers);e.set(y,xe),ee({blockers:e})}}),t.abrupt("return");case 16:return t.next=18,ae(v,h,{submission:s,pendingError:l,preventScrollReset:m,replace:i&&i.replace});case 18:return t.abrupt("return",t.sent);case 19:case"end":return t.stop()}}),t)}))),re.apply(this,arguments)}function ae(e,t,n){return oe.apply(this,arguments)}function oe(){return oe=S(x().mark((function t(n,r,i){var a,o,s,d,f,h,p,v,m,y,g,b,w,k,_;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(I&&I.abort(),I=null,D=n,F=!0===(i&&i.startUninterruptedRevalidation),Ke(T.location,T.matches),L=!0===(i&&i.preventScrollReset),a=u||l,o=i&&i.overrideNavigation,s=z(a,r,c)){t.next=15;break}return d=We(404,{pathname:r.pathname}),f=ze(a),h=f.matches,p=f.route,Fe(),te(r,{matches:h,loaderData:{},errors:E({},p.id,d)}),t.abrupt("return");case 15:if(!T.initialized||U||!He(T.location,r)||i&&i.submission&&tt(i.submission.formMethod)){t.next=18;break}return te(r,{matches:s}),t.abrupt("return");case 18:if(I=new AbortController,v=Le(e.history,r,I.signal,i&&i.submission),!i||!i.pendingError){t.next=24;break}y=E({},qe(s).route.id,i.pendingError),t.next=34;break;case 24:if(!(i&&i.submission&&tt(i.submission.formMethod))){t.next=34;break}return t.next=27,ue(v,r,i.submission,s,{replace:i.replace});case 27:if(!(g=t.sent).shortCircuited){t.next=30;break}return t.abrupt("return");case 30:m=g.pendingActionData,y=g.pendingActionError,o=lt(r,i.submission),v=new Request(v.url,{signal:v.signal});case 34:return t.next=36,le(v,r,s,o,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,m,y);case 36:if(b=t.sent,w=b.shortCircuited,k=b.loaderData,_=b.errors,!w){t.next=42;break}return t.abrupt("return");case 42:I=null,te(r,A({matches:s},m?{actionData:m}:{},{loaderData:k,errors:_}));case 44:case"end":return t.stop()}}),t)}))),oe.apply(this,arguments)}function ue(e,t,n,r,i){return se.apply(this,arguments)}function se(){return se=S(x().mark((function e(n,i,a,o,u){var l,d,f,h;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===u&&(u={}),ge(),ee({navigation:ct(i,a)}),(d=ut(o,i)).route.action||d.route.lazy){e.next=9;break}l={type:O.error,error:We(405,{method:n.method,pathname:i.pathname,routeId:d.route.id})},e.next=14;break;case 9:return e.next=11,Re("action",n,d,o,s,t,c);case 11:if(l=e.sent,!n.signal.aborted){e.next=14;break}return e.abrupt("return",{shortCircuited:!0});case 14:if(!Xe(l)){e.next=19;break}return f=u&&null!=u.replace?u.replace:l.location===T.location.pathname+T.location.search,e.next=18,pe(T,l,{submission:a,replace:f});case 18:return e.abrupt("return",{shortCircuited:!0});case 19:if(!Ye(l)){e.next=23;break}return h=qe(o,d.route.id),!0!==(u&&u.replace)&&(D=r.Push),e.abrupt("return",{pendingActionData:{},pendingActionError:E({},h.route.id,l.error)});case 23:if(!Qe(l)){e.next=25;break}throw We(400,{type:"defer-action"});case 25:return e.abrupt("return",{pendingActionData:E({},d.route.id,l.data)});case 26:case"end":return e.stop()}}),e)}))),se.apply(this,arguments)}function le(e,t,n,r,i,a,o,u,s){return ce.apply(this,arguments)}function ce(){return ce=S(x().mark((function t(n,r,i,a,o,s,f,h,p){var v,m,y,g,b,w,k,_,C,S,E,$,N,P,O,D,R,M,L,j,q;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v=a||lt(r,o),m=o||s||st(v),y=u||l,g=Ne(e.history,T,i,m,r,U,B,V,Y,Q,y,c,h,p),b=d(g,2),w=b[0],k=b[1],Fe((function(e){return!(i&&i.some((function(t){return t.route.id===e})))||w&&w.some((function(t){return t.route.id===e}))})),0!==w.length||0!==k.length){t.next=9;break}return _=Ae(),te(r,A({matches:i,loaderData:{},errors:p||null},h?{actionData:h}:{},_?{fetchers:new Map(T.fetchers)}:{})),t.abrupt("return",{shortCircuited:!0});case 9:return F||(k.forEach((function(e){var t=T.fetchers.get(e.key),n=dt(void 0,t?t.data:void 0);T.fetchers.set(e.key,n)})),C=h||T.actionData,ee(A({navigation:v},C?0===Object.keys(C).length?{actionData:null}:{actionData:C}:{},k.length>0?{fetchers:new Map(T.fetchers)}:{}))),K=++G,k.forEach((function(e){W.has(e.key)&&Te(e.key),e.controller&&W.set(e.key,e.controller)})),S=function(){return k.forEach((function(e){return Te(e.key)}))},I&&I.signal.addEventListener("abort",S),t.next=16,me(T.matches,i,w,k,n);case 16:if(E=t.sent,$=E.results,N=E.loaderResults,P=E.fetcherResults,!n.signal.aborted){t.next=22;break}return t.abrupt("return",{shortCircuited:!0});case 22:if(I&&I.signal.removeEventListener("abort",S),k.forEach((function(e){return W.delete(e.key)})),!(O=Ge($))){t.next=29;break}return t.next=28,pe(T,O,{replace:f});case 28:return t.abrupt("return",{shortCircuited:!0});case 29:return D=Be(T,i,w,N,p,k,P,X),R=D.loaderData,M=D.errors,X.forEach((function(e,t){e.subscribe((function(n){(n||e.done)&&X.delete(t)}))})),L=Ae(),j=Oe(K),q=L||j||k.length>0,t.abrupt("return",A({loaderData:R,errors:M},q?{fetchers:new Map(T.fetchers)}:{}));case 35:case"end":return t.stop()}}),t)}))),ce.apply(this,arguments)}function de(e){return T.fetchers.get(e)||_e}function fe(){return fe=S(x().mark((function n(r,i,a,o,f,h){var p,v,m,y,g,b,w,k,_,C,S,$,N,P,O,M,L,j,F,q,J,Z,ne,re,ie,ae,oe,ue;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(ge(),Y.delete(r),o.route.action||o.route.lazy){n.next=6;break}return p=We(405,{method:h.formMethod,pathname:a,routeId:i}),be(r,i,p),n.abrupt("return");case 6:return v=T.fetchers.get(r),m=ft(h,v),T.fetchers.set(r,m),ee({fetchers:new Map(T.fetchers)}),y=new AbortController,g=Le(e.history,a,y.signal,h),W.set(r,y),n.next=15,Re("action",g,o,f,s,t,c);case 15:if(b=n.sent,!g.signal.aborted){n.next=19;break}return W.get(r)===y&&W.delete(r),n.abrupt("return");case 19:if(!Xe(b)){n.next=26;break}return W.delete(r),Q.add(r),w=dt(h),T.fetchers.set(r,w),ee({fetchers:new Map(T.fetchers)}),n.abrupt("return",pe(T,b,{submission:h,isFetchActionRedirect:!0}));case 26:if(!Ye(b)){n.next=29;break}return be(r,i,b.error),n.abrupt("return");case 29:if(!Qe(b)){n.next=31;break}throw We(400,{type:"defer-action"});case 31:return k=T.navigation.location||T.location,_=Le(e.history,k,y.signal),C=u||l,R(S="idle"!==T.navigation.state?z(C,T.navigation.location,c):T.matches,"Didn't find any matches after fetcher action"),$=++G,H.set(r,$),N=dt(h,b.data),T.fetchers.set(r,N),P=Ne(e.history,T,S,h,k,U,B,V,Y,Q,C,c,E({},o.route.id,b.data),void 0),O=d(P,2),M=O[0],(L=O[1]).filter((function(e){return e.key!==r})).forEach((function(e){var t=e.key,n=T.fetchers.get(t),r=dt(void 0,n?n.data:void 0);T.fetchers.set(t,r),W.has(t)&&Te(t),e.controller&&W.set(t,e.controller)})),ee({fetchers:new Map(T.fetchers)}),j=function(){return L.forEach((function(e){return Te(e.key)}))},y.signal.addEventListener("abort",j),n.next=47,me(T.matches,S,M,L,_);case 47:if(F=n.sent,q=F.results,J=F.loaderResults,Z=F.fetcherResults,!y.signal.aborted){n.next=53;break}return n.abrupt("return");case 53:if(y.signal.removeEventListener("abort",j),H.delete(r),W.delete(r),L.forEach((function(e){return W.delete(e.key)})),!(ne=Ge(q))){n.next=60;break}return n.abrupt("return",pe(T,ne));case 60:re=Be(T,T.matches,M,J,void 0,L,Z,X),ie=re.loaderData,ae=re.errors,T.fetchers.has(r)&&(oe=ht(b.data),T.fetchers.set(r,oe)),ue=Oe($),"loading"===T.navigation.state&&$>K?(R(D,"Expected pending action"),I&&I.abort(),te(T.navigation.location,{matches:S,loaderData:ie,errors:ae,fetchers:new Map(T.fetchers)})):(ee(A({errors:ae,loaderData:Ve(T.loaderData,ie,S,ae)},ue||L.length>0?{fetchers:new Map(T.fetchers)}:{})),U=!1);case 64:case"end":return n.stop()}}),n)}))),fe.apply(this,arguments)}function he(){return he=S(x().mark((function n(r,i,a,o,u,l){var d,f,h,p,v,m,y;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d=T.fetchers.get(r),f=dt(l,d?d.data:void 0),T.fetchers.set(r,f),ee({fetchers:new Map(T.fetchers)}),h=new AbortController,p=Le(e.history,a,h.signal),W.set(r,h),n.next=9,Re("loader",p,o,u,s,t,c);case 9:if(!Qe(v=n.sent)){n.next=17;break}return n.next=13,it(v,p.signal,!0);case 13:if(n.t0=n.sent,n.t0){n.next=16;break}n.t0=v;case 16:v=n.t0;case 17:if(W.get(r)===h&&W.delete(r),!p.signal.aborted){n.next=20;break}return n.abrupt("return");case 20:if(!Xe(v)){n.next=25;break}return Q.add(r),n.next=24,pe(T,v);case 24:return n.abrupt("return");case 25:if(!Ye(v)){n.next=30;break}return m=qe(T.matches,i),T.fetchers.delete(r),ee({fetchers:new Map(T.fetchers),errors:E({},m.route.id,v.error)}),n.abrupt("return");case 30:R(!Qe(v),"Unhandled fetcher deferred data"),y=ht(v.data),T.fetchers.set(r,y),ee({fetchers:new Map(T.fetchers)});case 34:case"end":return n.stop()}}),n)}))),he.apply(this,arguments)}function pe(e,t,n){return ve.apply(this,arguments)}function ve(){return ve=S(x().mark((function t(a,o,u){var s,l,d,f,h,p,v,m,y,g;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=(s=void 0===u?{}:u).submission,d=s.replace,f=s.isFetchActionRedirect,o.revalidate&&(U=!0),R(h=j(a.location,o.location,A({_isRedirect:!0},f?{_isFetchActionRedirect:!0}:{})),"Expected a location on the redirect navigation"),!Ce.test(o.location)||!i){t.next=10;break}if(p=e.history.createURL(o.location),v=null==ie(p.pathname,c),n.location.origin===p.origin&&!v){t.next=10;break}return d?n.location.replace(o.location):n.location.assign(o.location),t.abrupt("return");case 10:if(I=null,m=!0===d?r.Replace:r.Push,y=l||st(a.navigation),!(we.has(o.status)&&y&&tt(y.formMethod))){t.next=18;break}return t.next=16,ae(m,h,{submission:A({},y,{formAction:o.location}),preventScrollReset:L});case 16:case 21:t.next=26;break;case 18:if(!f){t.next=23;break}return t.next=21,ae(m,h,{overrideNavigation:lt(h),fetcherSubmission:y,preventScrollReset:L});case 23:return g=lt(h,y),t.next=26,ae(m,h,{overrideNavigation:g,preventScrollReset:L});case 26:case"end":return t.stop()}}),t)}))),ve.apply(this,arguments)}function me(e,t,n,r,i){return ye.apply(this,arguments)}function ye(){return ye=S(x().mark((function n(r,i,a,o,u){var l,d,f;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([].concat(P(a.map((function(e){return Re("loader",u,e,i,s,t,c)}))),P(o.map((function(n){return n.matches&&n.match&&n.controller?Re("loader",Le(e.history,n.path,n.controller.signal),n.match,n.matches,s,t,c):{type:O.error,error:We(404,{pathname:n.path})}})))));case 2:return l=n.sent,d=l.slice(0,a.length),f=l.slice(a.length),n.next=7,Promise.all([nt(r,a,d,d.map((function(){return u.signal})),!1,T.loaderData),nt(r,o.map((function(e){return e.match})),f,o.map((function(e){return e.controller?e.controller.signal:null})),!0)]);case 7:return n.abrupt("return",{results:l,loaderResults:d,fetcherResults:f});case 8:case"end":return n.stop()}}),n)}))),ye.apply(this,arguments)}function ge(){var e;U=!0,(e=B).push.apply(e,P(Fe())),Y.forEach((function(e,t){W.has(t)&&(V.push(t),Te(t))}))}function be(e,t,n){var r=qe(T.matches,t);Ee(e),ee({errors:E({},r.route.id,n),fetchers:new Map(T.fetchers)})}function Ee(e){var t=T.fetchers.get(e);!W.has(e)||t&&"loading"===t.state&&H.has(e)||Te(e),Y.delete(e),H.delete(e),Q.delete(e),T.fetchers.delete(e)}function Te(e){var t=W.get(e);R(t,"Expected fetch controller: "+e),t.abort(),W.delete(e)}function Pe(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=ht(de(r).data);T.fetchers.set(r,i)}}catch(a){n.e(a)}finally{n.f()}}function Ae(){var e,t=[],n=!1,r=N(Q);try{for(r.s();!(e=r.n()).done;){var i=e.value,a=T.fetchers.get(i);R(a,"Expected fetcher: "+i),"loading"===a.state&&(Q.delete(i),t.push(i),n=!0)}}catch(o){r.e(o)}finally{r.f()}return Pe(t),n}function Oe(e){var t,n=[],r=N(H);try{for(r.s();!(t=r.n()).done;){var i=d(t.value,2),a=i[0];if(i[1]<e){var o=T.fetchers.get(a);R(o,"Expected fetcher: "+a),"loading"===o.state&&(Te(a),H.delete(a),n.push(a))}}}catch(u){r.e(u)}finally{r.f()}return Pe(n),n.length>0}function De(e){T.blockers.delete(e),J.delete(e)}function Me(e,t){var n=T.blockers.get(e)||xe;R("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);var r=new Map(T.blockers);r.set(e,t),ee({blockers:r})}function je(e){var t=e.currentLocation,n=e.nextLocation,r=e.historyAction;if(0!==J.size){J.size>1&&M(!1,"A router only supports one blocker at a time");var i=Array.from(J.entries()),a=d(i[i.length-1],2),o=a[0],u=a[1],s=T.blockers.get(o);if(!s||"proceeding"!==s.state)return u({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}}function Fe(e){var t=[];return X.forEach((function(n,r){e&&!e(r)||(n.cancel(),t.push(r),X.delete(r))})),t}function Ue(e,t){if(m){var n=m(e,t.map((function(e){return function(e,t){var n=e.route,r=e.pathname,i=e.params;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,T.loaderData)})));return n||e.key}return e.key}function Ke(e,t){if(v&&y){var n=Ue(e,t);v[n]=y()}}function Je(e,t){if(v){var n=Ue(e,t),r=v[n];if("number"===typeof r)return r}return null}return C={get basename(){return c},get state(){return T},get routes(){return l},initialize:function(){return h=e.history.listen((function(t){var n=t.action,r=t.location,i=t.delta;if(!Z){M(0===J.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");var a=je({currentLocation:T.location,nextLocation:r,historyAction:n});return a&&null!=i?(Z=!0,e.history.go(-1*i),void Me(a,{state:"blocked",location:r,proceed:function(){Me(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset:function(){var e=new Map(T.blockers);e.set(a,xe),ee({blockers:e})}})):ae(n,r)}Z=!1})),T.initialized||ae(r.Pop,T.location),C},subscribe:function(e){return p.add(e),function(){return p.delete(e)}},enableScrollRestoration:function(e,t,n){if(v=e,y=t,m=n||null,!g&&T.navigation===ke){g=!0;var r=Je(T.location,T.matches);null!=r&&ee({restoreScrollPosition:r})}return function(){v=null,y=null,m=null}},navigate:ne,fetch:function(e,t,n,r){if(a)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");W.has(e)&&Te(e);var i=u||l,o=Ie(T.location,T.matches,c,f.v7_prependBasename,n,t,null==r?void 0:r.relative),s=z(i,o,c);if(s){var d=$e(f.v7_normalizeFormMethod,!0,o,r),h=d.path,p=d.submission,v=d.error;if(v)be(e,t,v);else{var m=ut(s,h);L=!0===(r&&r.preventScrollReset),p&&tt(p.formMethod)?function(e,t,n,r,i,a){fe.apply(this,arguments)}(e,t,h,m,s,p):(Y.set(e,{routeId:t,path:h}),function(e,t,n,r,i,a){he.apply(this,arguments)}(e,t,h,m,s,p))}}else be(e,t,We(404,{pathname:o}))},revalidate:function(){ge(),ee({revalidation:"loading"}),"submitting"!==T.navigation.state&&("idle"!==T.navigation.state?ae(D||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation}):ae(T.historyAction,T.location,{startUninterruptedRevalidation:!0}))},createHref:function(t){return e.history.createHref(t)},encodeLocation:function(t){return e.history.encodeLocation(t)},getFetcher:de,deleteFetcher:Ee,dispose:function(){h&&h(),p.clear(),I&&I.abort(),T.fetchers.forEach((function(e,t){return Ee(t)})),T.blockers.forEach((function(e,t){return De(t)}))},getBlocker:function(e,t){var n=T.blockers.get(e)||xe;return J.get(e)!==t&&J.set(e,t),n},deleteBlocker:De,_internalFetchControllers:W,_internalActiveDeferreds:X,_internalSetRoutes:function(e){u=q(e,t,void 0,s={})}},C}Symbol("deferred");function Ie(e,t,n,r,i,a,o){var u,s;if(null!=a&&"path"!==o){u=[];var l,c=N(t);try{for(c.s();!(l=c.n()).done;){var d=l.value;if(u.push(d),d.route.id===a){s=d;break}}}catch(h){c.e(h)}finally{c.f()}}else u=t,s=t[t.length-1];var f=ue(i||".",oe(u).map((function(e){return e.pathnameBase})),ie(e.pathname,n)||e.pathname,"path"===o);return null==i&&(f.search=e.search,f.hash=e.hash),null!=i&&""!==i&&"."!==i||!s||!s.route.index||ot(f.search)||(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(f.pathname="/"===f.pathname?n:se([n,f.pathname])),F(f)}function $e(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!et(r.formMethod))return{path:n,error:We(405,{method:r.formMethod})};var i,a,o=function(){return{path:n,error:We(400,{type:"invalid-body"})}},u=r.formMethod||"get",s=e?u.toUpperCase():u.toLowerCase(),l=Ke(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!tt(s))return o();var c="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((function(e,t){var n=d(t,2);return""+e+n[0]+"="+n[1]+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:c}}}if("application/json"===r.formEncType){if(!tt(s))return o();try{var f="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch(v){return o()}}}if(R("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=je(r.formData),a=r.formData;else if(r.body instanceof FormData)i=je(r.body),a=r.body;else if(r.body instanceof URLSearchParams)a=Fe(i=r.body);else if(null==r.body)i=new URLSearchParams,a=new FormData;else try{a=Fe(i=new URLSearchParams(r.body))}catch(v){return o()}var h={formMethod:s,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:a,json:void 0,text:void 0};if(tt(h.formMethod))return{path:n,submission:h};var p=U(n);return t&&p.search&&ot(p.search)&&i.append("index",""),p.search="?"+i,{path:F(p),submission:h}}function Te(e,t){var n=e;if(t){var r=e.findIndex((function(e){return e.route.id===t}));r>=0&&(n=e.slice(0,r))}return n}function Ne(e,t,n,r,i,a,o,u,s,l,c,d,f,h){var p=h?Object.values(h)[0]:f?Object.values(f)[0]:void 0,v=e.createURL(t.location),m=e.createURL(i),y=h?Object.keys(h)[0]:void 0,g=Te(n,y).filter((function(e,n){if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,n){var r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||o.some((function(t){return t===e.route.id})))return!0;var i=t.matches[n],u=e;return Ae(e,A({currentUrl:v,currentParams:i.params,nextUrl:m,nextParams:u.params},r,{actionResult:p,defaultShouldRevalidate:a||v.pathname+v.search===m.pathname+m.search||v.search!==m.search||Pe(i,u)}))})),b=[];return s.forEach((function(e,i){if(n.some((function(t){return t.route.id===e.routeId}))){var o=z(c,e.path,d);if(o){var s=t.fetchers.get(i),f=s&&"idle"!==s.state&&void 0===s.data&&!l.has(i),h=ut(o,e.path);(u.includes(i)||f||Ae(h,A({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:a})))&&b.push({key:i,routeId:e.routeId,path:e.path,matches:o,match:h,controller:new AbortController})}else b.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null})}})),[g,b]}function Pe(e,t){var n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Ae(e,t){if(e.route.shouldRevalidate){var n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function Oe(e,t,n){return De.apply(this,arguments)}function De(){return De=S(x().mark((function e(t,n,r){var i,a,o,u,s,l;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.lazy){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.lazy();case 4:if(i=e.sent,t.lazy){e.next=7;break}return e.abrupt("return");case 7:for(u in R(a=r[t.id],"No route found in manifest"),o={},i)s=a[u],M(!(l=void 0!==s&&"hasErrorBoundary"!==u),'Route "'+a.id+'" has a static property "'+u+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+u+'" will be ignored.'),l||V.has(u)||(o[u]=i[u]);Object.assign(a,o),Object.assign(a,A({},n(a),{lazy:void 0}));case 13:case"end":return e.stop()}}),e)}))),De.apply(this,arguments)}function Re(e,t,n,r,i,a,o,u){return Me.apply(this,arguments)}function Me(){return Me=S(x().mark((function e(t,n,r,i,a,o,u,s){var l,c,d,f,h,p,v,m,y,g,b,w,k,_,C,S,E,I;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===s&&(s={}),f=function(e){var t,i=new Promise((function(e,n){return t=n}));return d=function(){return t()},n.signal.addEventListener("abort",d),Promise.race([e({request:n,params:r.params,context:s.requestContext}),i])},e.prev=2,h=r.route[t],!r.route.lazy){e.next=30;break}if(!h){e.next=12;break}return e.next=8,Promise.all([f(h),Oe(r.route,o,a)]);case 8:p=e.sent,c=p[0],e.next=28;break;case 12:return e.next=14,Oe(r.route,o,a);case 14:if(!(h=r.route[t])){e.next=21;break}return e.next=18,f(h);case 18:c=e.sent,e.next=28;break;case 21:if("action"!==t){e.next=27;break}throw v=new URL(n.url),m=v.pathname+v.search,We(405,{method:n.method,pathname:m,routeId:r.route.id});case 27:return e.abrupt("return",{type:O.data,data:void 0});case 28:e.next=39;break;case 30:if(h){e.next=36;break}throw y=new URL(n.url),We(404,{pathname:y.pathname+y.search});case 36:return e.next=38,f(h);case 38:c=e.sent;case 39:R(void 0!==c,"You defined "+("action"===t?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+t+"` function. Please return a value or `null`."),e.next=46;break;case 42:e.prev=42,e.t0=e.catch(2),l=O.error,c=e.t0;case 46:return e.prev=46,d&&n.signal.removeEventListener("abort",d),e.finish(46);case 49:if(!Ze(c)){e.next=74;break}if(g=c.status,!be.has(g)){e.next=59;break}if(R(b=c.headers.get("Location"),"Redirects returned/thrown from loaders/actions must have a Location header"),Ce.test(b)?s.isStaticRequest||(w=new URL(n.url),k=b.startsWith("//")?new URL(w.protocol+b):new URL(b),_=null!=ie(k.pathname,u),k.origin===w.origin&&_&&(b=k.pathname+k.search+k.hash)):b=Ie(new URL(n.url),i.slice(0,i.indexOf(r)+1),u,!0,b),!s.isStaticRequest){e.next=58;break}throw c.headers.set("Location",b),c;case 58:return e.abrupt("return",{type:O.redirect,status:g,location:b,revalidate:null!==c.headers.get("X-Remix-Revalidate")});case 59:if(!s.isRouteRequest){e.next=61;break}throw{type:l||O.data,response:c};case 61:if(!(S=c.headers.get("Content-Type"))||!/\bapplication\/json\b/.test(S)){e.next=68;break}return e.next=65,c.json();case 65:C=e.sent,e.next=71;break;case 68:return e.next=70,c.text();case 70:C=e.sent;case 71:if(l!==O.error){e.next=73;break}return e.abrupt("return",{type:l,error:new he(g,c.statusText,C),headers:c.headers});case 73:return e.abrupt("return",{type:O.data,data:C,statusCode:c.status,headers:c.headers});case 74:if(l!==O.error){e.next=76;break}return e.abrupt("return",{type:l,error:c});case 76:if(!Je(c)){e.next=78;break}return e.abrupt("return",{type:O.deferred,deferredData:c,statusCode:null==(E=c.init)?void 0:E.status,headers:(null==(I=c.init)?void 0:I.headers)&&new Headers(c.init.headers)});case 78:return e.abrupt("return",{type:O.data,data:c});case 79:case"end":return e.stop()}}),e,null,[[2,42,46,49]])}))),Me.apply(this,arguments)}function Le(e,t,n,r){var i=e.createURL(Ke(t)).toString(),a={signal:n};if(r&&tt(r.formMethod)){var o=r.formMethod,u=r.formEncType;a.method=o.toUpperCase(),"application/json"===u?(a.headers=new Headers({"Content-Type":u}),a.body=JSON.stringify(r.json)):"text/plain"===u?a.body=r.text:"application/x-www-form-urlencoded"===u&&r.formData?a.body=je(r.formData):a.body=r.formData}return new Request(i,a)}function je(e){var t,n=new URLSearchParams,r=N(e.entries());try{for(r.s();!(t=r.n()).done;){var i=d(t.value,2),a=i[0],o=i[1];n.append(a,"string"===typeof o?o:o.name)}}catch(u){r.e(u)}finally{r.f()}return n}function Fe(e){var t,n=new FormData,r=N(e.entries());try{for(r.s();!(t=r.n()).done;){var i=d(t.value,2),a=i[0],o=i[1];n.append(a,o)}}catch(u){r.e(u)}finally{r.f()}return n}function Ue(e,t,n,r,i){var a,o={},u=null,s=!1,l={};return n.forEach((function(n,c){var d=t[c].route.id;if(R(!Xe(n),"Cannot handle redirect results in processLoaderData"),Ye(n)){var f=qe(e,d),h=n.error;r&&(h=Object.values(r)[0],r=void 0),null==(u=u||{})[f.route.id]&&(u[f.route.id]=h),o[d]=void 0,s||(s=!0,a=pe(n.error)?n.error.status:500),n.headers&&(l[d]=n.headers)}else Qe(n)?(i.set(d,n.deferredData),o[d]=n.deferredData.data):o[d]=n.data,null==n.statusCode||200===n.statusCode||s||(a=n.statusCode),n.headers&&(l[d]=n.headers)})),r&&(u=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:u,statusCode:a||200,loaderHeaders:l}}function Be(e,t,n,r,i,a,o,u){for(var s=Ue(t,n,r,i,u),l=s.loaderData,c=s.errors,d=0;d<a.length;d++){var f=a[d],h=f.key,p=f.match,v=f.controller;R(void 0!==o&&void 0!==o[d],"Did not find corresponding fetcher result");var m=o[d];if(!v||!v.signal.aborted)if(Ye(m)){var y=qe(e.matches,null==p?void 0:p.route.id);c&&c[y.route.id]||(c=A({},c,E({},y.route.id,m.error))),e.fetchers.delete(h)}else if(Xe(m))R(!1,"Unhandled fetcher revalidation redirect");else if(Qe(m))R(!1,"Unhandled fetcher deferred data");else{var g=ht(m.data);e.fetchers.set(h,g)}}return{loaderData:l,errors:c}}function Ve(e,t,n,r){var i,a=A({},t),o=N(n);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.route.id;if(t.hasOwnProperty(s)?void 0!==t[s]&&(a[s]=t[s]):void 0!==e[s]&&u.route.loader&&(a[s]=e[s]),r&&r.hasOwnProperty(s))break}}catch(l){o.e(l)}finally{o.f()}return a}function qe(e,t){return(t?e.slice(0,e.findIndex((function(e){return e.route.id===t}))+1):P(e)).reverse().find((function(e){return!0===e.route.hasErrorBoundary}))||e[0]}function ze(e){var t=e.find((function(e){return e.index||!e.path||"/"===e.path}))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function We(e,t){var n=void 0===t?{}:t,r=n.pathname,i=n.routeId,a=n.method,o=n.type,u="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(u="Bad Request",a&&r&&i?s="You made a "+a+' request to "'+r+'" but did not provide a `loader` for route "'+i+'", so there is no way to handle the request.':"defer-action"===o?s="defer() is not supported in actions":"invalid-body"===o&&(s="Unable to encode submission body")):403===e?(u="Forbidden",s='Route "'+i+'" does not match URL "'+r+'"'):404===e?(u="Not Found",s='No route matches URL "'+r+'"'):405===e&&(u="Method Not Allowed",a&&r&&i?s="You made a "+a.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+i+'", so there is no way to handle the request.':a&&(s='Invalid request method "'+a.toUpperCase()+'"')),new he(e||500,u,new Error(s),!0)}function Ge(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if(Xe(n))return n}}function Ke(e){return F(A({},"string"===typeof e?U(e):e,{hash:""}))}function He(e,t){return e.pathname===t.pathname&&e.search===t.search&&(""===e.hash?""!==t.hash:e.hash===t.hash||""!==t.hash)}function Qe(e){return e.type===O.deferred}function Ye(e){return e.type===O.error}function Xe(e){return(e&&e.type)===O.redirect}function Je(e){var t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}function Ze(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function et(e){return ge.has(e.toLowerCase())}function tt(e){return me.has(e.toLowerCase())}function nt(e,t,n,r,i,a){return rt.apply(this,arguments)}function rt(){return rt=S(x().mark((function e(t,n,r,i,a,o){var u,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=x().mark((function e(u){var s,l,c,d,f;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r[u],l=n[u]){e.next=4;break}return e.abrupt("return","continue");case 4:if(c=t.find((function(e){return e.route.id===l.route.id})),d=null!=c&&!Pe(c,l)&&void 0!==(o&&o[l.route.id]),!Qe(s)||!a&&!d){e.next=11;break}return R(f=i[u],"Expected an AbortSignal for revalidating fetcher deferred result"),e.next=11,it(s,f,a).then((function(e){e&&(r[u]=e||r[u])}));case 11:case"end":return e.stop()}}),e)})),s=0;case 2:if(!(s<r.length)){e.next=10;break}return e.delegateYield(u(s),"t0",4);case 4:if("continue"!==e.t0){e.next=7;break}return e.abrupt("continue",7);case 7:s++,e.next=2;break;case 10:case"end":return e.stop()}}),e)}))),rt.apply(this,arguments)}function it(e,t,n){return at.apply(this,arguments)}function at(){return at=S(x().mark((function e(t,n,r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,t.deferredData.resolveData(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=14;break}return e.prev=7,e.abrupt("return",{type:O.data,data:t.deferredData.unwrappedData});case 11:return e.prev=11,e.t0=e.catch(7),e.abrupt("return",{type:O.error,error:e.t0});case 14:return e.abrupt("return",{type:O.data,data:t.deferredData.data});case 15:case"end":return e.stop()}}),e,null,[[7,11]])}))),at.apply(this,arguments)}function ot(e){return new URLSearchParams(e).getAll("index").some((function(e){return""===e}))}function ut(e,t){var n="string"===typeof t?U(t).search:t.search;if(e[e.length-1].route.index&&ot(n||""))return e[e.length-1];var r=oe(e);return r[r.length-1]}function st(e){var t=e.formMethod,n=e.formAction,r=e.formEncType,i=e.text,a=e.formData,o=e.json;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=a?{formMethod:t,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0}:void 0!==o?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}:void 0}function lt(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ct(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function dt(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}function ft(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0," _hasFetcherDoneAnything ":!0}}function ht(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function pt(){return pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pt.apply(this,arguments)}var vt=i.createContext(null);var mt=i.createContext(null);var yt=i.createContext(null);var gt=i.createContext(null);var bt=i.createContext(null);var wt=i.createContext({outlet:null,matches:[],isDataRoute:!1});var kt=i.createContext(null);function _t(){return null!=i.useContext(bt)}function xt(){return _t()||R(!1),i.useContext(bt).location}function Ct(e){i.useContext(gt).static||i.useLayoutEffect(e)}function St(){return i.useContext(wt).isDataRoute?function(){var e=Mt(Nt.UseNavigateStable).router,t=jt(Pt.UseNavigateStable),n=i.useRef(!1);Ct((function(){n.current=!0}));var r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,pt({fromRouteId:t},i)))}),[e,t]);return r}():function(){_t()||R(!1);var e=i.useContext(vt),t=i.useContext(gt),n=t.basename,r=t.navigator,a=i.useContext(wt).matches,o=xt().pathname,u=JSON.stringify(oe(a).map((function(e){return e.pathnameBase}))),s=i.useRef(!1);return Ct((function(){s.current=!0})),i.useCallback((function(t,i){if(void 0===i&&(i={}),s.current)if("number"!==typeof t){var a=ue(t,JSON.parse(u),o,"path"===i.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:se([n,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}else r.go(t)}),[n,r,u,o,e])}()}var Et=i.createContext(null);function It(e,t){var n=(void 0===t?{}:t).relative,r=i.useContext(wt).matches,a=xt().pathname,o=JSON.stringify(oe(r).map((function(e){return e.pathnameBase})));return i.useMemo((function(){return ue(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function $t(e,t,n){_t()||R(!1);var a,o=i.useContext(gt).navigator,u=i.useContext(wt).matches,s=u[u.length-1],l=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),d=(s&&s.route,xt());if(t){var f,h="string"===typeof t?U(t):t;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||R(!1),a=h}else a=d;var p=a.pathname||"/",v=z(e,{pathname:"/"===c?p:p.slice(c.length)||"/"});var m=Rt(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:se([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:se([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,n);return t&&m?i.createElement(bt.Provider,{value:{location:pt({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:r.Pop}},m):m}function Tt(){var e=function(){var e,t=i.useContext(kt),n=Lt(Pt.UseRouteError),r=jt(Pt.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=pe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}var Nt,Pt,At=i.createElement(Tt,null),Ot=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return m(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?i.createElement(wt.Provider,{value:this.props.routeContext},i.createElement(kt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(i.Component);function Dt(e){var t=e.routeContext,n=e.match,r=e.children,a=i.useContext(vt);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(wt.Provider,{value:t},r)}function Rt(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,u=null==(r=n)?void 0:r.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||R(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,r,a){var s=r.route.id?null==u?void 0:u[r.route.id]:null,l=null;n&&(l=r.route.errorElement||At);var c=t.concat(o.slice(0,a+1)),d=function(){var t;return t=s?l:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(Dt,{match:r,routeContext:{outlet:e,matches:c,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?i.createElement(Ot,{location:n.location,revalidation:n.revalidation,component:l,error:s,children:d(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):d()}),null)}function Mt(e){var t=i.useContext(vt);return t||R(!1),t}function Lt(e){var t=i.useContext(mt);return t||R(!1),t}function jt(e){var t=function(e){var t=i.useContext(wt);return t||R(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||R(!1),n.route.id}function Ft(){var e=Lt(Pt.UseLoaderData),t=jt(Pt.UseLoaderData);if(!e.errors||null==e.errors[t])return e.loaderData[t];console.error("You cannot `useLoaderData` in an errorElement (routeId: "+t+")")}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Nt||(Nt={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Pt||(Pt={}));var Ut,Bt=a.startTransition;function Vt(e){var t=e.fallbackElement,n=e.router,r=e.future,a=d(i.useState(n.state),2),o=a[0],u=a[1],s=(r||{}).v7_startTransition,l=i.useCallback((function(e){s&&Bt?Bt((function(){return u(e)})):u(e)}),[u,s]);i.useLayoutEffect((function(){return n.subscribe(l)}),[n,l]);var c=i.useMemo((function(){return{createHref:n.createHref,encodeLocation:n.encodeLocation,go:function(e){return n.navigate(e)},push:function(e,t,r){return n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})},replace:function(e,t,r){return n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})}}}),[n]),f=n.basename||"/",h=i.useMemo((function(){return{router:n,navigator:c,static:!1,basename:f}}),[n,c,f]);return i.createElement(i.Fragment,null,i.createElement(vt.Provider,{value:h},i.createElement(mt.Provider,{value:o},i.createElement(Gt,{basename:f,location:o.location,navigationType:o.historyAction,navigator:c},o.initialized?i.createElement(qt,{routes:n.routes,state:o}):t))),null)}function qt(e){return $t(e.routes,void 0,e.state)}function zt(e){var t=e.to,n=e.replace,r=e.state,a=e.relative;_t()||R(!1);var o=i.useContext(wt).matches,u=xt().pathname,s=St(),l=ue(t,oe(o).map((function(e){return e.pathnameBase})),u,"path"===a),c=JSON.stringify(l);return i.useEffect((function(){return s(JSON.parse(c),{replace:n,state:r,relative:a})}),[s,c,a,n,r]),null}function Wt(e){return function(e){var t=i.useContext(wt).outlet;return t?i.createElement(Et.Provider,{value:e},t):t}(e.context)}function Gt(e){var t=e.basename,n=void 0===t?"/":t,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,l=void 0===s?r.Pop:s,c=e.navigator,d=e.static,f=void 0!==d&&d;_t()&&R(!1);var h=n.replace(/^\/*/,"/"),p=i.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof u&&(u=U(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,b=void 0===g?"":g,w=v.hash,k=void 0===w?"":w,_=v.state,x=void 0===_?null:_,C=v.key,S=void 0===C?"default":C,E=i.useMemo((function(){var e=ie(y,h);return null==e?null:{location:{pathname:e,search:b,hash:k,state:x,key:S},navigationType:l}}),[h,y,b,k,x,S,l]);return null==E?null:i.createElement(gt.Provider,{value:p},i.createElement(bt.Provider,{children:o,value:E}))}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ut||(Ut={}));var Kt=new Promise((function(){}));i.Component;function Ht(e){var t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:i.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:i.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function Qt(){return Qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qt.apply(this,arguments)}function Yt(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var Xt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Jt(){var e,t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Qt({},t,{errors:Zt(t.errors)})),t}function Zt(e){if(!e)return null;for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=d(r[n],2),a=i[0],o=i[1];if(o&&"RouteErrorResponse"===o.__type)t[a]=new he(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){var u=new Error(o.message);u.stack="",t[a]=u}else t[a]=o}return t}a.startTransition;var en="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,tn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nn=i.forwardRef((function(e,t){var n,r=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,l=e.target,c=e.to,d=e.preventScrollReset,f=Yt(e,Xt),h=i.useContext(gt).basename,p=!1;if("string"===typeof c&&tn.test(c)&&(n=c,en))try{var v=new URL(window.location.href),m=c.startsWith("//")?new URL(v.protocol+c):new URL(c),y=ie(m.pathname,h);m.origin===v.origin&&null!=y?c=y+m.search+m.hash:p=!0}catch(w){}var g=function(e,t){var n=(void 0===t?{}:t).relative;_t()||R(!1);var r=i.useContext(gt),a=r.basename,o=r.navigator,u=It(e,{relative:n}),s=u.hash,l=u.pathname,c=u.search,d=l;return"/"!==a&&(d="/"===l?a:se([a,l])),o.createHref({pathname:d,search:c,hash:s})}(c,{relative:a}),b=function(e,t){var n=void 0===t?{}:t,r=n.target,a=n.replace,o=n.state,u=n.preventScrollReset,s=n.relative,l=St(),c=xt(),d=It(e,{relative:s});return i.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();var n=void 0!==a?a:F(c)===F(d);l(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[c,l,d,a,o,r,e,u,s])}(c,{replace:u,state:s,target:l,preventScrollReset:d,relative:a});return i.createElement("a",Qt({},f,{href:n||g,onClick:p||o?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:l}))}));var rn,an;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(rn||(rn={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(an||(an={}));var on=!1,un=!1,sn="${JSCORE_VERSION}",ln=function(e,t){if(!e)throw cn(t)},cn=function(e){return new Error("Firebase Database ("+sn+") INTERNAL ASSERT FAILED: "+e)},dn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},fn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=a>>2,d=(3&a)<<4|u>>4,f=(15&u)<<2|l>>6,h=63&l;s||(h=64,o||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(dn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new hn;var l=a<<2|o>>4;if(r.push(l),64!==u){var c=o<<4&240|u>>2;if(r.push(c),64!==s){var d=u<<6&192|s;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},hn=function(e){g(n,e);var t=_(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return m(n)}($(Error)),pn=function(e){var t=dn(e);return fn.encodeByteArray(t,!0)},vn=function(e){return pn(e).replace(/\./g,"")},mn=function(e){try{return fn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function yn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=yn(e[n],t[n]));return e}var gn=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},bn=function(){try{return gn()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAILJS_PUBLIC_KEY:"r-a4WdmKt1jr0njGg",REACT_APP_EMAILJS_SERVICE_KEY:"service_9k4k603",REACT_APP_EMAILJS_TEMPLATE_KEY:"template_wsaffu5",REACT_APP_FIREBASE_API_KEY:"AIzaSyDyUh44q0n5FfpE3h8xyVOBTHIJwR4NIPg",REACT_APP_VARIABLE:"value"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&mn(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},wn=function(){var e;return null===(e=bn())||void 0===e?void 0:e.config},kn=function(){function e(){var t=this;f(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return m(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function _n(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[vn(JSON.stringify({alg:"none",type:"JWT"})),vn(JSON.stringify(a)),""].join(".")}function xn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Cn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}function Sn(){return!0===on||!0===un}function En(){return!function(){var e,t=null===(e=bn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function In(){try{return"object"===typeof indexedDB}catch(e){return!1}}var $n=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(k(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(k(a),Tn.prototype.create),a}return m(n)}($(Error)),Tn=function(){function e(t,n,r){f(this,e),this.service=t,this.serviceName=n,this.errors=r}return m(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Nn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new $n(n,a,t)}}]),e}();var Nn=/\{\$([^}]+)}/g;function Pn(e){return JSON.parse(e)}function An(e){return JSON.stringify(e)}var On=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Pn(mn(a[0])||""),n=Pn(mn(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Dn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Rn(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Mn(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ln(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function jn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Fn(u)&&Fn(s)){if(!jn(u,s))return!1}else if(u!==s)return!1}for(var l=0,c=r;l<c.length;l++){var d=c[l];if(!n.includes(d))return!1}return!0}function Fn(e){return null!==e&&"object"===typeof e}var Un=function(){function e(){f(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return m(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var u,s,l=this.chain_[0],c=this.chain_[1],d=this.chain_[2],f=this.chain_[3],h=this.chain_[4],p=0;p<80;p++){p<40?p<20?(u=f^c&(d^f),s=1518500249):(u=c^d^f,s=1859775393):p<60?(u=c&d|f&(c|d),s=2400959708):(u=c^d^f,s=3395469782);var v=(l<<5|l>>>27)+u+h+s+n[p]&4294967295;h=f,f=d,d=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function Bn(e,t){var n=new Vn(e,t);return n.subscribe.bind(n)}var Vn=function(){function e(t,n){var r=this;f(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return m(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=N(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=qn),void 0===r.error&&(r.error=qn),void 0===r.complete&&(r.complete=qn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function qn(){}var zn=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Wn(e,t){return"".concat(e," failed: ").concat(t," argument ")}function Gn(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(Wn(e,t)+"must be a valid function.")}function Kn(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(Wn(e,t)+"must be a valid context object.")}var Hn=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Qn(e){return e&&e._delegate?e._delegate:e}var Yn=function(){function e(t,n,r){f(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return m(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Xn="[DEFAULT]",Jn=function(){function e(t,n){f(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return m(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new kn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Xn})}catch(s){}var t,n=N(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=d(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=S(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(P(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),P(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=N(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=d(i.value,2),s=u[0],l=u[1];r===this.normalizeInstanceIdentifier(s)&&l.resolve(a)}}catch(c){o.e(c)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Xn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn;return this.component?this.component.multipleInstances?e:Xn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Zn,er,tr=function(){function e(t){f(this,e),this.name=t,this.providers=new Map}return m(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Jn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),nr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(er||(er={}));var rr={debug:er.DEBUG,verbose:er.VERBOSE,info:er.INFO,warn:er.WARN,error:er.ERROR,silent:er.SILENT},ir=er.INFO,ar=(E(Zn={},er.DEBUG,"log"),E(Zn,er.VERBOSE,"log"),E(Zn,er.INFO,"info"),E(Zn,er.WARN,"warn"),E(Zn,er.ERROR,"error"),Zn),or=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ar[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ur=function(){function e(t){f(this,e),this.name=t,this._logLevel=ir,this._logHandler=or,this._userLogHandler=null,nr.push(this)}return m(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in er))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?rr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,er.DEBUG].concat(t)),this._logHandler.apply(this,[this,er.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,er.VERBOSE].concat(t)),this._logHandler.apply(this,[this,er.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,er.INFO].concat(t)),this._logHandler.apply(this,[this,er.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,er.WARN].concat(t)),this._logHandler.apply(this,[this,er.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,er.ERROR].concat(t)),this._logHandler.apply(this,[this,er.ERROR].concat(t))}}]),e}();function sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cr,dr,fr=function(e,t){return t.some((function(t){return e instanceof t}))};var hr=new WeakMap,pr=new WeakMap,vr=new WeakMap,mr=new WeakMap,yr=new WeakMap;var gr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return pr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||vr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function br(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(dr||(dr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(_r(this),n),kr(hr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return kr(e.apply(_r(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[_r(this),t].concat(r));return vr.set(a,t.sort?t.sort():[t]),kr(a)}}function wr(e){return"function"===typeof e?br(e):(e instanceof IDBTransaction&&function(e){if(!pr.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));pr.set(e,t)}}(e),fr(e,cr||(cr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,gr):e)}function kr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(kr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&hr.set(t,e)})).catch((function(){})),yr.set(t,e),t}(e);if(mr.has(e))return mr.get(e);var t=wr(e);return t!==e&&(mr.set(e,t),yr.set(t,e)),t}var _r=function(e){return yr.get(e)};var xr,Cr,Sr=["get","getKey","getAll","getAllKeys","count"],Er=["put","add","delete","clear"],Ir=new Map;function $r(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ir.get(t))return Ir.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Er.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Sr.includes(n))){var a=function(){var e=S(x().mark((function e(t){var a,o,u,s,l,c,d=arguments;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=d.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=d[c];return r&&(u=u.index(l.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ir.set(t,a),a}}}gr=function(e){return lr(lr({},e),{},{get:function(t,n,r){return $r(t,n)||e.get(t,n,r)},has:function(t,n){return!!$r(t,n)||e.has(t,n)}})}(gr);var Tr=function(){function e(t){f(this,e),this.container=t}return m(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Nr="@firebase/app",Pr="0.9.28",Ar=new ur("@firebase/app"),Or="[DEFAULT]",Dr=(E(xr={},Nr,"fire-core"),E(xr,"@firebase/app-compat","fire-core-compat"),E(xr,"@firebase/analytics","fire-analytics"),E(xr,"@firebase/analytics-compat","fire-analytics-compat"),E(xr,"@firebase/app-check","fire-app-check"),E(xr,"@firebase/app-check-compat","fire-app-check-compat"),E(xr,"@firebase/auth","fire-auth"),E(xr,"@firebase/auth-compat","fire-auth-compat"),E(xr,"@firebase/database","fire-rtdb"),E(xr,"@firebase/database-compat","fire-rtdb-compat"),E(xr,"@firebase/functions","fire-fn"),E(xr,"@firebase/functions-compat","fire-fn-compat"),E(xr,"@firebase/installations","fire-iid"),E(xr,"@firebase/installations-compat","fire-iid-compat"),E(xr,"@firebase/messaging","fire-fcm"),E(xr,"@firebase/messaging-compat","fire-fcm-compat"),E(xr,"@firebase/performance","fire-perf"),E(xr,"@firebase/performance-compat","fire-perf-compat"),E(xr,"@firebase/remote-config","fire-rc"),E(xr,"@firebase/remote-config-compat","fire-rc-compat"),E(xr,"@firebase/storage","fire-gcs"),E(xr,"@firebase/storage-compat","fire-gcs-compat"),E(xr,"@firebase/firestore","fire-fst"),E(xr,"@firebase/firestore-compat","fire-fst-compat"),E(xr,"fire-js","fire-js"),E(xr,"firebase","fire-js-all"),xr),Rr=new Map,Mr=new Map;function Lr(e,t){try{e.container.addComponent(t)}catch(n){Ar.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function jr(e,t){e.container.addOrOverwriteComponent(t)}function Fr(e){var t=e.name;if(Mr.has(t))return Ar.debug("There were multiple attempts to register component ".concat(t,".")),!1;Mr.set(t,e);var n,r=N(Rr.values());try{for(r.s();!(n=r.n()).done;){Lr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ur(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Br(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Or;Ur(e,t).clearInstance(n)}function Vr(){Mr.clear()}var qr=(E(Cr={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),E(Cr,"bad-app-name","Illegal App name: '{$appName}"),E(Cr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),E(Cr,"app-deleted","Firebase App named '{$appName}' already deleted"),E(Cr,"no-options","Need to provide options, when not being deployed to hosting via source."),E(Cr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),E(Cr,"invalid-log-argument","First argument to `onLog` must be null or a function."),E(Cr,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),E(Cr,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),E(Cr,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),E(Cr,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Cr),zr=new Tn("app","Firebase",qr),Wr=function(){function e(t,n,r){var i=this;f(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yn("app",(function(){return i}),"PUBLIC"))}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}]),e}(),Gr="10.8.1";function Kr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Or,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw zr.create("bad-app-name",{appName:String(i)});if(n||(n=wn()),!n)throw zr.create("no-options");var a=Rr.get(i);if(a){if(jn(n,a.options)&&jn(r,a.config))return a;throw zr.create("duplicate-app",{appName:i})}var o,u=new tr(i),s=N(Mr.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;u.addComponent(l)}}catch(d){s.e(d)}finally{s.f()}var c=new Wr(n,r,u);return Rr.set(i,c),c}function Hr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or,t=Rr.get(e);if(!t&&e===Or&&wn())return Kr();if(!t)throw zr.create("no-app",{appName:e});return t}function Qr(){return Array.from(Rr.values())}function Yr(e){return Xr.apply(this,arguments)}function Xr(){return(Xr=S(x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Rr.has(n)){e.next=6;break}return Rr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jr(e,t,n){var r,i=null!==(r=Dr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ar.warn(u.join(" "))}Fr(new Yn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Zr(e,t){if(null!==e&&"function"!==typeof e)throw zr.create("invalid-log-argument");!function(e,t){var n,r=N(nr);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=rr[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:er[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ei(e){var t;t=e,nr.forEach((function(e){e.setLogLevel(t)}))}var ti="firebase-heartbeat-database",ni=1,ri="firebase-heartbeat-store",ii=null;function ai(){return ii||(ii=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=kr(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(kr(u.result),e.oldVersion,e.newVersion,kr(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(ti,ni,{upgrade:function(e,t){if(0===t)try{e.createObjectStore(ri)}catch(n){console.warn(n)}}}).catch((function(e){throw zr.create("idb-open",{originalErrorMessage:e.message})}))),ii}function oi(e){return ui.apply(this,arguments)}function ui(){return ui=S(x().mark((function e(t){var n,r,i,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ai();case 3:return n=e.sent,r=n.transaction(ri),e.next=7,r.objectStore(ri).get(ci(t));case 7:return i=e.sent,e.next=10,r.done;case 10:return e.abrupt("return",i);case 13:e.prev=13,e.t0=e.catch(0),e.t0 instanceof $n?Ar.warn(e.t0.message):(a=zr.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ar.warn(a.message));case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),ui.apply(this,arguments)}function si(e,t){return li.apply(this,arguments)}function li(){return li=S(x().mark((function e(t,n){var r,i,a,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ai();case 3:return r=e.sent,i=r.transaction(ri,"readwrite"),a=i.objectStore(ri),e.next=8,a.put(n,ci(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof $n?Ar.warn(e.t0.message):(o=zr.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ar.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),li.apply(this,arguments)}function ci(e){return"".concat(e.name,"!").concat(e.options.appId)}var di=function(){function e(t){var n=this;f(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new mi(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return m(e,[{key:"triggerHeartbeat",value:function(){var e=S(x().mark((function e(){var t,n,r,i,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.container.getProvider("platform-logger").getImmediate(),i=r.getPlatformInfoString(),a=fi(),null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)){e.next=9;break}return e.next=6,this._heartbeatsCachePromise;case 6:if(this._heartbeatsCache=e.sent,null!=(null===(n=this._heartbeatsCache)||void 0===n?void 0:n.heartbeats)){e.next=9;break}return e.abrupt("return");case 9:if(this._heartbeatsCache.lastSentHeartbeatDate!==a&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===a}))){e.next=13;break}return e.abrupt("return");case 13:this._heartbeatsCache.heartbeats.push({date:a,agent:i});case 14:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=S(x().mark((function e(){var t,n,r,i,a,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(n=fi(),r=hi(this._heartbeatsCache.heartbeats),i=r.heartbeatsToSend,a=r.unsentEntries,o=vn(JSON.stringify({version:2,heartbeats:i})),this._heartbeatsCache.lastSentHeartbeatDate=n,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function fi(){return(new Date).toISOString().substring(0,10)}function hi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=N(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),yi(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),yi(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var pi,vi,mi=function(){function e(t){f(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return m(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=S(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(In()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(qi){t(qi)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=S(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,oi(this.app);case 9:if(!(null===(t=e.sent)||void 0===t?void 0:t.heartbeats)){e.next=14;break}return e.abrupt("return",t);case 14:return e.abrupt("return",{heartbeats:[]});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=S(x().mark((function e(t){var n,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",si(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=S(x().mark((function e(t){var n,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",si(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(P(r.heartbeats),P(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function yi(e){return vn(JSON.stringify({version:2,heartbeats:e})).length}pi="",Fr(new Yn("platform-logger",(function(e){return new Tr(e)}),"PRIVATE")),Fr(new Yn("heartbeat",(function(e){return new di(e)}),"PRIVATE")),Jr(Nr,Pr,pi),Jr(Nr,Pr,"esm2017"),Jr("fire-js","");var gi=function(){function e(t,n){var r=this;f(this,e),this._delegate=t,this.firebase=n,Lr(t,new Yn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Yr(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Or;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Or;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Lr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){jr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),bi=(E(vi={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),E(vi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),vi),wi=new Tn("app-compat","Firebase",bi);var ki=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Kr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Dn(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Jr,setLogLevel:ei,onLog:Zr,apps:null,SDK_VERSION:Gr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Fr(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw wi.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&yn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Dn(n,e=e||Or))throw wi.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(gi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){yn(n,e)},createSubscribe:Bn,ErrorFactory:Tn,deepExtend:yn}),n}(),_i=new ur("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){_i.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var xi=self.firebase.SDK_VERSION;xi&&xi.indexOf("LITE")>=0&&_i.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ci=ki;!function(e){Jr("@firebase/app-compat","0.2.28",e)}();Ci.registerVersion("firebase","10.8.1","app-compat");var Si="@firebase/database",Ei="1.0.3",Ii="";function $i(e){Ii=e}var Ti=function(){function e(t){f(this,e),this.domStorage_=t,this.prefix_="firebase:"}return m(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),An(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Pn(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Ni=function(){function e(){f(this,e),this.cache_={},this.isInMemoryStorage=!0}return m(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Dn(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Pi=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ti(t)}}catch(n){}return new Ni},Ai=Pi("localStorage"),Oi=Pi("sessionStorage"),Di=new ur("@firebase/database"),Ri=function(){var e=1;return function(){return e++}}(),Mi=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,ln(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Un;n.update(t);var r=n.digest();return fn.encodeByteArray(r)},Li=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?An(r):r,t+=" "}return t},ji=null,Fi=!0,Ui=function(e,t){ln(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Di.logLevel=er.VERBOSE,ji=Di.log.bind(Di),t&&Oi.set("logging_enabled",!0)):"function"===typeof e?ji=e:(ji=null,Oi.remove("logging_enabled"))},Bi=function(){if(!0===Fi&&(Fi=!1,null===ji&&!0===Oi.get("logging_enabled")&&Ui(!0)),ji){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Li.apply(null,t);ji(r)}},Vi=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Bi.apply(void 0,[e].concat(n))}},qi=function(){var e="FIREBASE INTERNAL ERROR: "+Li.apply(void 0,arguments);Di.error(e)},zi=function(){var e="FIREBASE FATAL ERROR: ".concat(Li.apply(void 0,arguments));throw Di.error(e),new Error(e)},Wi=function(){var e="FIREBASE WARNING: "+Li.apply(void 0,arguments);Di.warn(e)},Gi=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Ki="[MIN_NAME]",Hi="[MAX_NAME]",Qi=function(e,t){if(e===t)return 0;if(e===Ki||t===Hi)return-1;if(t===Ki||e===Hi)return 1;var n=ra(e),r=ra(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Yi=function(e,t){return e===t?0:e<t?-1:1},Xi=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+An(t))},Ji=function e(t){if("object"!==typeof t||null===t)return An(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=An(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},Zi=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ea(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var ta=function(e){ln(!Gi(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var s=u.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(s.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var na=new RegExp("^-?(0*)\\d{1,10}$"),ra=function(e){if(na.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},ia=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw Wi("Exception was thrown by user callback.",e),t}),Math.floor(0))}},aa=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},oa=function(){function e(t,n){var r=this;f(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return m(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Wi('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),ua=function(){function e(t,n,r){var i=this;f(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return m(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Bi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wi(e)}}]),e}(),sa=function(){function e(t){f(this,e),this.accessToken=t}return m(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();sa.OWNER="owner";var la="5",ca=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,da="ac",fa="websocket",ha="long_polling",pa=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];f(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ai.get("host:"+t)||this._host}return m(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ai.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function va(e,t,n){var r;if(ln("string"===typeof t,"typeof type must == string"),ln("object"===typeof n,"typeof params must == object"),t===fa)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ha)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return ea(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var ma=function(){function e(){f(this,e),this.counters_={}}return m(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Dn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return yn(void 0,this.counters_)}}]),e}(),ya={},ga={};function ba(e){var t=e.toString();return ya[t]||(ya[t]=new ma),ya[t]}var wa=function(){function e(t){f(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return m(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&ia((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),ka="start",_a=function(){function e(t,n,r,i,a,o,u){var s=this;f(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vi(t),this.stats_=ba(n),this.urlFn=function(e){return s.appCheckToken&&(e[da]=s.appCheckToken),va(n,ha,e)}}return m(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new wa(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Sn()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new xa((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===ka)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[ka]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=la,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[da]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&ca.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=An(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=pn(t),r=Zi(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Sn()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=An(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Sn()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),xa=function(){function e(t,n,r,i){if(f(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Sn())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Ri(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(u){Bi("frame writing exception"),u.stack&&Bi(u.stack),Bi(u)}}}return m(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Sn()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Bi("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Bi("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Ca=null;"undefined"!==typeof MozWebSocket?Ca=MozWebSocket:"undefined"!==typeof WebSocket&&(Ca=WebSocket);var Sa=function(){function e(t,n,r,i,a,o,u){f(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vi(this.connId),this.stats_=ba(n),this.connURL=e.connectionURL_(n,o,u,i,r),this.nodeAdmin=n.nodeAdmin}return m(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ai.set("previous_websocket_failure",!0);try{var r;if(Sn()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(la,"/").concat(Ii,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAILJS_PUBLIC_KEY:"r-a4WdmKt1jr0njGg",REACT_APP_EMAILJS_SERVICE_KEY:"service_9k4k603",REACT_APP_EMAILJS_TEMPLATE_KEY:"template_wsaffu5",REACT_APP_FIREBASE_API_KEY:"AIzaSyDyUh44q0n5FfpE3h8xyVOBTHIJwR4NIPg",REACT_APP_VARIABLE:"value"},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Ca(this.connURL,[],r)}catch(s){this.log_("Error instantiating WebSocket.");var u=s.message||s.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Ai.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Pn(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(ln(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=An(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Zi(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=la,!Sn()&&"undefined"!==typeof location&&location.hostname&&ca.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[da]=r),i&&(a.p=i),va(e,fa,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Ca&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Ai.isInMemoryStorage||!0===Ai.get("previous_websocket_failure")}}]),e}();Sa.responsesRequiredToBeHealthy=2,Sa.healthyTimeout=3e4;var Ea=function(){function e(t){f(this,e),this.initTransports_(t)}return m(e,[{key:"initTransports_",value:function(t){var n=Sa&&Sa.isAvailable(),r=n&&!Sa.previouslyFailed();if(t.webSocketOnly&&(n||Wi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Sa];else{var i,a=this.transports_=[],o=N(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var u=i.value;u&&u.isAvailable()&&a.push(u)}}catch(s){o.e(s)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[_a,Sa]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Ea.globalTransportInitialized_=!1;var Ia=function(){function e(t,n,r,i,a,o,u,s,l,c){f(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vi("c:"+this.id+":"),this.transportManager_=new Ea(n),this.log_("Connection created"),this.start_()}return m(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=aa((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Xi("t",e),n=Xi("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Xi("t",e),n=Xi("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Xi("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?qi("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qi("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),la!==n&&Wi("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),aa((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):aa((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ai.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),$a=function(){function e(){f(this,e)}return m(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Ta=function(){function e(t){f(this,e),this.allowedEvents_=t,this.listeners_={},ln(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return m(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=P(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){ln(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Na=function(e){g(n,e);var t=_(n);function n(){var e;return f(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Cn()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return m(n,[{key:"getInitialEvent",value:function(e){return ln("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Ta),Pa=32,Aa=768,Oa=function(){function e(t,n){if(f(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return m(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Da(){return new Oa("")}function Ra(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ma(e){return e.pieces_.length-e.pieceNum_}function La(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Oa(e.pieces_,t)}function ja(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Fa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Ua(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Oa(t,0)}function Ba(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Oa)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Oa(n,0)}function Va(e){return e.pieceNum_>=e.pieces_.length}function qa(e,t){var n=Ra(e),r=Ra(t);if(null===n)return t;if(n===r)return qa(La(e),La(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function za(e,t){for(var n=Fa(e,0),r=Fa(t,0),i=0;i<n.length&&i<r.length;i++){var a=Qi(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function Wa(e,t){if(Ma(e)!==Ma(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ga(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ma(e)>Ma(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ka=m((function e(t,n){f(this,e),this.errorPrefix_=n,this.parts_=Fa(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Hn(this.parts_[r]);Ha(this)}));function Ha(e){if(e.byteLength_>Aa)throw new Error(e.errorPrefix_+"has a key path longer than "+Aa+" bytes ("+e.byteLength_+").");if(e.parts_.length>Pa)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Pa+") or object contains a cycle "+Qa(e))}function Qa(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Ya=function(e){g(n,e);var t=_(n);function n(){var e,r,i;return f(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return m(n,[{key:"getInitialEvent",value:function(e){return ln("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Ta),Xa=1e3,Ja=function(e){g(n,e);var t=_(n);function n(e,r,i,a,o,u,s,l){var c;if(f(this,n),(c=t.call(this)).repoInfo_=e,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=a,c.onServerInfoUpdate_=o,c.authTokenProvider_=u,c.appCheckTokenProvider_=s,c.authOverride_=l,c.id=n.nextPersistentConnectionId_++,c.log_=Vi("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=Xa,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!Sn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Ya.getInstance().on("visible",c.onVisible_,k(c)),-1===e.host.indexOf("fblocal")&&Na.getInstance().on("online",c.onOnline_,k(c)),c}return m(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(An(i)),ln(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new kn,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),ln(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ln(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var u=o.d,s=o.s;n.warnOnListenWarnings_(u,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(i,a),e.onComplete&&e.onComplete(s,u))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=On(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=On(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ln(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+An(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):qi("Unrecognized action received from server: "+An(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;ln(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Xa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Xa),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=S(x().mark((function e(){var t,r,i,a,o,u,s,l,c,f,h,p,v,m,y=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,u=!1,s=null,l=function(){s?s.close():(u=!0,i())},c=function(e){ln(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)},this.realtime_={close:l,sendRequest:c},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:h=e.sent,p=d(h,2),v=p[0],m=p[1],u?Bi("getToken() completed but was canceled"):(Bi("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,s=new Ia(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){Wi(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),u||(this.repoInfo_.nodeAdmin&&Wi(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){Bi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){Bi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Mn(this.interruptReasons_)&&(this.reconnectDelay_=Xa,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return Ji(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Oa(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){Bi("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){Bi("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=N(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=N(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(s){r.e(s)}finally{r.f()}}}catch(s){t.e(s)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Sn()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Ii.replace(/\./g,"-")]=1,Cn()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Na.getInstance().currentlyOnline();return Mn(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Dn(e,"w")){var n=Rn(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Wi("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}($a);Ja.nextPersistentConnectionId_=0,Ja.nextConnectionId_=0;var Za,eo=function(){function e(t,n){f(this,e),this.name=t,this.node=n}return m(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),to=function(){function e(){f(this,e)}return m(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new eo(Ki,e),r=new eo(Ki,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return eo.MIN}}]),e}(),no=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"compare",value:function(e,t){return Qi(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw cn("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return eo.MIN}},{key:"maxPost",value:function(){return new eo(Hi,Za)}},{key:"makePost",value:function(e,t){return ln("string"===typeof e,"KeyIndex indexValue must always be a string."),new eo(e,Za)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Za},set:function(e){Za=e}}]),n}(to),ro=new no,io=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;f(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return m(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),ao=function(){function e(t,n,r,i,a){f(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:so.EMPTY_NODE,this.right=null!=a?a:so.EMPTY_NODE}return m(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return so.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return so.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();ao.RED=!0,ao.BLACK=!1;var oo,uo=function(){function e(){f(this,e)}return m(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ao(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),so=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;f(this,e),this.comparator_=t,this.root_=n}return m(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ao.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ao.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new io(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new io(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new io(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new io(this.root_,null,this.comparator_,!0,e)}}]),e}();function lo(e,t){return Qi(e.name,t.name)}function co(e,t){return Qi(e,t)}so.EMPTY_NODE=new uo;var fo,ho,po,vo=function(e){return"number"===typeof e?"number:"+ta(e):"string:"+e},mo=function(e){if(e.isLeafNode()){var t=e.val();ln("string"===typeof t||"number"===typeof t||"object"===typeof t&&Dn(t,".sv"),"Priority must be a string or number.")}else ln(e===oo||e.isEmpty(),"priority of unexpected type.");ln(e===oo||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},yo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;f(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ln(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),mo(this.priorityNode_)}return m(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Va(t)?this:".priority"===Ra(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Ra(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(ln(".priority"!==r||1===Ma(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(La(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+vo(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?ta(this.value_):this.value_,this.lazyHash_=Mi(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(ln(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return ln(i>=0,"Unknown leaf type: "+n),ln(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return fo},set:function(e){fo=e}}]),e}();yo.VALUE_TYPE_ORDER=["object","boolean","number","string"];var go,bo,wo=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Qi(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return eo.MIN}},{key:"maxPost",value:function(){return new eo(Hi,new yo("[PRIORITY-POST]",po))}},{key:"makePost",value:function(e,t){var n=ho(e);return new eo(t,new yo("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(to),ko=new wo,_o=Math.log(2),xo=function(){function e(t){f(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/_o,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return m(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Co=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,u=i-r;if(0===u)return null;if(1===u)return a=e[r],o=n?n(a):a,new ao(o,a.node,ao.BLACK,null,null);var s=parseInt(u/2,10)+r,l=t(r,s),c=t(s+1,i);return a=e[s],o=n?n(a):a,new ao(o,a.node,ao.BLACK,l,c)},a=function(t){for(var r=null,a=null,o=e.length,u=function(t,r){var a=o-t,u=o;o-=t;var l=i(a+1,u),c=e[a],d=n?n(c):c;s(new ao(d,c.node,r,null,l))},s=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),d=Math.pow(2,t.count-(l+1));c?u(d,ao.BLACK):(u(d,ao.BLACK),u(d,ao.RED))}return a}(new xo(e.length));return new so(r||t,a)},So={},Eo=function(){function e(t,n){f(this,e),this.indexes_=t,this.indexSet_=n}return m(e,[{key:"get",value:function(e){var t=Rn(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof so?t:null}},{key:"hasIndex",value:function(e){return Dn(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){ln(t!==ro,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(eo.Wrap),u=o.getNext();u;)a=a||t.isDefinedOn(u.node),i.push(u),u=o.getNext();r=a?Co(i,t.getCompare()):So;var s=t.toString(),l=Object.assign({},this.indexSet_);l[s]=t;var c=Object.assign({},this.indexes_);return c[s]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Ln(this.indexes_,(function(e,i){var a=Rn(r.indexSet_,i);if(ln(a,"Missing index implementation for "+i),e===So){if(a.isDefinedOn(t.node)){for(var o=[],u=n.getIterator(eo.Wrap),s=u.getNext();s;)s.name!==t.name&&o.push(s),s=u.getNext();return o.push(t),Co(o,a.getCompare())}return So}var l=n.get(t.name),c=e;return l&&(c=c.remove(new eo(t.name,l))),c.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Ln(this.indexes_,(function(e){if(e===So)return e;var r=n.get(t.name);return r?e.remove(new eo(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return ln(So&&ko,"ChildrenNode.ts has not been loaded"),go=go||new e({".priority":So},{".priority":ko})}}]),e}(),Io=function(){function e(t,n,r){f(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&mo(this.priorityNode_),this.children_.isEmpty()&&ln(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return m(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||bo}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?bo:t}},{key:"getChild",value:function(e){var t=Ra(e);return null===t?this:this.getImmediateChild(t).getChild(La(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(ln(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new eo(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?bo:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Ra(e);if(null===n)return t;ln(".priority"!==Ra(e)||1===Ma(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(La(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(ko,(function(o,u){n[o]=u.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var u in n)o[u]=n[u];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+vo(this.getPriority().val())+":"),this.forEachChild(ko,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Mi(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new eo(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new eo(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new eo(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,eo.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,eo.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$o?-1:0}},{key:"withIndex",value:function(t){if(t===ro||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===ro||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(ko),r=t.getIterator(ko),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===ro?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return bo||(bo=new e(new so(co),null,Eo.Default))}}]),e}();Io.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var $o=new(function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.call(this,new so(co),Io.EMPTY_NODE,Eo.Default)}return m(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Io.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Io));Object.defineProperties(eo,{MIN:{value:new eo(Ki,Io.EMPTY_NODE)},MAX:{value:new eo(Hi,$o)}}),no.__EMPTY_NODE=Io.EMPTY_NODE,yo.__childrenNodeConstructor=Io,oo=$o,function(e){po=e}($o);var To=!0;function No(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Io.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),ln(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new yo(e,No(t));if(e instanceof Array||!To){var n=Io.EMPTY_NODE;return ea(e,(function(t,r){if(Dn(e,t)&&"."!==t.substring(0,1)){var i=No(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(No(t))}var r=[],i=!1;if(ea(e,(function(e,t){if("."!==e.substring(0,1)){var n=No(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new eo(e,n)))}})),0===r.length)return Io.EMPTY_NODE;var a=Co(r,lo,(function(e){return e.name}),co);if(i){var o=Co(r,ko.getCompare());return new Io(a,No(t),new Eo({".priority":o},{".priority":ko}))}return new Io(a,No(t),Eo.Default)}!function(e){ho=e}(No);var Po=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).indexPath_=e,ln(!Va(e)&&".priority"!==Ra(e),"Can't create PathIndex with empty path or .priority key"),r}return m(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Qi(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=No(e),r=Io.EMPTY_NODE.updateChild(this.indexPath_,n);return new eo(t,r)}},{key:"maxPost",value:function(){var e=Io.EMPTY_NODE.updateChild(this.indexPath_,$o);return new eo(Hi,e)}},{key:"toString",value:function(){return Fa(this.indexPath_,0).join("/")}}]),n}(to),Ao=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?Qi(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return eo.MIN}},{key:"maxPost",value:function(){return eo.MAX}},{key:"makePost",value:function(e,t){var n=No(e);return new eo(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(to),Oo=new Ao;function Do(e){return{type:"value",snapshotNode:e}}function Ro(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Mo(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Lo(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var jo=function(){function e(t){f(this,e),this.index_=t}return m(e,[{key:"updateChild",value:function(e,t,n,r,i,a){ln(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Mo(t,o)):ln(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Ro(t,n)):a.trackChildChange(Lo(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ko,(function(e,r){t.hasChild(e)||n.trackChildChange(Mo(e,r))})),t.isLeafNode()||t.forEachChild(ko,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Lo(t,r,i))}else n.trackChildChange(Ro(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?Io.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),Fo=function(){function e(t){f(this,e),this.indexedFilter_=new jo(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return m(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new eo(t,n))||(n=Io.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=Io.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Io.EMPTY_NODE);var i=this;return t.forEachChild(ko,(function(e,t){i.matches(new eo(e,t))||(r=r.updateImmediateChild(e,Io.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),Uo=function(){function e(t){var n=this;f(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Fo(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return m(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new eo(t,n))||(n=Io.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Io.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=Io.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var u;r=(r=t.withIndex(this.index_)).updatePriority(Io.EMPTY_NODE),u=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var s=0;u.hasNext();){var l=u.getNext();s<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?s++:r=r.updateImmediateChild(l.name,Io.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var u=e;ln(u.numChildren()===this.limit_,"");var s=new eo(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),c=this.rangedFilter_.matches(s);if(u.hasChild(t)){for(var d=u.getImmediateChild(t),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===t||u.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var h=null==f?1:a(f,s);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(Lo(t,n,d)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Mo(t,d));var p=u.updateImmediateChild(t,Io.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(Ro(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:c&&a(l,s)>=0?(null!=i&&(i.trackChildChange(Mo(l.name,l.node)),i.trackChildChange(Ro(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,Io.EMPTY_NODE)):e}}]),e}(),Bo=function(){function e(){f(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ko}return m(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return ln(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return ln(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ki}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return ln(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return ln(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hi}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return ln(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===ko}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Vo(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function qo(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function zo(e,t){var n=e.copy();return n.index_=t,n}function Wo(e){var t,n={};if(e.isDefault())return n;if(e.index_===ko?t="$priority":e.index_===Oo?t="$value":e.index_===ro?t="$key":(ln(e.index_ instanceof Po,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=An(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=An(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+An(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=An(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+An(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function Go(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ko&&(t.i=e.index_.toString()),t}var Ko=function(e){g(n,e);var t=_(n);function n(e,r,i,a){var o;return f(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=Vi("p:rest:"),o.listens_={},o}return m(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var u=n.getListenId_(e,r),s={};this.listens_[u]=s;var l=Wo(e._queryParams);this.restRequest_(o+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Rn(a.listens_,u)===s)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Wo(e._queryParams),r=e._path.toString(),i=new kn;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=d(i,2),o=a[0],u=a[1];o&&o.accessToken&&(n.auth=o.accessToken),u&&u.token&&(n.ac=u.token);var s=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+function(e){for(var t=[],n=function(){var e=d(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}(n);t.log_("Sending REST request for "+s);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+s+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Pn(l.responseText)}catch(n){Wi("Failed to parse JSON response for "+s+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&Wi("Got unsuccessful REST response for "+s+" Status: "+l.status),r(l.status);r=null}},l.open("GET",s,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(ln(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}($a),Ho=function(){function e(){f(this,e),this.rootNode_=Io.EMPTY_NODE}return m(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Qo(){return{value:null,children:new Map}}function Yo(e,t,n){if(Va(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Ra(t);e.children.has(r)||e.children.set(r,Qo()),Yo(e.children.get(r),t=La(t),n)}}function Xo(e,t){if(Va(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(ko,(function(t,n){Yo(e,new Oa(t),n)})),Xo(e,t)}if(e.children.size>0){var r=Ra(t);if(t=La(t),e.children.has(r))Xo(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Jo(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Jo(r,new Oa(t.toString()+"/"+e),n)}))}var Zo,eu=function(){function e(t){f(this,e),this.collection_=t,this.last_=null}return m(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ea(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),tu=function(){function e(t,n){f(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new eu(t);var r=1e4+2e4*Math.random();aa(this.reportStats_.bind(this),Math.floor(r))}return m(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;ea(t,(function(t,i){i>0&&Dn(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),aa(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function nu(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Zo||(Zo={}));var ru,iu=function(){function e(t,n,r){f(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Zo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return m(e,[{key:"operationForChild",value:function(t){if(Va(this.path)){if(null!=this.affectedTree.value)return ln(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Oa(t));return new e(Da(),n,this.revert)}return ln(Ra(this.path)===t,"operationForChild called for unrelated child."),new e(La(this.path),this.affectedTree,this.revert)}}]),e}(),au=function(){function e(t,n){f(this,e),this.source=t,this.path=n,this.type=Zo.LISTEN_COMPLETE}return m(e,[{key:"operationForChild",value:function(t){return Va(this.path)?new e(this.source,Da()):new e(this.source,La(this.path))}}]),e}(),ou=function(){function e(t,n,r){f(this,e),this.source=t,this.path=n,this.snap=r,this.type=Zo.OVERWRITE}return m(e,[{key:"operationForChild",value:function(t){return Va(this.path)?new e(this.source,Da(),this.snap.getImmediateChild(t)):new e(this.source,La(this.path),this.snap)}}]),e}(),uu=function(){function e(t,n,r){f(this,e),this.source=t,this.path=n,this.children=r,this.type=Zo.MERGE}return m(e,[{key:"operationForChild",value:function(t){if(Va(this.path)){var n=this.children.subtree(new Oa(t));return n.isEmpty()?null:n.value?new ou(this.source,Da(),n.value):new e(this.source,Da(),n)}return ln(Ra(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,La(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),su=function(){function e(t,n,r){f(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return m(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Va(e))return this.isFullyInitialized()&&!this.filtered_;var t=Ra(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),lu=m((function e(t){f(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function cu(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw cn("Should only compare child_ events.");var r=new eo(t.childName,t.snapshotNode),i=new eo(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function du(e,t){return{eventCache:e,serverCache:t}}function fu(e,t,n,r){return du(new su(t,n,r),e.serverCache)}function hu(e,t,n,r){return du(e.eventCache,new su(t,n,r))}function pu(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function vu(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var mu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(ru||(ru=new so(Yi)),ru);f(this,e),this.value=t,this.children=n}return m(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Da(),value:this.value};if(Va(e))return null;var n=Ra(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(La(e),t);return null!=i?{path:Ba(new Oa(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Va(t))return this;var n=Ra(t),r=this.children.get(n);return null!==r?r.subtree(La(t)):new e(null)}},{key:"set",value:function(t,n){if(Va(t))return new e(n,this.children);var r=Ra(t),i=(this.children.get(r)||new e(null)).set(La(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Va(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Ra(t),r=this.children.get(n);if(r){var i,a=r.remove(La(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Va(e))return this.value;var t=Ra(e),n=this.children.get(t);return n?n.get(La(e)):null}},{key:"setTree",value:function(t,n){if(Va(t))return n;var r,i=Ra(t),a=(this.children.get(i)||new e(null)).setTree(La(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Da(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Ba(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Da(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Va(e))return null;var i=Ra(e),a=this.children.get(i);return a?a.findOnPath_(La(e),Ba(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Da(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Va(t))return this;this.value&&r(n,this.value);var i=Ra(t),a=this.children.get(i);return a?a.foreachOnPath_(La(t),Ba(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Da(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Ba(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return ea(t,(function(e,t){n=n.set(new Oa(e),t)})),n}}]),e}(),yu=function(){function e(t){f(this,e),this.writeTree_=t}return m(e,null,[{key:"empty",value:function(){return new e(new mu(null))}}]),e}();function gu(e,t,n){if(Va(t))return new yu(new mu(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=qa(i,t);return a=a.updateChild(o,n),new yu(e.writeTree_.set(i,a))}var u=new mu(n),s=e.writeTree_.setTree(t,u);return new yu(s)}function bu(e,t,n){var r=e;return ea(n,(function(e,n){r=gu(r,Ba(t,e),n)})),r}function wu(e,t){if(Va(t))return yu.empty();var n=e.writeTree_.setTree(t,new mu(null));return new yu(n)}function ku(e,t){return null!=_u(e,t)}function _u(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(qa(n.path,t)):null}function xu(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ko,(function(e,n){t.push(new eo(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new eo(e,n.value))})),t}function Cu(e,t){if(Va(t))return e;var n=_u(e,t);return new yu(null!=n?new mu(n):e.writeTree_.subtree(t))}function Su(e){return e.writeTree_.isEmpty()}function Eu(e,t){return Iu(Da(),e.writeTree_,t)}function Iu(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(ln(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Iu(Ba(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ba(e,".priority"),r)),n}function $u(e,t){return Bu(t,e)}function Tu(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));ln(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var u=e.allWrites[o];u.visible&&(o>=n&&Nu(u,r.path)?i=!1:Ga(r.path,u.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Au(e.allWrites,Pu,Da()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=wu(e.visibleWrites,r.path):ea(r.children,(function(t){e.visibleWrites=wu(e.visibleWrites,Ba(r.path,t))}));return!0}return!1}function Nu(e,t){if(e.snap)return Ga(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ga(Ba(e.path,n),t))return!0;return!1}function Pu(e){return e.visible}function Au(e,t,n){for(var r=yu.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,u=void 0;if(a.snap)Ga(n,o)?r=gu(r,u=qa(n,o),a.snap):Ga(o,n)&&(u=qa(o,n),r=gu(r,Da(),a.snap.getChild(u)));else{if(!a.children)throw cn("WriteRecord should have .snap or .children");if(Ga(n,o))r=bu(r,u=qa(n,o),a.children);else if(Ga(o,n))if(Va(u=qa(o,n)))r=bu(r,Da(),a.children);else{var s=Rn(a.children,Ra(u));if(s){var l=s.getChild(La(u));r=gu(r,Da(),l)}}}}}return r}function Ou(e,t,n,r,i){if(r||i){var a=Cu(e.visibleWrites,t);if(!i&&Su(a))return n;if(i||null!=n||ku(a,Da())){return Eu(Au(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ga(e.path,t)||Ga(t,e.path))}),t),n||Io.EMPTY_NODE)}return null}var o=_u(e.visibleWrites,t);if(null!=o)return o;var u=Cu(e.visibleWrites,t);return Su(u)?n:null!=n||ku(u,Da())?Eu(u,n||Io.EMPTY_NODE):null}function Du(e,t,n,r){return Ou(e.writeTree,e.treePath,t,n,r)}function Ru(e,t){return function(e,t,n){var r=Io.EMPTY_NODE,i=_u(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ko,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Cu(e.visibleWrites,t);return n.forEachChild(ko,(function(e,t){var n=Eu(Cu(a,new Oa(e)),t);r=r.updateImmediateChild(e,n)})),xu(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return xu(Cu(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Mu(e,t,n,r){return function(e,t,n,r,i){ln(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Ba(t,n);if(ku(e.visibleWrites,a))return null;var o=Cu(e.visibleWrites,a);return Su(o)?i.getChild(n):Eu(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Lu(e,t){return function(e,t){return _u(e.visibleWrites,t)}(e.writeTree,Ba(e.treePath,t))}function ju(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var u,s=Cu(e.visibleWrites,t),l=_u(s,Da());if(null!=l)u=l;else{if(null==n)return[];u=Eu(s,n)}if((u=u.withIndex(o)).isEmpty()||u.isLeafNode())return[];for(var c=[],d=o.getCompare(),f=a?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o),h=f.getNext();h&&c.length<i;)0!==d(h,r)&&c.push(h),h=f.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function Fu(e,t,n){return function(e,t,n,r){var i=Ba(t,n),a=_u(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Eu(Cu(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Uu(e,t){return Bu(Ba(e.treePath,t),e.writeTree)}function Bu(e,t){return{treePath:e,writeTree:t}}var Vu=function(){function e(){f(this,e),this.changeMap=new Map}return m(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;ln("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ln(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Lo(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Mo(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Ro(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw cn("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Lo(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),qu=new(function(){function e(){f(this,e)}return m(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),zu=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return m(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new su(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fu(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:vu(this.viewCache_),i=ju(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Wu(e,t,n,r,i){var a,o,u=new Vu;if(n.type===Zo.OVERWRITE){var s=n;s.source.fromUser?a=Hu(e,t,s.path,s.snap,r,i,u):(ln(s.source.fromServer,"Unknown source."),o=s.source.tagged||t.serverCache.isFiltered()&&!Va(s.path),a=Ku(e,t,s.path,s.snap,r,i,o,u))}else if(n.type===Zo.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var u=t;return r.foreach((function(r,s){var l=Ba(n,r);Qu(t,Ra(l))&&(u=Hu(e,u,l,s,i,a,o))})),r.foreach((function(r,s){var l=Ba(n,r);Qu(t,Ra(l))||(u=Hu(e,u,l,s,i,a,o))})),u}(e,t,l.path,l.children,r,i,u):(ln(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=Xu(e,t,l.path,l.children,r,i,o,u))}else if(n.type===Zo.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=Lu(r,n))return t;var u,s=new zu(r,t,i),l=t.eventCache.getNode();if(Va(n)||".priority"===Ra(n)){var c;if(t.serverCache.isFullyInitialized())c=Du(r,vu(t));else{var d=t.serverCache.getNode();ln(d instanceof Io,"serverChildren would be complete if leaf node"),c=Ru(r,d)}u=e.filter.updateFullNode(l,c,a)}else{var f=Ra(n),h=Fu(r,f,t.serverCache);null==h&&t.serverCache.isCompleteForChild(f)&&(h=l.getImmediateChild(f)),(u=null!=h?e.filter.updateChild(l,f,h,La(n),s,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(l,f,Io.EMPTY_NODE,La(n),s,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Du(r,vu(t))).isLeafNode()&&(u=e.filter.updateFullNode(u,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Lu(r,Da()),fu(t,u,o,e.filter.filtersNodes())}(e,t,c.path,r,i,u):function(e,t,n,r,i,a,o){if(null!=Lu(i,n))return t;var u=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(Va(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return Ku(e,t,n,s.getNode().getChild(n),i,a,u,o);if(Va(n)){var l=new mu(null);return s.getNode().forEachChild(ro,(function(e,t){l=l.set(new Oa(e),t)})),Xu(e,t,n,l,i,a,u,o)}return t}var c=new mu(null);return r.foreach((function(e,t){var r=Ba(n,e);s.isCompleteForPath(r)&&(c=c.set(e,s.getNode().getChild(r)))})),Xu(e,t,n,c,i,a,u,o)}(e,t,c.path,c.affectedTree,r,i,u)}else{if(n.type!==Zo.LISTEN_COMPLETE)throw cn("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=hu(t,a.getNode(),a.isFullyInitialized()||Va(n),a.isFiltered());return Gu(e,o,n,r,qu,i)}(e,t,n.path,r,u)}var d=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=pu(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Do(pu(t)))}}(t,a,d),{viewCache:a,changes:d}}function Gu(e,t,n,r,i,a){var o,u,s=t.eventCache;if(null!=Lu(r,n))return t;if(Va(n))if(ln(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=vu(t),c=Ru(r,l instanceof Io?l:Io.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var d=Du(r,vu(t));o=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{var f=Ra(n);if(".priority"===f){ln(1===Ma(n),"Can't have a priority with additional path components");var h=s.getNode(),p=Mu(r,n,h,u=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(h,p):s.getNode()}else{var v,m=La(n);if(s.isCompleteForChild(f)){u=t.serverCache.getNode();var y=Mu(r,n,s.getNode(),u);v=null!=y?s.getNode().getImmediateChild(f).updateChild(m,y):s.getNode().getImmediateChild(f)}else v=Fu(r,f,t.serverCache);o=null!=v?e.filter.updateChild(s.getNode(),f,v,m,i,a):s.getNode()}}return fu(t,o,s.isFullyInitialized()||Va(n),e.filter.filtersNodes())}function Ku(e,t,n,r,i,a,o,u){var s,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(Va(n))s=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var d=l.getNode().updateChild(n,r);s=c.updateFullNode(l.getNode(),d,null)}else{var f=Ra(n);if(!l.isCompleteForPath(n)&&Ma(n)>1)return t;var h=La(n),p=l.getNode().getImmediateChild(f).updateChild(h,r);s=".priority"===f?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),f,p,h,qu,null)}var v=hu(t,s,l.isFullyInitialized()||Va(n),c.filtersNodes());return Gu(e,v,n,i,new zu(i,v,a),u)}function Hu(e,t,n,r,i,a,o){var u,s,l=t.eventCache,c=new zu(i,t,a);if(Va(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=fu(t,s,!0,e.filter.filtersNodes());else{var d=Ra(n);if(".priority"===d)s=e.filter.updatePriority(t.eventCache.getNode(),r),u=fu(t,s,l.isFullyInitialized(),l.isFiltered());else{var f,h=La(n),p=l.getNode().getImmediateChild(d);if(Va(h))f=r;else{var v=c.getCompleteChild(d);f=null!=v?".priority"===ja(h)&&v.getChild(Ua(h)).isEmpty()?v:v.updateChild(h,r):Io.EMPTY_NODE}if(p.equals(f))u=t;else u=fu(t,e.filter.updateChild(l.getNode(),d,f,h,c,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return u}function Qu(e,t){return e.eventCache.isCompleteForChild(t)}function Yu(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Xu(e,t,n,r,i,a,o,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,l=t;s=Va(n)?r:new mu(null).setTree(n,r);var c=t.serverCache.getNode();return s.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var s=Yu(0,t.serverCache.getNode().getImmediateChild(n),r);l=Ku(e,l,new Oa(n),s,i,a,o,u)}})),s.children.inorderTraversal((function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!s){var d=Yu(0,t.serverCache.getNode().getImmediateChild(n),r);l=Ku(e,l,new Oa(n),d,i,a,o,u)}})),l}var Ju,Zu=function(){function e(t,n){f(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new jo(i.getIndex()),o=(r=i).loadsAllData()?new jo(r.getIndex()):r.hasLimit()?new Uo(r):new Fo(r);this.processor_=function(e){return{filter:e}}(o);var u=n.serverCache,s=n.eventCache,l=a.updateFullNode(Io.EMPTY_NODE,u.getNode(),null),c=o.updateFullNode(Io.EMPTY_NODE,s.getNode(),null),d=new su(l,u.isFullyInitialized(),a.filtersNodes()),h=new su(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=du(h,d),this.eventGenerator_=new lu(this.query_)}return m(e,[{key:"query",get:function(){return this.query_}}]),e}();function es(e,t){var n=vu(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Va(t)&&!n.getImmediateChild(Ra(t)).isEmpty())?n.getChild(t):null}function ts(e){return 0===e.eventRegistrations_.length}function ns(e,t,n){var r=[];if(n){ln(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var u=e.eventRegistrations_[o];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function rs(e,t,n,r){t.type===Zo.MERGE&&null!==t.source.queryId&&(ln(vu(e.viewCache_),"We should always have a full cache before handling merges"),ln(pu(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,u=Wu(e.processor_,o,t,n,r);return i=e.processor_,a=u.viewCache,ln(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),ln(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),ln(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,is(e,u.changes,u.viewCache.eventCache.getNode(),null)}function is(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),cu(e,i,"child_removed",t,r,n),cu(e,i,"child_added",t,r,n),cu(e,i,"child_moved",a,r,n),cu(e,i,"child_changed",t,r,n),cu(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var as,os=m((function e(){f(this,e),this.views=new Map}));function us(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return ln(null!=a,"SyncTree gave us an op for an invalid query."),rs(a,t,n,r)}var o,u=[],s=N(e.views.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;u=u.concat(rs(l,t,n,r))}}catch(c){s.e(c)}finally{s.f()}return u}function ss(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var u=Du(n,i?r:null),s=!1;u?s=!0:r instanceof Io?(u=Ru(n,r),s=!1):(u=Io.EMPTY_NODE,s=!1);var l=du(new su(u,s,!1),new su(r,i,!1));return new Zu(t,l)}return o}function ls(e,t,n,r,i,a){var o=ss(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ko,(function(e,t){r.push(Ro(e,t))})),n.isFullyInitialized()&&r.push(Do(n.getNode())),is(e,r,n.getNode(),t)}(o,n)}function cs(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],u=vs(e);if("default"===i){var s,l=N(e.views.entries());try{for(l.s();!(s=l.n()).done;){var c=d(s.value,2),f=c[0],h=c[1];o=o.concat(ns(h,n,r)),ts(h)&&(e.views.delete(f),h.query._queryParams.loadsAllData()||a.push(h.query))}}catch(v){l.e(v)}finally{l.f()}}else{var p=e.views.get(i);p&&(o=o.concat(ns(p,n,r)),ts(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return u&&!vs(e)&&a.push(new(ln(Ju,"Reference.ts has not been loaded"),Ju)(t._repo,t._path)),{removed:a,events:o}}function ds(e){var t,n=[],r=N(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function fs(e,t){var n,r=null,i=N(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||es(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function hs(e,t){if(t._queryParams.loadsAllData())return ms(e);var n=t._queryIdentifier;return e.views.get(n)}function ps(e,t){return null!=hs(e,t)}function vs(e){return null!=ms(e)}function ms(e){var t,n=N(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var ys=1,gs=m((function e(t){f(this,e),this.listenProvider_=t,this.syncPointTree_=new mu(null),this.pendingWriteTree_={visibleWrites:yu.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function bs(e,t,n,r,i){return function(e,t,n,r,i){ln(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=gu(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?$s(e,new ou({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ws(e,t,n,r){!function(e,t,n,r){ln(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=bu(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=mu.fromObject(n);return $s(e,new uu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function ks(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Tu(e.pendingWriteTree_,t)){var i=new mu(null);return null!=r.snap?i=i.set(Da(),!0):ea(r.children,(function(e){i=i.set(new Oa(e),!0)})),$s(e,new iu(r.path,i,n))}return[]}function _s(e,t,n){return $s(e,new ou({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function xs(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),u=[];if(o&&("default"===t._queryIdentifier||ps(o,t))){var s=cs(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var l=s.removed;if(u=s.events,!i){var c=-1!==l.findIndex((function(e){return e._queryParams.loadsAllData()})),d=e.syncPointTree_.findOnPath(a,(function(e,t){return vs(t)}));if(c&&!d){var f=e.syncPointTree_.subtree(a);if(!f.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&vs(t))return[ms(t)];var r=[];return t&&(r=ds(t)),ea(n,(function(e,t){r=r.concat(t)})),r}))}(f),p=0;p<h.length;++p){var v=h[p],m=v.query,y=Ps(e,v);e.listenProvider_.startListening(Ls(m),As(e,m),y.hashFn,y.onComplete)}}if(!d&&l.length>0&&!r)if(c){e.listenProvider_.stopListening(Ls(t),null)}else l.forEach((function(t){var n=e.queryToTagMap.get(Os(t));e.listenProvider_.stopListening(Ls(t),n)}))}!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Os(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,l)}return u}function Cs(e,t,n,r){var i=Ds(e,r);if(null!=i){var a=Rs(i),o=a.path,u=a.queryId,s=qa(o,t);return Ms(e,o,new ou(nu(u),s,n))}return[]}function Ss(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=qa(e,i);a=a||fs(t,n),o=o||vs(t)}));var u,s=e.syncPointTree_.get(i);(s?(o=o||vs(s),a=a||fs(s,Da())):(s=new os,e.syncPointTree_=e.syncPointTree_.set(i,s)),null!=a)?u=!0:(u=!1,a=Io.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((function(e,t){var n=fs(t,Da());n&&(a=a.updateImmediateChild(e,n))})));var l=ps(s,t);if(!l&&!t._queryParams.loadsAllData()){var c=Os(t);ln(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var d=ys++;e.queryToTagMap.set(c,d),e.tagToQueryMap.set(d,c)}var f=ls(s,t,n,$u(e.pendingWriteTree_,i),a,u);if(!l&&!o&&!r){var h=hs(s,t);f=f.concat(function(e,t,n){var r=t._path,i=As(e,t),a=Ps(e,n),o=e.listenProvider_.startListening(Ls(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)ln(!vs(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var s=u.fold((function(e,t,n){if(!Va(e)&&t&&vs(t))return[ms(t).query];var r=[];return t&&(r=r.concat(ds(t).map((function(e){return e.query})))),ea(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<s.length;++l){var c=s[l];e.listenProvider_.stopListening(Ls(c),As(e,c))}return o}(e,t,h))}return f}function Es(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=fs(n,qa(e,t));if(r)return r}));return Ou(r,t,i,n,!0)}function Is(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=qa(e,n);r=r||fs(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||fs(i,Da()):(i=new os,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new su(r,!0,!1):null;return function(e){return pu(e.viewCache_)}(ss(i,t,$u(e.pendingWriteTree_,t._path),a?o.getNode():Io.EMPTY_NODE,a))}function $s(e,t){return Ts(t,e.syncPointTree_,null,$u(e.pendingWriteTree_,Da()))}function Ts(e,t,n,r){if(Va(e.path))return Ns(e,t,n,r);var i=t.get(Da());null==n&&null!=i&&(n=fs(i,Da()));var a=[],o=Ra(e.path),u=e.operationForChild(o),s=t.children.get(o);if(s&&u){var l=n?n.getImmediateChild(o):null,c=Uu(r,o);a=a.concat(Ts(u,s,l,c))}return i&&(a=a.concat(us(i,e,r,n))),a}function Ns(e,t,n,r){var i=t.get(Da());null==n&&null!=i&&(n=fs(i,Da()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,u=Uu(r,t),s=e.operationForChild(t);s&&(a=a.concat(Ns(s,i,o,u)))})),i&&(a=a.concat(us(i,e,r,n))),a}function Ps(e,t){var n=t.query,r=As(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Io.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Ds(e,n);if(r){var i=Rs(r),a=i.path,o=i.queryId,u=qa(a,t);return Ms(e,a,new au(nu(o),u))}return[]}(e,n._path,r):function(e,t){return $s(e,new au({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return xs(e,n,null,i)}}}function As(e,t){var n=Os(t);return e.queryToTagMap.get(n)}function Os(e){return e._path.toString()+"$"+e._queryIdentifier}function Ds(e,t){return e.tagToQueryMap.get(t)}function Rs(e){var t=e.indexOf("$");return ln(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Oa(e.substr(0,t))}}function Ms(e,t,n){var r=e.syncPointTree_.get(t);return ln(r,"Missing sync point for query tag that we're tracking"),us(r,n,$u(e.pendingWriteTree_,t),null)}function Ls(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ln(as,"Reference.ts has not been loaded"),as)(e._repo,e._path):e}var js=function(){function e(t){f(this,e),this.node_=t}return m(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),Fs=function(){function e(t,n){f(this,e),this.syncTree_=t,this.path_=n}return m(e,[{key:"getImmediateChild",value:function(t){var n=Ba(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Es(this.syncTree_,this.path_)}}]),e}(),Us=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Bs=function(e,t,n){return e&&"object"===typeof e?(ln(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Vs(e[".sv"],t,n):"object"===typeof e[".sv"]?qs(e[".sv"],t):void ln(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Vs=function(e,t,n){if("timestamp"===e)return n.timestamp;ln(!1,"Unexpected server value: "+e)},qs=function(e,t,n){e.hasOwnProperty("increment")||ln(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&ln(!1,"Unexpected increment value: "+r);var i=t.node();if(ln(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},zs=function(e,t,n,r){return Gs(t,new Fs(n,e),r)},Ws=function(e,t,n){return Gs(e,new js(t),n)};function Gs(e,t,n){var r,i=e.getPriority().val(),a=Bs(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,u=Bs(o.getValue(),t,n);return u!==o.getValue()||a!==o.getPriority().val()?new yo(u,No(a)):e}var s=e;return r=s,a!==s.getPriority().val()&&(r=r.updatePriority(new yo(a))),s.forEachChild(ko,(function(e,i){var a=Gs(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var Ks=m((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};f(this,e),this.name=t,this.parent=n,this.node=r}));function Hs(e,t){for(var n=t instanceof Oa?t:new Oa(t),r=e,i=Ra(n);null!==i;){var a=Rn(r.node.children,i)||{children:{},childCount:0};r=new Ks(i,r,a),i=Ra(n=La(n))}return r}function Qs(e){return e.node.value}function Ys(e,t){e.node.value=t,tl(e)}function Xs(e){return e.node.childCount>0}function Js(e,t){ea(e.node.children,(function(n,r){t(new Ks(n,e,r))}))}function Zs(e,t,n,r){n&&!r&&t(e),Js(e,(function(e){Zs(e,t,!0,r)})),n&&r&&t(e)}function el(e){return new Oa(null===e.parent?e.name:el(e.parent)+"/"+e.name)}function tl(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Qs(e)&&!Xs(e)}(n),i=Dn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,tl(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,tl(e))}(e.parent,e.name,e)}var nl=/[\[\].#$\/\u0000-\u001F\u007F]/,rl=/[\[\].#$\u0000-\u001F\u007F]/,il=10485760,al=function(e){return"string"===typeof e&&0!==e.length&&!nl.test(e)},ol=function(e){return"string"===typeof e&&0!==e.length&&!rl.test(e)},ul=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Gi(e)||e&&"object"===typeof e&&Dn(e,".sv")},sl=function(e,t,n,r){r&&void 0===t||ll(Wn(e,"value"),t,n)},ll=function e(t,n,r){var i=r instanceof Oa?new Ka(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Qa(i));if("function"===typeof n)throw new Error(t+"contains a function "+Qa(i)+" with contents = "+n.toString());if(Gi(n))throw new Error(t+"contains "+n.toString()+" "+Qa(i));if("string"===typeof n&&n.length>il/3&&Hn(n)>il)throw new Error(t+"contains a string greater than "+il+" utf8 bytes "+Qa(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(ea(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!al(n)))throw new Error(t+" contains an invalid key ("+n+") "+Qa(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,s;s=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=Hn(s),Ha(u),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Hn(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+Qa(i)+" in addition to actual children.")}},cl=function(e,t,n,r){if(!r||void 0!==t){var i=Wn(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];ea(t,(function(e,t){var r=new Oa(e);if(ll(i,t,Ba(n,r)),".priority"===ja(r)&&!ul(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Fa(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!al(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(za);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Ga(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},dl=function(e,t,n){if(!n||void 0!==t){if(Gi(t))throw new Error(Wn(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ul(t))throw new Error(Wn(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},fl=function(e,t,n,r){if((!r||void 0!==n)&&!al(n))throw new Error(Wn(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},hl=function(e,t,n,r){if((!r||void 0!==n)&&!ol(n))throw new Error(Wn(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},pl=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),hl(e,t,n,r)},vl=function(e,t){if(".info"===Ra(t))throw new Error(e+" failed = Can't modify data under /.info/")},ml=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!al(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ol(e)}(n))throw new Error(Wn(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},yl=m((function e(){f(this,e),this.eventLists_=[],this.recursionDepth_=0}));function gl(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Wa(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function bl(e,t,n){gl(e,n),kl(e,(function(e){return Wa(e,t)}))}function wl(e,t,n){gl(e,n),kl(e,(function(e){return Ga(e,t)||Ga(t,e)}))}function kl(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(_l(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function _l(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();ji&&Bi("event: "+n.toString()),ia(r)}}}var xl="repo_interrupt",Cl=25,Sl=function(){function e(t,n,r,i){f(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qo(),this.transactionQueueTree_=new Ks,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return m(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function El(e,t,n){if(e.stats_=ba(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ko(e.repoInfo_,(function(t,n,r,i){Tl(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Nl(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{An(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ja(e.repoInfo_,t,(function(t,n,r,i){Tl(e,t,n,r,i)}),(function(t){Nl(e,t)}),(function(t){!function(e,t){ea(t,(function(t,n){Pl(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return ga[n]||(ga[n]=t()),ga[n]}(e.repoInfo_,(function(){return new tu(e.stats_,e.server_)})),e.infoData_=new Ho,e.infoSyncTree_=new gs({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=_s(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),Pl(e,"connected",!1),e.serverSyncTree_=new gs({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);wl(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Il(e){var t=e.infoData_.getNode(new Oa(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function $l(e){return Us({timestamp:Il(e)})}function Tl(e,t,n,r,i){e.dataUpdateCount++;var a=new Oa(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var u=Ln(n,(function(e){return No(e)}));o=function(e,t,n,r){var i=Ds(e,r);if(i){var a=Rs(i),o=a.path,u=a.queryId,s=qa(o,t),l=mu.fromObject(n);return Ms(e,o,new uu(nu(u),s,l))}return[]}(e.serverSyncTree_,a,u,i)}else{var s=No(n);o=Cs(e.serverSyncTree_,a,s,i)}else if(r){var l=Ln(n,(function(e){return No(e)}));o=function(e,t,n){var r=mu.fromObject(n);return $s(e,new uu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var c=No(n);o=_s(e.serverSyncTree_,a,c)}var d=a;o.length>0&&(d=Vl(e,a)),wl(e.eventQueue_,d,o)}function Nl(e,t){Pl(e,"connected",t),!1===t&&function(e){jl(e,"onDisconnectEvents");var t=$l(e),n=Qo();Jo(e.onDisconnect_,Da(),(function(r,i){var a=zs(r,i,e.serverSyncTree_,t);Yo(n,r,a)}));var r=[];Jo(n,Da(),(function(t,n){r=r.concat(_s(e.serverSyncTree_,t,n));var i=Kl(e,t);Vl(e,i)})),e.onDisconnect_=Qo(),wl(e.eventQueue_,Da(),r)}(e)}function Pl(e,t,n){var r=new Oa("/.info/"+t),i=No(n);e.infoData_.updateSnapshot(r,i);var a=_s(e.infoSyncTree_,r,i);wl(e.eventQueue_,r,a)}function Al(e){return e.nextWriteId_++}function Ol(e,t,n,r,i){jl(e,"set",{path:t.toString(),value:n,priority:r});var a=$l(e),o=No(n,r),u=Es(e.serverSyncTree_,t),s=Ws(o,u,a),l=Al(e),c=bs(e.serverSyncTree_,t,s,l,!0);gl(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||Wi("set at "+t+" failed: "+n);var o=ks(e.serverSyncTree_,l,!a);wl(e.eventQueue_,t,o),Fl(e,i,n,r)}));var d=Kl(e,t);Vl(e,d),wl(e.eventQueue_,d,[])}function Dl(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Xo(e.onDisconnect_,t),Fl(e,n,r,i)}))}function Rl(e,t,n,r){var i=No(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&Yo(e.onDisconnect_,t,i),Fl(e,r,n,a)}))}function Ml(e,t,n){var r;r=".info"===Ra(t._path)?xs(e.infoSyncTree_,t,n):xs(e.serverSyncTree_,t,n),bl(e.eventQueue_,t._path,r)}function Ll(e){e.persistentConnection_&&e.persistentConnection_.interrupt(xl)}function jl(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Bi.apply(void 0,[t].concat(r))}function Fl(e,t,n,r){t&&ia((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function Ul(e,t,n){return Es(e.serverSyncTree_,t,n)||Io.EMPTY_NODE}function Bl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Gl(e,t),Qs(t)){var n=zl(e,t);ln(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Ul(e,t,r),a=i,o=i.hash(),u=0;u<n.length;u++){var s=n[u];ln(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var l=qa(t,s.path);a=a.updateChild(l,s.currentOutputSnapshotRaw)}var c=a.val(!0),d=t;e.server_.put(d.toString(),c,(function(r){jl(e,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(ks(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},u=0;u<n.length;u++)o(u);Gl(e,Hs(e.transactionQueueTree_,t)),Bl(e,e.transactionQueueTree_),wl(e.eventQueue_,t,i);for(var s=0;s<a.length;s++)ia(a[s])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{Wi("transaction at "+d.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}Vl(e,t)}}),o)}(e,el(t),n)}else Xs(t)&&Js(t,(function(t){Bl(e,t)}))}function Vl(e,t){var n=ql(e,t),r=el(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),u=function(a){var u,s,l=t[a],c=qa(n,l.path),d=!1;if(ln(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)d=!0,u=l.abortReason,i=i.concat(ks(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=Cl)d=!0,u="maxretry",i=i.concat(ks(e.serverSyncTree_,l.currentWriteId,!0));else{var f=Ul(e,l.path,o);l.currentInputSnapshot=f;var h=t[a].update(f.val());if(void 0!==h){ll("transaction failed: Data returned ",h,l.path);var p=No(h);"object"===typeof h&&null!=h&&Dn(h,".priority")||(p=p.updatePriority(f.getPriority()));var v=l.currentWriteId,m=$l(e),y=Ws(p,f,m);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=Al(e),o.splice(o.indexOf(v),1),i=(i=i.concat(bs(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(ks(e.serverSyncTree_,v,!0))}else d=!0,u="nodata",i=i.concat(ks(e.serverSyncTree_,l.currentWriteId,!0))}wl(e.eventQueue_,n,i),i=[],d&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===u?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(u),!1,null)}))))},s=0;s<t.length;s++)u(s);Gl(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)ia(r[l]);Bl(e,e.transactionQueueTree_)}(e,zl(e,n),r),r}function ql(e,t){var n,r=e.transactionQueueTree_;for(n=Ra(t);null!==n&&void 0===Qs(r);)r=Hs(r,n),n=Ra(t=La(t));return r}function zl(e,t){var n=[];return Wl(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Wl(e,t,n){var r=Qs(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Js(t,(function(t){Wl(e,t,n)}))}function Gl(e,t){var n=Qs(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Ys(t,n.length>0?n:void 0)}Js(t,(function(t){Gl(e,t)}))}function Kl(e,t){var n=el(ql(e,t)),r=Hs(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Hl(e,t)})),Hl(e,r),Zs(r,(function(t){Hl(e,t)})),n}function Hl(e,t){var n=Qs(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(ln(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(ln(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ks(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Ys(t,void 0):n.length=a+1,wl(e.eventQueue_,el(t),i);for(var u=0;u<r.length;u++)ia(r[u])}}var Ql=function(e,t){var n=Yl(e),r=n.namespace;"firebase.com"===n.domain&&zi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||zi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Wi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new pa(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Oa(n.pathString)}},Yl=function(e){var t="",n="",r="",i="",a="",o=!0,u="https",s=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(c,d)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=N(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Wi("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,d)));(l=t.indexOf(":"))>=0?(o="https"===u||"wss"===u,s=parseInt(t.substring(l+1),10)):l=t.length;var h=t.slice(0,l);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:u,pathString:i,namespace:a}},Xl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Jl=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=Xl.charAt(n%64),n=Math.floor(n/64);ln(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=Xl.charAt(t[r]);return ln(20===o.length,"nextPushId: Length should be 20."),o}}(),Zl=function(){function e(t,n,r,i){f(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return m(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+An(this.snapshot.exportVal())}}]),e}(),ec=function(){function e(t,n,r){f(this,e),this.eventRegistration=t,this.error=n,this.path=r}return m(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),tc=function(){function e(t,n){f(this,e),this.snapshotCallback=t,this.cancelCallback=n}return m(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return ln(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),nc=function(){function e(t,n){f(this,e),this._repo=t,this._path=n}return m(e,[{key:"cancel",value:function(){var e=new kn;return Dl(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){vl("OnDisconnect.remove",this._path);var e=new kn;return Rl(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){vl("OnDisconnect.set",this._path),sl("OnDisconnect.set",e,this._path,!1);var t=new kn;return Rl(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){vl("OnDisconnect.setWithPriority",this._path),sl("OnDisconnect.setWithPriority",e,this._path,!1),dl("OnDisconnect.setWithPriority",t,!1);var n=new kn;return function(e,t,n,r,i){var a=No(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&Yo(e.onDisconnect_,t,a),Fl(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){vl("OnDisconnect.update",this._path),cl("OnDisconnect.update",e,this._path,!1);var t=new kn;return function(e,t,n,r){if(Mn(n))return Bi("onDisconnect().update() called with empty data.  Don't do anything."),void Fl(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&ea(n,(function(n,r){var i=No(r);Yo(e.onDisconnect_,Ba(t,n),i)})),Fl(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),rc=function(){function e(t,n,r,i){f(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return m(e,[{key:"key",get:function(){return Va(this._path)?null:ja(this._path)}},{key:"ref",get:function(){return new uc(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Go(this._queryParams),t=Ji(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Go(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Qn(t))instanceof e))return!1;var n=this._repo===t._repo,r=Wa(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function ic(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ac(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===ro){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Ki)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Hi)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===ko){if(null!=t&&!ul(t)||null!=n&&!ul(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ln(e.getIndex()instanceof Po||e.getIndex()===Oo,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function oc(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var uc=function(e){g(n,e);var t=_(n);function n(e,r){return f(this,n),t.call(this,e,r,new Bo,!1)}return m(n,[{key:"parent",get:function(){var e=Ua(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(rc),sc=function(){function e(t,n,r){f(this,e),this._node=t,this.ref=n,this._index=r}return m(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Oa(t),r=dc(this.ref,t);return new e(this._node.getChild(n),r,ko)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,dc(n.ref,r),ko))}))}},{key:"hasChild",value:function(e){var t=new Oa(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function lc(e,t){return(e=Qn(e))._checkNotDeleted("ref"),void 0!==t?dc(e._root,t):e._root}function cc(e,t){(e=Qn(e))._checkNotDeleted("refFromURL");var n=Ql(t,e._repo.repoInfo_.nodeAdmin);ml("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||zi("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),lc(e,n.path.toString())}function dc(e,t){return null===Ra((e=Qn(e))._path)?pl("child","path",t,!1):hl("child","path",t,!1),new uc(e._repo,Ba(e._path,t))}function fc(e,t){e=Qn(e),vl("set",e._path),sl("set",t,e._path,!1);var n=new kn;return Ol(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function hc(e,t){cl("update",t,e._path,!1);var n=new kn;return function(e,t,n,r){jl(e,"update",{path:t.toString(),value:n});var i=!0,a=$l(e),o={};if(ea(n,(function(n,r){i=!1,o[n]=zs(Ba(t,n),No(r),e.serverSyncTree_,a)})),i)Bi("update() called with empty data.  Don't do anything."),Fl(0,r,"ok",void 0);else{var u=Al(e),s=ws(e.serverSyncTree_,t,o,u);gl(e.eventQueue_,s),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||Wi("update at "+t+" failed: "+n);var o=ks(e.serverSyncTree_,u,!a),s=o.length>0?Vl(e,t):t;wl(e.eventQueue_,s,o),Fl(0,r,n,i)})),ea(n,(function(n){var r=Kl(e,Ba(t,n));Vl(e,r)})),wl(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function pc(e){e=Qn(e);var t=new tc((function(){})),n=new vc(t);return function(e,t,n){var r=Is(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=No(r).withIndex(t._queryParams.getIndex());if(Ss(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=_s(e.serverSyncTree_,t._path,a);else{var o=As(e.serverSyncTree_,t);i=Cs(e.serverSyncTree_,t._path,a,o)}return wl(e.eventQueue_,t._path,i),xs(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return jl(e,"get for query "+An(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new sc(t,new uc(e._repo,e._path),e._queryParams.getIndex())}))}var vc=function(){function e(t){f(this,e),this.callbackContext=t}return m(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new Zl("value",this,new sc(e.snapshotNode,new uc(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new ec(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),mc=function(){function e(t,n){f(this,e),this.eventType=t,this.callbackContext=n}return m(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new ec(this,e,t):null}},{key:"createEvent",value:function(e,t){ln(null!=e.childName,"Child events should have a childName.");var n=dc(new uc(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Zl(e.type,this,new sc(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function yc(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,u=function(t,n){Ml(e._repo,e,l),o(t,n)};u.userCallback=n.userCallback,u.context=n.context,n=u}var s=new tc(n,a||void 0),l="value"===t?new vc(s):new mc(t,s);return function(e,t,n){var r;r=".info"===Ra(t._path)?Ss(e.infoSyncTree_,t,n):Ss(e.serverSyncTree_,t,n),bl(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return Ml(e._repo,e,l)}}function gc(e,t,n,r){return yc(e,"value",t,n,r)}function bc(e,t,n,r){return yc(e,"child_added",t,n,r)}function wc(e,t,n,r){return yc(e,"child_changed",t,n,r)}function kc(e,t,n,r){return yc(e,"child_moved",t,n,r)}function _c(e,t,n,r){return yc(e,"child_removed",t,n,r)}function xc(e,t,n){var r=null,i=n?new tc(n):null;"value"===t?r=new vc(i):t&&(r=new mc(t,i)),Ml(e._repo,e,r)}var Cc=m((function e(){f(this,e)})),Sc=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this))._value=e,i._key=r,i.type="endAt",i}return m(n,[{key:"_apply",value:function(e){sl("endAt",this._value,e._path,!0);var t=qo(e._queryParams,this._value,this._key);if(oc(t),ac(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new rc(e._repo,e._path,t,e._orderByCalled)}}]),n}(Cc);var Ec=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this))._value=e,i._key=r,i.type="endBefore",i}return m(n,[{key:"_apply",value:function(e){sl("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===ro||n?qo(e,t,n):qo(e,t,Ki)).endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(oc(t),ac(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new rc(e._repo,e._path,t,e._orderByCalled)}}]),n}(Cc);var Ic=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this))._value=e,i._key=r,i.type="startAt",i}return m(n,[{key:"_apply",value:function(e){sl("startAt",this._value,e._path,!0);var t=Vo(e._queryParams,this._value,this._key);if(oc(t),ac(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new rc(e._repo,e._path,t,e._orderByCalled)}}]),n}(Cc);var $c=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this))._value=e,i._key=r,i.type="startAfter",i}return m(n,[{key:"_apply",value:function(e){sl("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===ro||n?Vo(e,t,n):Vo(e,t,Hi)).startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(oc(t),ac(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new rc(e._repo,e._path,t,e._orderByCalled)}}]),n}(Cc);var Tc=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this))._limit=e,r.type="limitToFirst",r}return m(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new rc(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(Cc);var Nc=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this))._limit=e,r.type="limitToLast",r}return m(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new rc(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(Cc);var Pc=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this))._path=e,r.type="orderByChild",r}return m(n,[{key:"_apply",value:function(e){ic(e,"orderByChild");var t=new Oa(this._path);if(Va(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new Po(t),r=zo(e._queryParams,n);return ac(r),new rc(e._repo,e._path,r,!0)}}]),n}(Cc);var Ac=function(e){g(n,e);var t=_(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).type="orderByKey",e}return m(n,[{key:"_apply",value:function(e){ic(e,"orderByKey");var t=zo(e._queryParams,ro);return ac(t),new rc(e._repo,e._path,t,!0)}}]),n}(Cc);var Oc=function(e){g(n,e);var t=_(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).type="orderByPriority",e}return m(n,[{key:"_apply",value:function(e){ic(e,"orderByPriority");var t=zo(e._queryParams,ko);return ac(t),new rc(e._repo,e._path,t,!0)}}]),n}(Cc);var Dc=function(e){g(n,e);var t=_(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).type="orderByValue",e}return m(n,[{key:"_apply",value:function(e){ic(e,"orderByValue");var t=zo(e._queryParams,Oo);return ac(t),new rc(e._repo,e._path,t,!0)}}]),n}(Cc);var Rc=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this))._value=e,i._key=r,i.type="equalTo",i}return m(n,[{key:"_apply",value:function(e){if(sl("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Sc(this._value,this._key)._apply(new Ic(this._value,this._key)._apply(e))}}]),n}(Cc);function Mc(e){for(var t=Qn(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){t=o[a]._apply(t)}return t}!function(e){ln(!Ju,"__referenceConstructor has already been defined"),Ju=e}(uc),function(e){ln(!as,"__referenceConstructor has already been defined"),as=e}(uc);var Lc="FIREBASE_DATABASE_EMULATOR_HOST",jc={},Fc=!1;function Uc(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||zi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Bi("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,u=Ql(a,i),s=u.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_EMAILJS_PUBLIC_KEY:"r-a4WdmKt1jr0njGg",REACT_APP_EMAILJS_SERVICE_KEY:"service_9k4k603",REACT_APP_EMAILJS_TEMPLATE_KEY:"template_wsaffu5",REACT_APP_FIREBASE_API_KEY:"AIzaSyDyUh44q0n5FfpE3h8xyVOBTHIJwR4NIPg",REACT_APP_VARIABLE:"value"}[Lc]),l?(o=!0,a="http://".concat(l,"?ns=").concat(s.namespace),s=(u=Ql(a,i)).repoInfo):o=!u.repoInfo.secure;var c=i&&o?new sa(sa.OWNER):new ua(e.name,e.options,t);ml("Invalid Firebase Database URL",u),Va(u.path)||zi("Database URL must point to the root of a Firebase Database (not including a child path).");var d=function(e,t,n,r){var i=jc[t.name];i||(i={},jc[t.name]=i);var a=i[e.toURLString()];a&&zi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Sl(e,Fc,n,r),i[e.toURLString()]=a,a}(s,e,c,new oa(e.name,n));return new Bc(d,e)}var Bc=function(){function e(t,n){f(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return m(e,[{key:"_repo",get:function(){return this._instanceStarted||(El(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new uc(this._repo,Da())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=jc[t];n&&n[e.key]===e||zi("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Ll(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&zi("Cannot call "+e+" on a deleted database.")}}]),e}();function Vc(){Ea.IS_TRANSPORT_INITIALIZED&&Wi("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function qc(){Vc(),_a.forceDisallow()}function zc(){Vc(),Sa.forceDisallow(),_a.forceAllow()}function Wc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Qn(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&zi("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&zi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new sa(sa.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:_n(r.mockUserToken,e.app.options.projectId);a=new sa(o)}!function(e,t,n,r){e.repoInfo_=new pa("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function Gc(e){var t;(e=Qn(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(xl)}function Kc(e,t){Ui(e,t)}var Hc={".sv":"timestamp"};var Qc=function(){function e(t,n){f(this,e),this.committed=t,this.snapshot=n}return m(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function Yc(e,t,n){var r;if(e=Qn(e),vl("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new kn,o=gc(e,(function(){}));return function(e,t,n,r,i,a){jl(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:Ri(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Ul(e,t,void 0);o.currentInputSnapshot=u;var s=o.update(u.val());if(void 0===s)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{ll("transaction failed: Data returned ",s,o.path),o.status=0;var l,c=Hs(e.transactionQueueTree_,t),d=Qs(c)||[];d.push(o),Ys(c,d),"object"===typeof s&&null!==s&&Dn(s,".priority")?(l=Rn(s,".priority"),ln(ul(l),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):l=(Es(e.serverSyncTree_,t)||Io.EMPTY_NODE).getPriority().val();var f=$l(e),h=No(s,l),p=Ws(h,u,f);o.currentOutputSnapshotRaw=h,o.currentOutputSnapshotResolved=p,o.currentWriteId=Al(e);var v=bs(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);wl(e.eventQueue_,t,v),Bl(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new sc(r,new uc(e._repo,e._path),ko),a.resolve(new Qc(n,i)))}),o,i),a.promise}Ja.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ja.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){$i(Gr),Fr(new Yn("database",(function(e,t){var n=t.instanceIdentifier;return Uc(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Jr(Si,Ei,e),Jr(Si,Ei,"esm2017")}();var Xc=new ur("@firebase/database-compat"),Jc=function(e){var t="FIREBASE WARNING: "+e;Xc.warn(t)},Zc=function(){function e(t){f(this,e),this._delegate=t}return m(e,[{key:"cancel",value:function(e){zn("OnDisconnect.cancel",0,1,arguments.length),Gn("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){zn("OnDisconnect.remove",0,1,arguments.length),Gn("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){zn("OnDisconnect.set",1,2,arguments.length),Gn("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){zn("OnDisconnect.setWithPriority",2,3,arguments.length),Gn("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(zn("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Jc("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Gn("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),ed=function(){function e(t,n){f(this,e),this.committed=t,this.snapshot=n}return m(e,[{key:"toJSON",value:function(){return zn("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),td=function(){function e(t,n){f(this,e),this._database=t,this._delegate=n}return m(e,[{key:"val",value:function(){return zn("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return zn("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return zn("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return zn("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return zn("DataSnapshot.child",0,1,arguments.length),t=String(t),hl("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return zn("DataSnapshot.hasChild",1,1,arguments.length),hl("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return zn("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return zn("DataSnapshot.forEach",1,1,arguments.length),Gn("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return zn("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return zn("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return zn("DataSnapshot.ref",0,0,arguments.length),new rd(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),nd=function(){function e(t,n){f(this,e),this.database=t,this._delegate=n}return m(e,[{key:"on",value:function(t,n,r,i){var a,o=this;zn("Query.on",2,4,arguments.length),Gn("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),s=function(e,t){n.call(u.context,new td(o.database,e),t)};s.userCallback=n,s.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return gc(this._delegate,s,l),n;case"child_added":return bc(this._delegate,s,l),n;case"child_removed":return _c(this._delegate,s,l),n;case"child_changed":return wc(this._delegate,s,l),n;case"child_moved":return kc(this._delegate,s,l),n;default:throw new Error(Wn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(zn("Query.off",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Wn(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e,!0),Gn("Query.off","callback",t,!0),Kn("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,xc(this._delegate,e,r)}else xc(this._delegate,e)}},{key:"get",value:function(){var e=this;return pc(this._delegate).then((function(t){return new td(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;zn("Query.once",1,4,arguments.length),Gn("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),u=new kn,s=function(e,t){var r=new td(a.database,e);n&&n.call(o.context,r,t),u.resolve(r)};s.userCallback=n,s.context=o.context;var l=function(e){o.cancel&&o.cancel.call(o.context,e),u.reject(e)};switch(t){case"value":gc(this._delegate,s,l,{onlyOnce:!0});break;case"child_added":bc(this._delegate,s,l,{onlyOnce:!0});break;case"child_removed":_c(this._delegate,s,l,{onlyOnce:!0});break;case"child_changed":wc(this._delegate,s,l,{onlyOnce:!0});break;case"child_moved":kc(this._delegate,s,l,{onlyOnce:!0});break;default:throw new Error(Wn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}},{key:"limitToFirst",value:function(t){return zn("Query.limitToFirst",1,1,arguments.length),new e(this.database,Mc(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Tc(e)}(t)))}},{key:"limitToLast",value:function(t){return zn("Query.limitToLast",1,1,arguments.length),new e(this.database,Mc(this._delegate,function(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Nc(e)}(t)))}},{key:"orderByChild",value:function(t){return zn("Query.orderByChild",1,1,arguments.length),new e(this.database,Mc(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return hl("orderByChild","path",e,!1),new Pc(e)}(t)))}},{key:"orderByKey",value:function(){return zn("Query.orderByKey",0,0,arguments.length),new e(this.database,Mc(this._delegate,new Ac))}},{key:"orderByPriority",value:function(){return zn("Query.orderByPriority",0,0,arguments.length),new e(this.database,Mc(this._delegate,new Oc))}},{key:"orderByValue",value:function(){return zn("Query.orderByValue",0,0,arguments.length),new e(this.database,Mc(this._delegate,new Dc))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return zn("Query.startAt",0,2,arguments.length),new e(this.database,Mc(this._delegate,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return fl("startAt","key",t,!0),new Ic(e,t)}(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return zn("Query.startAfter",0,2,arguments.length),new e(this.database,Mc(this._delegate,function(e,t){return fl("startAfter","key",t,!0),new $c(e,t)}(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return zn("Query.endAt",0,2,arguments.length),new e(this.database,Mc(this._delegate,function(e,t){return fl("endAt","key",t,!0),new Sc(e,t)}(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return zn("Query.endBefore",0,2,arguments.length),new e(this.database,Mc(this._delegate,function(e,t){return fl("endBefore","key",t,!0),new Ec(e,t)}(t,n)))}},{key:"equalTo",value:function(t,n){return zn("Query.equalTo",1,2,arguments.length),new e(this.database,Mc(this._delegate,function(e,t){return fl("equalTo","key",t,!0),new Rc(e,t)}(t,n)))}},{key:"toString",value:function(){return zn("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return zn("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(zn("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new rd(this.database,new uc(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Gn(e,"cancel",r.cancel,!0),r.context=n,Kn(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Wn(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),rd=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,new rc(r._repo,r._path,new Bo,!1))).database=e,i._delegate=r,i}return m(n,[{key:"getKey",value:function(){return zn("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return zn("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,dc(this._delegate,e))}},{key:"getParent",value:function(){zn("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return zn("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){zn("Reference.set",1,2,arguments.length),Gn("Reference.set","onComplete",t,!0);var n=fc(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(zn("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Jc("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}vl("Reference.update",this._delegate._path),Gn("Reference.update","onComplete",t,!0);var i=hc(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){zn("Reference.setWithPriority",2,3,arguments.length),Gn("Reference.setWithPriority","onComplete",n,!0);var r=function(e,t,n){if(vl("setWithPriority",e._path),sl("setWithPriority",t,e._path,!1),dl("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new kn;return Ol(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){zn("Reference.remove",0,1,arguments.length),Gn("Reference.remove","onComplete",e,!0);var t,n=(t=this._delegate,vl("remove",t._path),fc(t,null));return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n}},{key:"transaction",value:function(e,t,n){var r=this;zn("Reference.transaction",1,3,arguments.length),Gn("Reference.transaction","transactionUpdate",e,!1),Gn("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Wn(e,t)+"must be a boolean.")}("Reference.transaction","applyLocally",n,!0);var i=Yc(this._delegate,e,{applyLocally:n}).then((function(e){return new ed(e.committed,new td(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){zn("Reference.setPriority",1,2,arguments.length),Gn("Reference.setPriority","onComplete",t,!0);var n=function(e,t){e=Qn(e),vl("setPriority",e._path),dl("setPriority",t,!1);var n=new kn;return Ol(e._repo,Ba(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;zn("Reference.push",0,2,arguments.length),Gn("Reference.push","onComplete",t,!0);var i=function(e,t){e=Qn(e),vl("push",e._path),sl("push",t,e._path,!0);var n,r=Il(e._repo),i=Jl(r),a=dc(e,i),o=dc(e,i);return n=null!=t?fc(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return vl("Reference.onDisconnect",this._delegate._path),new Zc(new nc(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(nd),id=function(){function e(t,n){var r=this;f(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:qc,forceLongPolling:zc}}return m(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Wc(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(zn("database.ref",0,1,arguments.length),e instanceof rd){var t=cc(this._delegate,e.toString());return new rd(this,t)}var n=lc(this._delegate,e);return new rd(this,n)}},{key:"refFromURL",value:function(e){zn("database.refFromURL",1,1,arguments.length);var t=cc(this._delegate,e);return new rd(this,t)}},{key:"goOffline",value:function(){return zn("database.goOffline",0,0,arguments.length),function(e){(e=Qn(e))._checkNotDeleted("goOffline"),Ll(e._repo)}(this._delegate)}},{key:"goOnline",value:function(){return zn("database.goOnline",0,0,arguments.length),Gc(this._delegate)}}]),e}();id.ServerValue={TIMESTAMP:Hc,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var ad,od=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.customAppCheckImpl,o=e.namespace,u=e.nodeAdmin,s=void 0!==u&&u;$i(r);var l=new tr("database-standalone"),c=new Jn("auth-internal",l);c.setComponent(new Yn("auth-internal",(function(){return i}),"PRIVATE"));var d=void 0;return a&&(d=new Jn("app-check-internal",l)).setComponent(new Yn("app-check-internal",(function(){return a}),"PRIVATE")),{instance:new id(Uc(t,c,d,n,s),t),namespace:o}}}),ud=id.ServerValue;function sd(){return sd="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},sd.apply(this,arguments)}(ad=Ci).INTERNAL.registerComponent(new Yn("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new id(i,r)}),"PUBLIC").setServiceProps({Reference:rd,Query:nd,Database:id,DataSnapshot:td,enableLogging:Kc,INTERNAL:od,ServerValue:ud}).setMultipleInstances(!0)),ad.registerVersion("@firebase/database-compat","1.0.3");var ld,cd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},dd={},fd=fd||{},hd=cd||self;function pd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function vd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var md="closure_uid_"+(1e9*Math.random()>>>0),yd=0;function gd(e,t,n){return e.call.apply(e.bind,arguments)}function bd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function wd(e,t,n){return(wd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gd:bd).apply(null,arguments)}function kd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _d(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function xd(){this.s=this.s,this.o=this.o}xd.prototype.s=!1,xd.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,md)&&e[md]||(e[md]=++yd))},xd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Cd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Sd(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ed(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(pd(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Id(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Id.prototype.h=function(){this.defaultPrevented=!0};var $d=function(){if(!hd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{var n=function(){};hd.addEventListener("test",n,t),hd.removeEventListener("test",n,t)}catch(n){}return e}();function Td(e){return/^[\s\xa0]*$/.test(e)}function Nd(){var e=hd.navigator;return e&&(e=e.userAgent)?e:""}function Pd(e){return-1!=Nd().indexOf(e)}function Ad(e){return Ad[" "](e),e}Ad[" "]=function(){};var Od,Dd,Rd=Pd("Opera"),Md=Pd("Trident")||Pd("MSIE"),Ld=Pd("Edge"),jd=Ld||Md,Fd=Pd("Gecko")&&!(-1!=Nd().toLowerCase().indexOf("webkit")&&!Pd("Edge"))&&!(Pd("Trident")||Pd("MSIE"))&&!Pd("Edge"),Ud=-1!=Nd().toLowerCase().indexOf("webkit")&&!Pd("Edge");function Bd(){var e=hd.document;return e?e.documentMode:void 0}e:{var Vd="",qd=function(){var e=Nd();return Fd?/rv:([^\);]+)(\)|;)/.exec(e):Ld?/Edge\/([\d\.]+)/.exec(e):Md?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ud?/WebKit\/(\S+)/.exec(e):Rd?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(qd&&(Vd=qd?qd[1]:""),Md){var zd=Bd();if(null!=zd&&zd>parseFloat(Vd)){Od=String(zd);break e}}Od=Vd}if(hd.document&&Md){var Wd=Bd();Dd=Wd||(parseInt(Od,10)||void 0)}else Dd=void 0;var Gd=Dd;function Kd(e,t){if(Id.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Fd){e:{try{Ad(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Hd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Kd.$.h.call(this)}}_d(Kd,Id);var Hd={2:"touch",3:"pen",4:"mouse"};Kd.prototype.h=function(){Kd.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Qd="closure_listenable_"+(1e6*Math.random()|0),Yd=0;function Xd(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Yd,this.fa=this.ia=!1}function Jd(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Zd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ef(e){var t={};for(var n in e)t[n]=e[n];return t}var tf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<tf.length;a++)n=tf[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function rf(e){this.src=e,this.g={},this.h=0}function af(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Cd(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Jd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function of(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}rf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=of(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Xd(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var uf="closure_lm_"+(1e6*Math.random()|0),sf={};function lf(e,t,n,r,i){if(r&&r.once)return df(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)lf(e,t[a],n,r,i);return null}return n=gf(n),e&&e[Qd]?e.O(t,n,vd(r)?!!r.capture:!!r,i):cf(e,t,n,!1,r,i)}function cf(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=vd(i)?!!i.capture:!!i,u=mf(e);if(u||(e[uf]=u=new rf(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=vf;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$d||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(pf(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function df(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)df(e,t[a],n,r,i);return null}return n=gf(n),e&&e[Qd]?e.P(t,n,vd(r)?!!r.capture:!!r,i):cf(e,t,n,!0,r,i)}function ff(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ff(e,t[a],n,r,i);else r=vd(r)?!!r.capture:!!r,n=gf(n),e&&e[Qd]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=of(a=e.g[t],n,r,i))&&(Jd(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=mf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=of(t,n,r,i)),(n=-1<e?t[e]:null)&&hf(n))}function hf(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Qd])af(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(pf(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=mf(t))?(af(n,e),0==n.h&&(n.src=null,t[uf]=null)):Jd(e)}}}function pf(e){return e in sf?sf[e]:sf[e]="on"+e}function vf(e,t){if(e.fa)e=!0;else{t=new Kd(t,this);var n=e.listener,r=e.la||e.src;e.ia&&hf(e),e=n.call(r,t)}return e}function mf(e){return(e=e[uf])instanceof rf?e:null}var yf="__closure_events_fn_"+(1e9*Math.random()>>>0);function gf(e){return"function"===typeof e?e:(e[yf]||(e[yf]=function(t){return e.handleEvent(t)}),e[yf])}function bf(){xd.call(this),this.i=new rf(this),this.S=this,this.J=null}function wf(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Id(t,e);else if(t instanceof Id)t.target=t.target||e;else{var i=t;nf(t=new Id(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=kf(o,r,!0,t)&&i}if(i=kf(o=t.g=e,r,!0,t)&&i,i=kf(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=kf(o=t.g=n[a],r,!1,t)&&i}function kf(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&af(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}_d(bf,xd),bf.prototype[Qd]=!0,bf.prototype.removeEventListener=function(e,t,n,r){ff(this,e,t,n,r)},bf.prototype.N=function(){if(bf.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Jd(n[r]);delete t.g[e],t.h--}}this.J=null},bf.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},bf.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var _f=hd.JSON.stringify,xf=function(){function e(t,n){f(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return m(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function Cf(){var e=Af,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Sf=function(){function e(){f(this,e),this.h=this.g=null}return m(e,[{key:"add",value:function(e,t){var n=Ef.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ef=new xf((function(){return new If}),(function(e){return e.reset()})),If=function(){function e(){f(this,e),this.next=this.g=this.h=null}return m(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function $f(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Tf(e){hd.setTimeout((function(){throw e}),0)}var Nf,Pf=!1,Af=new Sf,Of=function(){var e=hd.Promise.resolve(void 0);Nf=function(){e.then(Df)}},Df=function(){for(var e;e=Cf();){try{e.h.call(e.g)}catch(n){Tf(n)}var t=Ef;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Pf=!1};function Rf(e,t){bf.call(this),this.h=e||1,this.g=t||hd,this.j=wd(this.qb,this),this.l=Date.now()}function Mf(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Lf(e,t,n){if("function"===typeof e)n&&(e=wd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=wd(e.handleEvent,e)}return 2147483647<Number(t)?-1:hd.setTimeout(e,t||0)}function jf(e){e.g=Lf((function(){e.g=null,e.i&&(e.i=!1,jf(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}_d(Rf,bf),(ld=Rf.prototype).ga=!1,ld.T=null,ld.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),wf(this,"tick"),this.ga&&(Mf(this),this.start()))}},ld.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ld.N=function(){Rf.$.N.call(this),Mf(this),delete this.g};var Ff=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return m(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:jf(this)}},{key:"N",value:function(){sd(b(n.prototype),"N",this).call(this),this.g&&(hd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(xd);function Uf(e){xd.call(this),this.h=e,this.g={}}_d(Uf,xd);var Bf=[];function Vf(e,t,n,r){Array.isArray(n)||(n&&(Bf[0]=n.toString()),n=Bf);for(var i=0;i<n.length;i++){var a=lf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function qf(e){Zd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&hf(e)}),e),e.g={}}function zf(){this.g=!0}function Wf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return _f(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Uf.prototype.N=function(){Uf.$.N.call(this),qf(this)},Uf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zf.prototype.Ea=function(){this.g=!1},zf.prototype.info=function(){};var Gf={},Kf=null;function Hf(){return Kf=Kf||new bf}function Qf(e){Id.call(this,Gf.Ta,e)}function Yf(e){var t=Hf();wf(t,new Qf(t))}function Xf(e,t){Id.call(this,Gf.STAT_EVENT,e),this.stat=t}function Jf(e){var t=Hf();wf(t,new Xf(t,e))}function Zf(e,t){Id.call(this,Gf.Ua,e),this.size=t}function eh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return hd.setTimeout((function(){e()}),t)}Gf.Ta="serverreachability",_d(Qf,Id),Gf.STAT_EVENT="statevent",_d(Xf,Id),Gf.Ua="timingevent",_d(Zf,Id);var th={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},nh={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function rh(){}function ih(e){return e.h||(e.h=e.i())}function ah(){}rh.prototype.h=null;var oh,uh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sh(){Id.call(this,"d")}function lh(){Id.call(this,"c")}function ch(){}function dh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Uf(this),this.P=hh,e=jd?125:void 0,this.V=new Rf(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new fh}function fh(){this.i=null,this.g="",this.h=!1}_d(sh,Id),_d(lh,Id),_d(ch,rh),ch.prototype.g=function(){return new XMLHttpRequest},ch.prototype.i=function(){return{}},oh=new ch;var hh=45e3,ph={},vh={};function mh(e,t,n){e.L=1,e.A=Rh(Nh(t)),e.u=n,e.S=!0,yh(e,null)}function yh(e,t){e.G=Date.now(),kh(e),e.B=Nh(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Hh(n.i,"t",r),e.o=0,n=e.l.J,e.h=new fh,e.g=Qp(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Ff(wd(e.Pa,e,e.g),e.O)),Vf(e.U,e.g,"readystatechange",e.nb),t=e.I?ef(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Yf(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var l=u[s].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function gh(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function bh(e,t,n){for(var r,i=!0;!e.J&&e.o<n.length;){if((r=wh(e,n))==vh){4==t&&(e.s=4,Jf(14),i=!1),Wf(e.j,e.m,null,"[Incomplete Response]");break}if(r==ph){e.s=4,Jf(15),Wf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Wf(e.j,e.m,r,null),Eh(e,r)}gh(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Jf(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bp(t),t.M=!0,Jf(11))):(Wf(e.j,e.m,n,"[Invalid Chunked Response]"),Sh(e),Ch(e))}function wh(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?vh:(n=Number(t.substring(n,r)),isNaN(n)?ph:(r+=1)+n>t.length?vh:(t=t.slice(r,r+n),e.o=r+n,t))}function kh(e){e.Y=Date.now()+e.P,_h(e,e.P)}function _h(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=eh(wd(e.lb,e),t)}function xh(e){e.C&&(hd.clearTimeout(e.C),e.C=null)}function Ch(e){0==e.l.H||e.J||zp(e.l,e)}function Sh(e){xh(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Mf(e.V),qf(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Eh(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||tp(n.i,e)))if(!e.K&&tp(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;qp(n),Op(n)}Up(n),Jf(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=eh(wd(n.ib,n),6e3));if(1>=ep(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Gp(n,11)}else if((e.K||n.g==e)&&qp(n),!Td(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var d=r.i;d.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(np(d,d.h),d.h=null))}if(r.F){var f=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.Da=f,Dh(r.I,r.F,f))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var h=e;if((r=n).wa=Hp(r,r.J?r.pa:null,r.Y),h.K){rp(r.i,h);var p=h,v=r.L;v&&p.setTimeout(v),p.C&&(xh(p),kh(p)),r.g=h}else Fp(r);0<n.j.length&&Rp(n)}else"stop"!=a[0]&&"close"!=a[0]||Gp(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Gp(n,7):Ap(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Yf()}catch(a){}}function Ih(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(pd(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(pd(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(pd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(ld=dh.prototype).setTimeout=function(e){this.P=e},ld.nb=function(e){e=e.target;var t=this.M;t&&3==Ep(e)?t.l():this.Pa(e)},ld.Pa=function(e){try{if(e==this.g)e:{var t=Ep(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||jd||this.g&&(this.h.h||this.g.ja()||Ip(this.g)))){this.J||4!=t||7==n||Yf(),xh(this);var r=this.g.da();this.ca=r;t:if(gh(this)){var i=Ip(this.g);e="";var a=i.length,o=4==Ep(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Sh(this),Ch(this);var u="";break t}this.h.i=new hd.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.length=0,this.h.g+=e,this.o=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.v,this.B,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Td(s)){var c=s;break t}}c=null}if(!(r=c)){this.i=!1,this.s=3,Jf(12),Sh(this),Ch(this);break e}Wf(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Eh(this,r)}this.S?(bh(this,t,u),jd&&this.i&&3==t&&(Vf(this.U,this.V,"tick",this.mb),this.V.start())):(Wf(this.j,this.m,u,null),Eh(this,u)),4==t&&Sh(this),this.i&&!this.J&&(4==t?zp(this.l,this):(this.i=!1,kh(this)))}else(function(e){var t={};e=(e.g&&2<=Ep(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Td(e[n])){var r=$f(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.s=3,Jf(12)):(this.s=0,Jf(13)),Sh(this),Ch(this)}}}catch(t){}},ld.mb=function(){if(this.g){var e=Ep(this.g),t=this.g.ja();this.o<t.length&&(xh(this),bh(this,e,t),this.i&&4!=e&&kh(this))}},ld.cancel=function(){this.J=!0,Sh(this)},ld.lb=function(){this.C=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Yf(),Jf(17)),Sh(this),this.s=2,Ch(this)):_h(this,this.Y-e)};var $h=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Th(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Th){this.h=e.h,Ph(this,e.j),this.s=e.s,this.g=e.g,Ah(this,e.m),this.l=e.l;var t=e.i,n=new zh;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Oh(this,n),this.o=e.o}else e&&(t=String(e).match($h))?(this.h=!1,Ph(this,t[1]||"",!0),this.s=Mh(t[2]||""),this.g=Mh(t[3]||"",!0),Ah(this,t[4]),this.l=Mh(t[5]||"",!0),Oh(this,t[6]||"",!0),this.o=Mh(t[7]||"")):(this.h=!1,this.i=new zh(null,this.h))}function Nh(e){return new Th(e)}function Ph(e,t,n){e.j=n?Mh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ah(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Oh(e,t,n){t instanceof zh?(e.i=t,function(e,t){t&&!e.j&&(Wh(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Gh(this,t),Hh(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Lh(t,Vh)),e.i=new zh(t,e.h))}function Dh(e,t,n){e.i.set(t,n)}function Rh(e){return Dh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Mh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Lh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,jh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function jh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Th.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Lh(t,Fh,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Lh(t,Fh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Lh(n,"/"==n.charAt(0)?Bh:Uh,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Lh(n,qh)),e.join("")};var Fh=/[#\/\?@]/g,Uh=/[#\?:]/g,Bh=/[#\?]/g,Vh=/[#\?@]/g,qh=/#/g;function zh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Wh(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Gh(e,t){Wh(e),t=Qh(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Kh(e,t){return Wh(e),t=Qh(e,t),e.g.has(t)}function Hh(e,t,n){Gh(e,t),0<n.length&&(e.i=null,e.g.set(Qh(e,t),Sd(n)),e.h+=n.length)}function Qh(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ld=zh.prototype).add=function(e,t){Wh(this),this.i=null,e=Qh(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ld.forEach=function(e,t){Wh(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},ld.ta=function(){Wh(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ld.Z=function(e){Wh(this);var t=[];if("string"===typeof e)Kh(this,e)&&(t=t.concat(this.g.get(Qh(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},ld.set=function(e,t){return Wh(this),this.i=null,Kh(this,e=Qh(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ld.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},ld.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Yh=m((function e(t,n){f(this,e),this.g=t,this.map=n}));function Xh(e){this.l=e||Jh,hd.PerformanceNavigationTiming?e=0<(e=hd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(hd.g&&hd.g.Ka&&hd.g.Ka()&&hd.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Jh=10;function Zh(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ep(e){return e.h?1:e.g?e.g.size:0}function tp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function np(e,t){e.g?e.g.add(t):e.h=t}function rp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ip(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=N(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Sd(e.i)}Xh.prototype.cancel=function(){if(this.i=ip(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=N(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var ap,op=function(){function e(){f(this,e)}return m(e,[{key:"stringify",value:function(e){return hd.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return hd.JSON.parse(e,void 0)}}]),e}();function up(){this.g=new op}function sp(e,t,n){var r=n||"";try{Ih(e,(function(e,n){var i=e;vd(e)&&(i=_f(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function lp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function cp(e){this.l=e.ec||null,this.j=e.ob||!1}function dp(e,t){bf.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=fp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_d(cp,rh),cp.prototype.g=function(){return new dp(this.l,this.j)},cp.prototype.i=(ap={},function(){return ap}),_d(dp,bf);var fp=0;function hp(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function pp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,vp(e)}function vp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ld=dp.prototype).open=function(e,t){if(this.readyState!=fp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,vp(this)},ld.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||hd).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ld.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pp(this)),this.readyState=fp},ld.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,vp(this)),this.g&&(this.readyState=3,vp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof hd.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hp(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},ld.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?pp(this):vp(this),3==this.readyState&&hp(this)}},ld.Za=function(e){this.g&&(this.response=this.responseText=e,pp(this))},ld.Ya=function(e){this.g&&(this.response=e,pp(this))},ld.ka=function(){this.g&&pp(this)},ld.setRequestHeader=function(e,t){this.v.append(e,t)},ld.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ld.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(dp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var mp=hd.JSON.parse;function yp(e){bf.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gp,this.L=this.M=!1}_d(yp,bf);var gp="",bp=/^https?$/i,wp=["POST","PUT"];function kp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,_p(e),Cp(e)}function _p(e){e.F||(e.F=!0,wf(e,"complete"),wf(e,"error"))}function xp(e){if(e.h&&"undefined"!=typeof fd&&(!e.C[1]||4!=Ep(e)||2!=e.da()))if(e.v&&4==Ep(e))Lf(e.La,0,e);else if(wf(e,"readystatechange"),4==Ep(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match($h)[1]||null;!a&&hd.self&&hd.self.location&&(a=hd.self.location.protocol.slice(0,-1)),i=!bp.test(a?a.toLowerCase():"")}t=i}if(t)wf(e,"complete"),wf(e,"success");else{e.m=6;try{var o=2<Ep(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",_p(e)}}finally{Cp(e)}}}function Cp(e,t){if(e.g){Sp(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||wf(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Sp(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(hd.clearTimeout(e.A),e.A=null)}function Ep(e){return e.g?e.g.readyState:0}function Ip(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case gp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Dv){return null}}function $p(e){var t="";return Zd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Tp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=$p(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Dh(e,t,n))}function Np(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Pp(e){this.Ga=0,this.j=[],this.l=new zf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Np("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Np("baseRetryDelayMs",5e3,e),this.hb=Np("retryDelaySeedMs",1e4,e),this.eb=Np("forwardChannelMaxRetries",2,e),this.xa=Np("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Xh(e&&e.concurrentRequestLimit),this.Ja=new up,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ap(e){if(Dp(e),3==e.H){var t=e.W++,n=Nh(e.I);if(Dh(n,"SID",e.K),Dh(n,"RID",t),Dh(n,"TYPE","terminate"),Lp(e,n),(t=new dh(e,e.l,t)).L=2,t.A=Rh(Nh(n)),n=!1,hd.navigator&&hd.navigator.sendBeacon)try{n=hd.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&hd.Image&&((new Image).src=t.A,n=!0),n||(t.g=Qp(t.l,null),t.g.ha(t.A)),t.G=Date.now(),kh(t)}Kp(e)}function Op(e){e.g&&(Bp(e),e.g.cancel(),e.g=null)}function Dp(e){Op(e),e.u&&(hd.clearTimeout(e.u),e.u=null),qp(e),e.i.cancel(),e.m&&("number"===typeof e.m&&hd.clearTimeout(e.m),e.m=null)}function Rp(e){if(!Zh(e.i)&&!e.m){e.m=!0;var t=e.Na;Nf||Of(),Pf||(Nf(),Pf=!0),Af.add(t,e),e.C=0}}function Mp(e,t){var n;n=t?t.m:e.W++;var r=Nh(e.I);Dh(r,"SID",e.K),Dh(r,"RID",n),Dh(r,"AID",e.V),Lp(e,r),e.o&&e.s&&Tp(r,e.o,e.s),n=new dh(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=jp(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),np(e.i,n),mh(n,r,t)}function Lp(e,t){e.na&&Zd(e.na,(function(e,n){Dh(t,n,e)})),e.h&&Ih({},(function(e,n){Dh(t,n,e)}))}function jp(e,t,n){n=Math.min(e.j.length,n);var r=e.h?wd(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var l=i[s].g,c=i[s].map;if(0>(l-=a))a=Math.max(0,i[s].g-100),u=!1;else try{sp(c,o,"req"+l+"_")}catch(Jm){r&&r(c)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Fp(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Nf||Of(),Pf||(Nf(),Pf=!0),Af.add(t,e),e.A=0}}function Up(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=eh(wd(e.Ma,e),Wp(e,e.A)),e.A++,!0)}function Bp(e){null!=e.B&&(hd.clearTimeout(e.B),e.B=null)}function Vp(e){e.g=new dh(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Nh(e.wa);Dh(t,"RID","rpc"),Dh(t,"SID",e.K),Dh(t,"AID",e.V),Dh(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Dh(t,"TO",e.qa),Dh(t,"TYPE","xmlhttp"),Lp(e,t),e.o&&e.s&&Tp(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Rh(Nh(t)),n.u=null,n.S=!0,yh(n,e)}function qp(e){null!=e.v&&(hd.clearTimeout(e.v),e.v=null)}function zp(e,t){var n=null;if(e.g==t){qp(e),Bp(e),e.g=null;var r=2}else{if(!tp(e.i,t))return;n=t.F,rp(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;wf(r=Hf(),new Zf(r,n)),Rp(e)}else Fp(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(ep(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=eh(wd(e.Na,e,t),Wp(e,e.C)),e.C++,!0))}(e,t)||2==r&&Up(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Gp(e,5);break;case 4:Gp(e,10);break;case 3:Gp(e,6);break;default:Gp(e,2)}}function Wp(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Gp(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=wd(e.pb,e);n||(n=new Th("//www.google.com/images/cleardot.gif"),hd.location&&"http"==hd.location.protocol||Ph(n,"https"),Rh(n)),function(e,t){var n=new zf;if(hd.Image){var r=new Image;r.onload=kd(lp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=kd(lp,n,r,"TestLoadImage: error",!1,t),r.onabort=kd(lp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=kd(lp,n,r,"TestLoadImage: timeout",!1,t),hd.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Jf(2);e.H=0,e.h&&e.h.za(t),Kp(e),Dp(e)}function Kp(e){if(e.H=0,e.ma=[],e.h){var t=ip(e.i);0==t.length&&0==e.j.length||(Ed(e.ma,t),Ed(e.ma,e.j),e.i.i.length=0,Sd(e.j),e.j.length=0),e.h.ya()}}function Hp(e,t,n){var r=n instanceof Th?Nh(n):new Th(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Ah(r,r.m);else{var i=hd.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Th(null);r&&Ph(a,r),t&&(a.g=t),i&&Ah(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Dh(r,n,t),Dh(r,"VER",e.ra),Lp(e,r),r}function Qp(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new yp(new cp({ob:n})):new yp(e.va)).Oa(e.J),t}function Yp(){}function Xp(){if(Md&&!(10<=Number(Gd)))throw Error("Environmental error: no available transport.")}function Jp(e,t){bf.call(this),this.g=new Pp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Td(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Td(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new tv(this)}function Zp(e){sh.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ev(){lh.call(this),this.status=1}function tv(e){this.g=e}function nv(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function rv(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function iv(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(ld=yp.prototype).Oa=function(e){this.M=e},ld.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():oh.g(),this.C=this.u?ih(this.u):ih(oh),this.g.onreadystatechange=wd(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void kp(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=N(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=hd.FormData&&e instanceof hd.FormData,!(0<=Cd(wp,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,l=N(n);try{for(l.s();!(s=l.n()).done;){var c=d(s.value,2),f=c[0],h=c[1];this.g.setRequestHeader(f,h)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Sp(this),0<this.B&&((this.L=function(e){return Md&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wd(this.ua,this)):this.A=Lf(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){kp(this,u)}},ld.ua=function(){"undefined"!=typeof fd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wf(this,"timeout"),this.abort(8))},ld.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,wf(this,"complete"),wf(this,"abort"),Cp(this))},ld.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cp(this,!0)),yp.$.N.call(this)},ld.La=function(){this.s||(this.G||this.v||this.l?xp(this):this.kb())},ld.kb=function(){xp(this)},ld.isActive=function(){return!!this.g},ld.da=function(){try{return 2<Ep(this)?this.g.status:-1}catch(ap){return-1}},ld.ja=function(){try{return this.g?this.g.responseText:""}catch(ap){return""}},ld.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),mp(t)}},ld.Ia=function(){return this.m},ld.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ld=Pp.prototype).ra=8,ld.H=1,ld.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new dh(this,this.l,e),n=this.s;if(this.U&&(n?nf(n=ef(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=jp(this,t,r),Dh(i=Nh(this.I),"RID",e),Dh(i,"CVER",22),this.F&&Dh(i,"X-HTTP-Session-Id",this.F),Lp(this,i),n&&(this.O?r="headers="+encodeURIComponent(String($p(n)))+"&"+r:this.o&&Tp(i,this.o,n)),np(this.i,t),this.bb&&Dh(i,"TYPE","init"),this.P?(Dh(i,"$req",r),Dh(i,"SID","null"),t.aa=!0,mh(t,i,null)):mh(t,i,r),this.H=2}}else 3==this.H&&(e?Mp(this,e):0==this.j.length||Zh(this.i)||Mp(this))},ld.Ma=function(){if(this.u=null,Vp(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=eh(wd(this.jb,this),e)}},ld.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Jf(10),Op(this),Vp(this))},ld.ib=function(){null!=this.v&&(this.v=null,Op(this),Up(this),Jf(19))},ld.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Jf(2)):(this.l.info("Failed to ping google.com"),Jf(1))},ld.isActive=function(){return!!this.h&&this.h.isActive(this)},(ld=Yp.prototype).Ba=function(){},ld.Aa=function(){},ld.za=function(){},ld.ya=function(){},ld.isActive=function(){return!0},ld.Va=function(){},Xp.prototype.g=function(e,t){return new Jp(e,t)},_d(Jp,bf),Jp.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Jf(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Hp(e,null,e.Y),Rp(e)},Jp.prototype.close=function(){Ap(this.g)},Jp.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=_f(e),e=n);t.j.push(new Yh(t.fb++,e)),3==t.H&&Rp(t)},Jp.prototype.N=function(){this.g.h=null,delete this.j,Ap(this.g),delete this.g,Jp.$.N.call(this)},_d(Zp,sh),_d(ev,lh),_d(tv,Yp),tv.prototype.Ba=function(){wf(this.g,"a")},tv.prototype.Aa=function(e){wf(this.g,new Zp(e))},tv.prototype.za=function(e){wf(this.g,new ev)},tv.prototype.ya=function(){wf(this.g,"b")},_d(nv,(function(){this.blockSize=-1})),nv.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},nv.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)rv(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){rv(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){rv(this,r),i=0;break}}this.h=i,this.i+=t},nv.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var av={};function ov(e){return-128<=e&&128>e?function(e,t){var n=av;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new iv([0|e],0>e?-1:0)})):new iv([0|e],0>e?-1:0)}function uv(e){if(isNaN(e)||!isFinite(e))return lv;if(0>e)return pv(uv(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=sv;return new iv(t,0)}var sv=4294967296,lv=ov(0),cv=ov(1),dv=ov(16777216);function fv(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function hv(e){return-1==e.h}function pv(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new iv(n,~e.h).add(cv)}function vv(e,t){return e.add(pv(t))}function mv(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function yv(e,t){this.g=e,this.h=t}function gv(e,t){if(fv(t))throw Error("division by zero");if(fv(e))return new yv(lv,lv);if(hv(e))return t=gv(pv(e),t),new yv(pv(t.g),pv(t.h));if(hv(t))return t=gv(e,pv(t)),new yv(pv(t.g),t.h);if(30<e.g.length){if(hv(e)||hv(t))throw Error("slowDivide_ only works with positive integers.");for(var n=cv,r=t;0>=r.X(e);)n=bv(n),r=bv(r);var i=wv(n,1),a=wv(r,1);for(r=wv(r,2),n=wv(n,2);!fv(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=wv(r,1),n=wv(n,1)}return t=vv(e,i.R(t)),new yv(i,t)}for(i=lv;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=uv(n)).R(t);hv(o)||0<o.X(e);)o=(a=uv(n-=r)).R(t);fv(a)&&(a=cv),i=i.add(a),e=vv(e,o)}return new yv(i,e)}function bv(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new iv(n,e.h)}function wv(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new iv(i,e.h)}(ld=iv.prototype).ea=function(){if(hv(this))return-pv(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:sv+r)*t,t*=sv}return e},ld.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(fv(this))return"0";if(hv(this))return"-"+pv(this).toString(e);for(var t=uv(Math.pow(e,6)),n=this,r="";;){var i=gv(n,t).g,a=((0<(n=vv(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(fv(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},ld.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},ld.X=function(e){return hv(e=vv(this,e))?-1:fv(e)?0:1},ld.abs=function(){return hv(this)?pv(this):this},ld.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new iv(n,-2147483648&n[n.length-1]?-1:0)},ld.R=function(e){if(fv(this)||fv(e))return lv;if(hv(this))return hv(e)?pv(this).R(pv(e)):pv(pv(this).R(e));if(hv(e))return pv(this.R(pv(e)));if(0>this.X(dv)&&0>e.X(dv))return uv(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,mv(n,2*r+2*i),n[2*r+2*i+1]+=a*s,mv(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,mv(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,mv(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new iv(n,0)},ld.gb=function(e){return gv(this,e).h},ld.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new iv(n,this.h&e.h)},ld.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new iv(n,this.h|e.h)},ld.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new iv(n,this.h^e.h)},Xp.prototype.createWebChannel=Xp.prototype.g,Jp.prototype.send=Jp.prototype.u,Jp.prototype.open=Jp.prototype.m,Jp.prototype.close=Jp.prototype.close,th.NO_ERROR=0,th.TIMEOUT=8,th.HTTP_ERROR=6,nh.COMPLETE="complete",ah.EventType=uh,uh.OPEN="a",uh.CLOSE="b",uh.ERROR="c",uh.MESSAGE="d",bf.prototype.listen=bf.prototype.O,yp.prototype.listenOnce=yp.prototype.P,yp.prototype.getLastError=yp.prototype.Sa,yp.prototype.getLastErrorCode=yp.prototype.Ia,yp.prototype.getStatus=yp.prototype.da,yp.prototype.getResponseJson=yp.prototype.Wa,yp.prototype.getResponseText=yp.prototype.ja,yp.prototype.send=yp.prototype.ha,yp.prototype.setWithCredentials=yp.prototype.Oa,nv.prototype.digest=nv.prototype.l,nv.prototype.reset=nv.prototype.reset,nv.prototype.update=nv.prototype.j,iv.prototype.add=iv.prototype.add,iv.prototype.multiply=iv.prototype.R,iv.prototype.modulo=iv.prototype.gb,iv.prototype.compare=iv.prototype.X,iv.prototype.toNumber=iv.prototype.ea,iv.prototype.toString=iv.prototype.toString,iv.prototype.getBits=iv.prototype.D,iv.fromNumber=uv,iv.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return pv(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=uv(Math.pow(n,8)),i=lv,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=uv(Math.pow(n,o)),i=i.R(o).add(uv(u))):i=(i=i.R(r)).add(uv(u))}return i};var kv=dd.createWebChannelTransport=function(){return new Xp},_v=dd.getStatEventTarget=function(){return Hf()},xv=dd.ErrorCode=th,Cv=dd.EventType=nh,Sv=dd.Event=Gf,Ev=dd.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Iv=(dd.FetchXmlHttpFactory=cp,dd.WebChannel=ah),$v=dd.XhrIo=yp,Tv=dd.Md5=nv,Nv=dd.Integer=iv,Pv="@firebase/firestore",Av=function(){function e(t){f(this,e),this.uid=t}return m(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Av.UNAUTHENTICATED=new Av(null),Av.GOOGLE_CREDENTIALS=new Av("google-credentials-uid"),Av.FIRST_PARTY=new Av("first-party-uid"),Av.MOCK_USER=new Av("mock-user");var Ov="10.8.1",Dv=new ur("@firebase/firestore");function Rv(){return Dv.logLevel}function Mv(e){if(Dv.logLevel<=er.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Fv);Dv.debug.apply(Dv,["Firestore (".concat(Ov,"): ").concat(e)].concat(P(i)))}}function Lv(e){if(Dv.logLevel<=er.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Fv);Dv.error.apply(Dv,["Firestore (".concat(Ov,"): ").concat(e)].concat(P(i)))}}function jv(e){if(Dv.logLevel<=er.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Fv);Dv.warn.apply(Dv,["Firestore (".concat(Ov,"): ").concat(e)].concat(P(i)))}}function Fv(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Uv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ov,") INTERNAL ASSERTION FAILED: ")+e;throw Lv(t),new Error(t)}function Bv(e,t){e||Uv()}function Vv(e,t){return e}var qv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},zv=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return m(n)}($n),Wv=m((function e(){var t=this;f(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Gv=m((function e(t,n){f(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Kv=function(){function e(){f(this,e)}return m(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Av.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Hv=function(){function e(t){f(this,e),this.token=t,this.changeListener=null}return m(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Qv=function(){function e(t){f(this,e),this.t=t,this.currentUser=Av.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Wv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Wv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(S(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Mv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Mv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Wv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Mv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Bv("string"==typeof n.accessToken),new Gv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Bv(null===e||"string"==typeof e),new Av(e)}}]),e}(),Yv=function(){function e(t,n,r){f(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Av.FIRST_PARTY,this.I=new Map}return m(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Xv=function(){function e(t,n,r){f(this,e),this.l=t,this.h=n,this.P=r}return m(e,[{key:"getToken",value:function(){return Promise.resolve(new Yv(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Av.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Jv=m((function e(t){f(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Zv=function(){function e(t){f(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Mv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,Mv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Mv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):Mv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Bv("string"==typeof t.token),e.R=t.token,new Jv(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function em(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var tm=function(){function e(){f(this,e)}return m(e,null,[{key:"newId",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=em(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function nm(e,t){return e<t?-1:e>t?1:0}function rm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function im(e){return e+"\0"}var am=function(){function e(t,n){if(f(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new zv(qv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new zv(qv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new zv(qv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new zv(qv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return m(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?nm(this.nanoseconds,e.nanoseconds):nm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),om=function(){function e(t){f(this,e),this.timestamp=t}return m(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new am(0,0))}},{key:"max",value:function(){return new e(new am(253402300799,999999999))}}]),e}(),um=function(){function e(t,n,r){f(this,e),void 0===n?n=0:n>t.length&&Uv(),void 0===r?r=t.length-n:r>t.length-n&&Uv(),this.segments=t,this.offset=n,this.len=r}return m(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),sm=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"toUriEncodedString",value:function(){return this.toArray().map(encodeURIComponent).join("/")}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new zv(qv.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,P(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(um),lm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,cm=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return lm.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new zv(qv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new zv(qv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new zv(qv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new zv(qv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(um),dm=function(){function e(t){f(this,e),this.path=t}return m(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===sm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(sm.fromString(t))}},{key:"fromName",value:function(t){return new e(sm.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(sm.emptyPath())}},{key:"comparator",value:function(e,t){return sm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new sm(t.slice()))}}]),e}(),fm=m((function e(t,n,r,i){f(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function hm(e){return e.fields.find((function(e){return 2===e.kind}))}function pm(e){return e.fields.filter((function(e){return 2!==e.kind}))}fm.UNKNOWN_ID=-1;var vm=m((function e(t,n){f(this,e),this.fieldPath=t,this.kind=n}));var mm=function(){function e(t,n){f(this,e),this.sequenceNumber=t,this.offset=n}return m(e,null,[{key:"empty",value:function(){return new e(0,bm.min())}}]),e}();function ym(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=om.fromTimestamp(1e9===r?new am(n+1,0):new am(n,r));return new bm(i,dm.empty(),t)}function gm(e){return new bm(e.readTime,e.key,-1)}var bm=function(){function e(t,n,r){f(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return m(e,null,[{key:"min",value:function(){return new e(om.min(),dm.empty(),-1)}},{key:"max",value:function(){return new e(om.max(),dm.empty(),-1)}}]),e}();function wm(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=dm.comparator(e.documentKey,t.documentKey))?n:nm(e.largestBatchId,t.largestBatchId)}var km="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_m=function(){function e(){f(this,e),this.onCommittedListeners=[]}return m(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function xm(e){return Cm.apply(this,arguments)}function Cm(){return(Cm=S(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===qv.FAILED_PRECONDITION&&t.message===km){e.next=2;break}throw t;case 2:Mv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sm=function(){function e(t){var n=this;f(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return m(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Uv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=N(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Em=function(){function e(t,n){var r=this;f(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.V=new Wv,this.transaction.oncomplete=function(){r.V.resolve()},this.transaction.onabort=function(){n.error?r.V.reject(new Tm(t,n.error)):r.V.resolve()},this.transaction.onerror=function(e){var n=Dm(e.target.error);r.V.reject(new Tm(t,n))}}return m(e,[{key:"m",get:function(){return this.V.promise}},{key:"abort",value:function(e){e&&this.V.reject(e),this.aborted||(Mv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"g",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Pm(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Tm(n,t)}}}]),e}(),Im=function(){function e(t,n,r){f(this,e),this.name=t,this.version=n,this.p=r,12.2===e.S(xn())&&Lv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return m(e,[{key:"O",value:function(){var e=S(x().mark((function e(t){var n=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Mv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Tm(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new zv(qv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new zv(qv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Tm(t,n))},i.onupgradeneeded=function(e){Mv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.p.N(t,i.transaction,e.oldVersion,n.version).next((function(){Mv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=S(x().mark((function e(t,n,r,i){var a,o,u,s,l=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=x().mark((function e(){var n,u,s,c;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,l.O(t);case 4:return l.db=e.sent,n=Em.open(l.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.g(),e})).catch((function(e){return n.abort(e),Sm.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.m;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,c="FirebaseError"!==s.name&&o<3,Mv("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),l.close(),c){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Mv("SimpleDb","Removing database:",e),Am(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!In())return!1;if(e.C())return!0;var t=xn(),n=e.S(t),r=0<n&&n<10,i=e.v(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"v",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),$m=function(){function e(t){f(this,e),this.k=t,this.q=!1,this.K=null}return m(e,[{key:"isDone",get:function(){return this.q}},{key:"$",get:function(){return this.K}},{key:"cursor",set:function(e){this.k=e}},{key:"done",value:function(){this.q=!0}},{key:"U",value:function(e){this.K=e}},{key:"delete",value:function(){return Am(this.k.delete())}}]),e}(),Tm=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,qv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return m(n)}(zv);function Nm(e){return"IndexedDbTransactionError"===e.name}var Pm=function(){function e(t){f(this,e),this.store=t}return m(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Mv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Mv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Am(n)}},{key:"add",value:function(e){return Mv("SimpleDb","ADD",this.store.name,e,e),Am(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Am(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Mv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Mv("SimpleDb","DELETE",this.store.name,e),Am(this.store.delete(e))}},{key:"count",value:function(){return Mv("SimpleDb","COUNT",this.store.name),Am(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){var i=r.getAll(n.range);return new Sm((function(e,t){i.onerror=function(e){t(e.target.error)},i.onsuccess=function(t){e(t.target.result)}}))}var a=this.cursor(n),o=[];return this.G(a,(function(e,t){o.push(t)})).next((function(){return o}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Sm((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){Mv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.J=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"Y",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new Sm((function(n,r){t.onerror=function(e){var t=Dm(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new Sm((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new $m(i),o=t(i.primaryKey,i.value,a);if(o instanceof Sm){var u=o.catch((function(e){return a.done(),Sm.reject(e)}));n.push(u)}a.isDone?r():null===a.$?i.continue():i.continue(a.$)}else r()}})).next((function(){return Sm.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Am(e){return new Sm((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Dm(e.target.error);n(t)}}))}var Om=!1;function Dm(e){var t=Im.S(xn());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new zv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Om||(Om=!0,setTimeout((function(){throw r}),0)),r}}return e}var Rm=function(){function e(t,n){f(this,e),this.asyncQueue=t,this.X=n,this.task=null}return m(e,[{key:"start",value:function(){this.ee(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"ee",value:function(e){var t=this;Mv("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,S(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Mv,e.t1="Documents written: ",e.next=6,t.X.te();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackfiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Nm(e.t4)){e.next=17;break}Mv("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,xm(e.t4);case 19:return e.next=21,t.ee(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Mm=function(){function e(t,n){f(this,e),this.localStore=t,this.persistence=n}return m(e,[{key:"te",value:function(){var e=S(x().mark((function e(){var t,n=this,r=arguments;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.ne(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ne",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Sm.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Mv("IndexBackfiller","Processing collection: ".concat(t)),n.re(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"re",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ie(i,n)})).next((function(n){return Mv("IndexBackfiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ie",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=gm(t);wm(r,n)>0&&(n=r)})),new bm(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Lm=function(){function e(t,n){var r=this;f(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.se(e)},this.oe=function(e){return n.writeSequenceNumber(e)})}return m(e,[{key:"se",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.oe&&this.oe(e),e}}]),e}();function jm(e){return null==e}function Fm(e){return 0===e&&1/e==-1/0}function Um(e){return"number"==typeof e&&Number.isInteger(e)&&!Fm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Bm(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=qm(t)),t=Vm(e.get(n),t);return qm(t)}function Vm(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function qm(e){return e+"\x01\x01"}function zm(e){var t=e.length;if(Bv(t>=2),2===t)return Bv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),sm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Uv(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Uv()}a=o+2}return new sm(r)}Lm._e=-1;var Wm=["userId","batchId"];function Gm(e,t){return[e,Bm(t)]}function Km(e,t,n){return[e,Bm(t),n]}var Hm={},Qm=["prefixPath","collectionGroup","readTime","documentId"],Ym=["prefixPath","collectionGroup","documentId"],Xm=["collectionGroup","readTime","prefixPath","documentId"],Jm=["canonicalId","targetId"],Zm=["targetId","path"],ey=["path","targetId"],ty=["collectionId","parent"],ny=["indexId","uid"],ry=["uid","sequenceNumber"],iy=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ay=["indexId","uid","orderedDocumentKey"],oy=["userId","collectionPath","documentId"],uy=["userId","collectionPath","largestBatchId"],sy=["userId","collectionGroup","largestBatchId"],ly=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),cy=[].concat(P(ly),["documentOverlays"]),dy=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fy=dy,hy=[].concat(fy,["indexConfiguration","indexState","indexEntries"]),py=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).ae=e,i.currentSequenceNumber=r,i}return m(n)}(_m);function vy(e,t){var n=Vv(e);return Im.M(n.ae,t)}function my(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yy(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function gy(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var by=function(){function e(t,n){f(this,e),this.comparator=t,this.root=n||ky.EMPTY}return m(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ky.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ky.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new wy(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new wy(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new wy(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new wy(this.root,e,this.comparator,!0)}}]),e}(),wy=function(){function e(t,n,r,i){f(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return m(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ky=function(){function e(t,n,r,i,a){f(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return m(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Uv();if(this.right.isRed())throw Uv();var e=this.left.check();if(e!==this.right.check())throw Uv();return e+(this.isRed()?0:1)}}]),e}();ky.EMPTY=null,ky.RED=!0,ky.BLACK=!1,ky.EMPTY=new(function(){function e(){f(this,e),this.size=0}return m(e,[{key:"key",get:function(){throw Uv()}},{key:"value",get:function(){throw Uv()}},{key:"color",get:function(){throw Uv()}},{key:"left",get:function(){throw Uv()}},{key:"right",get:function(){throw Uv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ky(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var _y=function(){function e(t){f(this,e),this.comparator=t,this.data=new by(this.comparator)}return m(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new xy(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new xy(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),xy=function(){function e(t){f(this,e),this.iter=t}return m(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Cy(e){return e.hasNext()?e.getNext():void 0}var Sy=function(){function e(t){f(this,e),this.fields=t,t.sort(cm.comparator)}return m(e,[{key:"unionWith",value:function(t){var n,r=new _y(cm.comparator),i=N(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,u=N(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(l){u.e(l)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=N(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return rm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Ey=function(e){g(n,e);var t=_(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return m(n)}($(Error));var Iy=function(e){function t(e){f(this,t),this.binaryString=e}return m(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return nm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ey("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Iy.EMPTY_BYTE_STRING=new Iy("");var $y=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ty(e){if(Bv(!!e),"string"==typeof e){var t=0,n=$y.exec(e);if(Bv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ny(e.seconds),nanos:Ny(e.nanos)}}function Ny(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Py(e){return"string"==typeof e?Iy.fromBase64String(e):Iy.fromUint8Array(e)}function Ay(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Oy(e){var t=e.mapValue.fields.__previous_value__;return Ay(t)?Oy(t):t}function Dy(e){var t=Ty(e.mapValue.fields.__local_write_time__.timestampValue);return new am(t.seconds,t.nanos)}var Ry=m((function e(t,n,r,i,a,o,u,s,l){f(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=l})),My=function(){function e(t,n){f(this,e),this.projectId=t,this.database=n||"(default)"}return m(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Ly={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jy={nullValue:"NULL_VALUE"};function Fy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ay(e)?4:Zy(e)?9007199254740991:10:Uv()}function Uy(e,t){if(e===t)return!0;var n=Fy(e);if(n!==Fy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Dy(e).isEqual(Dy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Ty(e.timestampValue),r=Ty(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Py(e.bytesValue).isEqual(Py(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ny(e.geoPointValue.latitude)===Ny(t.geoPointValue.latitude)&&Ny(e.geoPointValue.longitude)===Ny(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ny(e.integerValue)===Ny(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ny(e.doubleValue),r=Ny(t.doubleValue);return n===r?Fm(n)===Fm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return rm(e.arrayValue.values||[],t.arrayValue.values||[],Uy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(my(n)!==my(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Uy(n[i],r[i])))return!1;return!0}(e,t);default:return Uv()}}function By(e,t){return void 0!==(e.values||[]).find((function(e){return Uy(e,t)}))}function Vy(e,t){if(e===t)return 0;var n=Fy(e),r=Fy(t);if(n!==r)return nm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ny(e.integerValue||e.doubleValue),r=Ny(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return qy(e.timestampValue,t.timestampValue);case 4:return qy(Dy(e),Dy(t));case 5:return nm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Py(e),r=Py(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=nm(n[i],r[i]);if(0!==a)return a}return nm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=nm(Ny(e.latitude),Ny(t.latitude));return 0!==n?n:nm(Ny(e.longitude),Ny(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Vy(n[i],r[i]);if(a)return a}return nm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Ly.mapValue&&t===Ly.mapValue)return 0;if(e===Ly.mapValue)return 1;if(t===Ly.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=nm(r[o],a[o]);if(0!==u)return u;var s=Vy(n[r[o]],i[a[o]]);if(0!==s)return s}return nm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Uv()}}function qy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return nm(e,t);var n=Ty(e),r=Ty(t),i=nm(n.seconds,r.seconds);return 0!==i?i:nm(n.nanos,r.nanos)}function zy(e){return Wy(e)}function Wy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Ty(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Py(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return dm.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=N(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Wy(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=N(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Wy(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Uv()}function Gy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ky(e){return!!e&&"integerValue"in e}function Hy(e){return!!e&&"arrayValue"in e}function Qy(e){return!!e&&"nullValue"in e}function Yy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xy(e){return!!e&&"mapValue"in e}function Jy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return yy(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Jy(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Jy(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Zy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function eg(e){return"nullValue"in e?jy:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Gy(My.empty(),dm.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Uv()}function tg(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Gy(My.empty(),dm.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Ly:Uv()}function ng(e,t){var n=Vy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function rg(e,t){var n=Vy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var ig=function(){function e(t){f(this,e),this.value=t}return m(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Xy(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jy(t)}},{key:"setAll",value:function(e){var t=this,n=cm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Jy(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Xy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Uy(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Xy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){yy(t,(function(t,n){return e[t]=n}));var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Jy(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ag(e){var t=[];return yy(e.fields,(function(e,n){var r=new cm([e]);if(Xy(n)){var i=ag(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=N(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Sy(t)}var og=function(){function e(t,n,r,i,a,o,u){f(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return m(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(om.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=ig.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=ig.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=om.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,om.min(),om.min(),om.min(),ig.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,om.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,om.min(),om.min(),ig.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,om.min(),om.min(),ig.empty(),2)}}]),e}(),ug=m((function e(t,n){f(this,e),this.position=t,this.inclusive=n}));function sg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?dm.comparator(dm.fromName(o.referenceValue),n.key):Vy(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function lg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Uy(e.position[n],t.position[n]))return!1;return!0}var cg=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";f(this,e),this.field=t,this.dir=n}));function dg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var fg=m((function e(){f(this,e)})),hg=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Vy(t,this.value)):null!==t&&Fy(this.value)===Fy(t)&&this.matchesComparison(Vy(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Uv()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new xg(e,t,r):"array-contains"===t?new Ig(e,r):"in"===t?new $g(e,r):"not-in"===t?new Tg(e,r):"array-contains-any"===t?new Ng(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Cg(e,n):new Sg(e,n)}}]),n}(fg),pg=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).filters=e,i.op=r,i.ue=null,i}return m(n,[{key:"matches",value:function(e){return vg(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ue||(this.ue=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ue}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(fg);function vg(e){return"and"===e.op}function mg(e){return"or"===e.op}function yg(e){return gg(e)&&vg(e)}function gg(e){var t,n=N(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof pg)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function bg(e){if(e instanceof hg)return e.field.canonicalString()+e.op.toString()+zy(e.value);if(yg(e))return e.filters.map((function(e){return bg(e)})).join(",");var t=e.filters.map((function(e){return bg(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function wg(e,t){return e instanceof hg?function(e,t){return t instanceof hg&&e.op===t.op&&e.field.isEqual(t.field)&&Uy(e.value,t.value)}(e,t):e instanceof pg?function(e,t){return t instanceof pg&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&wg(n,t.filters[r])}),!0)}(e,t):void Uv()}function kg(e,t){var n=e.filters.concat(t);return pg.create(n,e.op)}function _g(e){return e instanceof hg?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(zy(e.value))}(e):e instanceof pg?function(e){return e.op.toString()+" {"+e.getFilters().map(_g).join(" ,")+"}"}(e):"Filter"}var xg=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,e,r,i)).key=dm.fromName(i.referenceValue),a}return m(n,[{key:"matches",value:function(e){var t=dm.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(hg),Cg=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,"in",r)).keys=Eg("in",r),i}return m(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(hg),Sg=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,"not-in",r)).keys=Eg("not-in",r),i}return m(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(hg);function Eg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return dm.fromName(e.referenceValue)}))}var Ig=function(e){g(n,e);var t=_(n);function n(e,r){return f(this,n),t.call(this,e,"array-contains",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Hy(t)&&By(t.arrayValue,this.value)}}]),n}(hg),$g=function(e){g(n,e);var t=_(n);function n(e,r){return f(this,n),t.call(this,e,"in",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&By(this.value.arrayValue,t)}}]),n}(hg),Tg=function(e){g(n,e);var t=_(n);function n(e,r){return f(this,n),t.call(this,e,"not-in",r)}return m(n,[{key:"matches",value:function(e){if(By(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!By(this.value.arrayValue,t)}}]),n}(hg),Ng=function(e){g(n,e);var t=_(n);function n(e,r){return f(this,n),t.call(this,e,"array-contains-any",r)}return m(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Hy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return By(t.value.arrayValue,e)}))}}]),n}(hg),Pg=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;f(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ce=null}));function Ag(e){return new Pg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Og(e){var t=Vv(e);if(null===t.ce){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return bg(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),jm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return zy(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return zy(e)})).join(",")),t.ce=n}return t.ce}function Dg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!dg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!wg(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!lg(e.startAt,t.startAt)&&lg(e.endAt,t.endAt)}function Rg(e){return dm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Mg(e,t){return e.filters.filter((function(e){return e instanceof hg&&e.field.isEqual(t)}))}function Lg(e,t,n){var r,i=jy,a=!0,o=N(Mg(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=jy,l=!0;switch(u.op){case"<":case"<=":s=eg(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,l=!1;break;case"!=":case"not-in":s=jy}ng({value:i,inclusive:a},{value:s,inclusive:l})<0&&(i=s,a=l)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var c=0;c<e.orderBy.length;++c)if(e.orderBy[c].field.isEqual(t)){var d=n.position[c];ng({value:i,inclusive:a},{value:d,inclusive:n.inclusive})<0&&(i=d,a=n.inclusive);break}return{value:i,inclusive:a}}function jg(e,t,n){var r,i=Ly,a=!0,o=N(Mg(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ly,l=!0;switch(u.op){case">=":case">":s=tg(u.value),l=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,l=!1;break;case"!=":case"not-in":s=Ly}rg({value:i,inclusive:a},{value:s,inclusive:l})>0&&(i=s,a=l)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var c=0;c<e.orderBy.length;++c)if(e.orderBy[c].field.isEqual(t)){var d=n.position[c];rg({value:i,inclusive:a},{value:d,inclusive:n.inclusive})>0&&(i=d,a=n.inclusive);break}return{value:i,inclusive:a}}var Fg=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;f(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}));function Ug(e,t,n,r,i,a,o,u){return new Fg(e,t,n,r,i,a,o,u)}function Bg(e){return new Fg(e)}function Vg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function qg(e){return null!==e.collectionGroup}function zg(e){var t=Vv(e);if(null===t.le){t.le=[];var n,r=new Set,i=N(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.le.push(a),r.add(a.field.canonicalString())}}catch(s){i.e(s)}finally{i.f()}var o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",u=function(e){var t=new _y(cm.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);u.forEach((function(e){r.has(e.canonicalString())||e.isKeyField()||t.le.push(new cg(e,o))})),r.has(cm.keyField().canonicalString())||t.le.push(new cg(cm.keyField(),o))}return t.le}function Wg(e){var t=Vv(e);return t.he||(t.he=Gg(t,zg(e))),t.he}function Gg(e,t){if("F"===e.limitType)return Ag(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new cg(e.field,t)}));var n=e.endAt?new ug(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ug(e.startAt.position,e.startAt.inclusive):null;return Ag(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}function Kg(e,t){var n=e.filters.concat([t]);return new Fg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Hg(e,t,n){return new Fg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qg(e,t){return Dg(Wg(e),Wg(t))&&e.limitType===t.limitType}function Yg(e){return"".concat(Og(Wg(e)),"|lt:").concat(e.limitType)}function Xg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return _g(e)})).join(", "),"]")),jm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return zy(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return zy(e)})).join(",")),"Target(".concat(t,")")}(Wg(e)),"; limitType=").concat(e.limitType,")")}function Jg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):dm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=N(zg(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=N(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=sg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,zg(e),t))&&!(e.endAt&&!function(e,t,n){var r=sg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,zg(e),t))}(e,t)}function Zg(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function eb(e){return function(t,n){var r,i=!1,a=N(zg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=tb(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function tb(e,t,n){var r=e.field.isKeyField()?dm.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Vy(r,i):Uv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Uv()}}var nb=function(){function e(t,n){f(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return m(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=d(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){yy(this.inner,(function(t,n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=d(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return gy(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),rb=new by(dm.comparator);function ib(){return rb}var ab=new by(dm.comparator);function ob(){for(var e=ab,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function ub(e){var t=ab;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function sb(){return cb()}function lb(){return cb()}function cb(){return new nb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var db=new by(dm.comparator),fb=new _y(dm.comparator);function hb(){for(var e=fb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var pb=new _y(nm);function vb(){return pb}function mb(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fm(t)?"-0":t}}function yb(e){return{integerValue:""+e}}function gb(e,t){return Um(t)?yb(t):mb(e,t)}var bb=m((function e(){f(this,e),this._=void 0}));function wb(e,t,n){return e instanceof xb?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ay(t)&&(t=Oy(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Cb?Sb(e,t):e instanceof Eb?Ib(e,t):function(e,t){var n=_b(e,t),r=Tb(n)+Tb(e.Ie);return Ky(n)&&Ky(e.Ie)?yb(r):mb(e.serializer,r)}(e,t)}function kb(e,t,n){return e instanceof Cb?Sb(e,t):e instanceof Eb?Ib(e,t):n}function _b(e,t){return e instanceof $b?function(e){return Ky(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var xb=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n)}(bb),Cb=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).elements=e,r}return m(n)}(bb);function Sb(e,t){var n,r=Nb(t),i=N(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Uy(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Eb=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).elements=e,r}return m(n)}(bb);function Ib(e,t){var n,r=Nb(t),i=N(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Uy(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var $b=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).serializer=e,i.Ie=r,i}return m(n)}(bb);function Tb(e){return Ny(e.integerValue||e.doubleValue)}function Nb(e){return Hy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Pb=m((function e(t,n){f(this,e),this.field=t,this.transform=n}));var Ab=m((function e(t,n){f(this,e),this.version=t,this.transformResults=n})),Ob=function(){function e(t,n){f(this,e),this.updateTime=t,this.exists=n}return m(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Db(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Rb=m((function e(){f(this,e)}));function Mb(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Hb(e.key,Ob.none()):new Bb(e.key,e.data,Ob.none());var n,r=e.data,i=ig.empty(),a=new _y(cm.comparator),o=N(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(l){o.e(l)}finally{o.f()}return new Vb(e.key,i,new Sy(a.toArray()),Ob.none())}function Lb(e,t,n){e instanceof Bb?function(e,t,n){var r=e.value.clone(),i=zb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Vb?function(e,t,n){if(Db(e.precondition,t)){var r=zb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(qb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function jb(e,t,n,r){return e instanceof Bb?function(e,t,n,r){if(!Db(e.precondition,t))return n;var i=e.value.clone(),a=Wb(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Vb?function(e,t,n,r){if(!Db(e.precondition,t))return n;var i=Wb(e.fieldTransforms,r,t),a=t.data;return a.setAll(qb(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Db(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Fb(e,t){var n,r=null,i=N(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=_b(a.transform,o||null);null!=u&&(null===r&&(r=ig.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Ub(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&rm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Cb&&t instanceof Cb||e instanceof Eb&&t instanceof Eb?rm(e.elements,t.elements,Uy):e instanceof $b&&t instanceof $b?Uy(e.Ie,t.Ie):e instanceof xb&&t instanceof xb}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Bb=function(e){g(n,e);var t=_(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return f(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Rb),Vb=function(e){g(n,e);var t=_(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return f(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return m(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Rb);function qb(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function zb(e,t,n){var r=new Map;Bv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,kb(o,u,n[i]))}return r}function Wb(e,t,n){var r,i=new Map,a=N(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,wb(u,s,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Gb,Kb,Hb=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Rb),Qb=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Rb),Yb=function(){function e(t,n,r,i){f(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return m(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Lb(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=N(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=jb(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=N(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=jb(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=lb();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Mb(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(om.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),hb())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&rm(this.mutations,e.mutations,(function(e,t){return Ub(e,t)}))&&rm(this.baseMutations,e.baseMutations,(function(e,t){return Ub(e,t)}))}}]),e}(),Xb=function(){function e(t,n,r,i){f(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return m(e,null,[{key:"from",value:function(t,n,r){Bv(t.mutations.length===r.length);for(var i=db,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Jb=function(){function e(t,n){f(this,e),this.largestBatchId=t,this.mutation=n}return m(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Zb=m((function e(t,n){f(this,e),this.count=t,this.unchangedNames=n}));function ew(e){switch(e){default:return Uv();case qv.CANCELLED:case qv.UNKNOWN:case qv.DEADLINE_EXCEEDED:case qv.RESOURCE_EXHAUSTED:case qv.INTERNAL:case qv.UNAVAILABLE:case qv.UNAUTHENTICATED:return!1;case qv.INVALID_ARGUMENT:case qv.NOT_FOUND:case qv.ALREADY_EXISTS:case qv.PERMISSION_DENIED:case qv.FAILED_PRECONDITION:case qv.ABORTED:case qv.OUT_OF_RANGE:case qv.UNIMPLEMENTED:case qv.DATA_LOSS:return!0}}function tw(e){if(void 0===e)return Lv("GRPC error has no .code"),qv.UNKNOWN;switch(e){case Gb.OK:return qv.OK;case Gb.CANCELLED:return qv.CANCELLED;case Gb.UNKNOWN:return qv.UNKNOWN;case Gb.DEADLINE_EXCEEDED:return qv.DEADLINE_EXCEEDED;case Gb.RESOURCE_EXHAUSTED:return qv.RESOURCE_EXHAUSTED;case Gb.INTERNAL:return qv.INTERNAL;case Gb.UNAVAILABLE:return qv.UNAVAILABLE;case Gb.UNAUTHENTICATED:return qv.UNAUTHENTICATED;case Gb.INVALID_ARGUMENT:return qv.INVALID_ARGUMENT;case Gb.NOT_FOUND:return qv.NOT_FOUND;case Gb.ALREADY_EXISTS:return qv.ALREADY_EXISTS;case Gb.PERMISSION_DENIED:return qv.PERMISSION_DENIED;case Gb.FAILED_PRECONDITION:return qv.FAILED_PRECONDITION;case Gb.ABORTED:return qv.ABORTED;case Gb.OUT_OF_RANGE:return qv.OUT_OF_RANGE;case Gb.UNIMPLEMENTED:return qv.UNIMPLEMENTED;case Gb.DATA_LOSS:return qv.DATA_LOSS;default:return Uv()}}(Kb=Gb||(Gb={}))[Kb.OK=0]="OK",Kb[Kb.CANCELLED=1]="CANCELLED",Kb[Kb.UNKNOWN=2]="UNKNOWN",Kb[Kb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kb[Kb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kb[Kb.NOT_FOUND=5]="NOT_FOUND",Kb[Kb.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kb[Kb.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kb[Kb.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kb[Kb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kb[Kb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kb[Kb.ABORTED=10]="ABORTED",Kb[Kb.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kb[Kb.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kb[Kb.INTERNAL=13]="INTERNAL",Kb[Kb.UNAVAILABLE=14]="UNAVAILABLE",Kb[Kb.DATA_LOSS=15]="DATA_LOSS";var nw=null;function rw(){return new TextEncoder}var iw=new Nv([4294967295,4294967295],0);function aw(e){var t=rw().encode(e),n=new Tv;return n.update(t),new Uint8Array(n.digest())}function ow(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Nv([n,r],0),new Nv([i,a],0)]}var uw=function(){function e(t,n,r){if(f(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sw("Invalid padding: ".concat(n));if(r<0)throw new sw("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new sw("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new sw("Invalid padding when bitmap length is 0: ".concat(n));this.Te=8*t.length-n,this.Ee=Nv.fromNumber(this.Te)}return m(e,[{key:"de",value:function(e,t,n){var r=e.add(t.multiply(Nv.fromNumber(n)));return 1===r.compare(iw)&&(r=new Nv([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}},{key:"Ae",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Te)return!1;for(var t=d(ow(aw(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);if(!this.Ae(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Te)for(var t=d(ow(aw(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);this.Re(a)}}},{key:"Re",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),sw=function(e){g(n,e);var t=_(n);function n(){var e;return f(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return m(n)}($(Error)),lw=function(){function e(t,n,r,i,a){f(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return m(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,cw.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(om.min(),i,new by(nm),ib(),hb())}}]),e}(),cw=function(){function e(t,n,r,i,a){f(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return m(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,hb(),hb(),hb())}}]),e}(),dw=m((function e(t,n,r,i){f(this,e),this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i})),fw=m((function e(t,n){f(this,e),this.targetId=t,this.fe=n})),hw=m((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Iy.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),pw=function(){function e(){f(this,e),this.ge=0,this.pe=yw(),this.ye=Iy.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}return m(e,[{key:"current",get:function(){return this.we}},{key:"resumeToken",get:function(){return this.ye}},{key:"be",get:function(){return 0!==this.ge}},{key:"De",get:function(){return this.Se}},{key:"Ce",value:function(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}},{key:"ve",value:function(){var e=hb(),t=hb(),n=hb();return this.pe.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Uv()}})),new cw(this.ye,this.we,e,t,n)}},{key:"Fe",value:function(){this.Se=!1,this.pe=yw()}},{key:"Me",value:function(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}},{key:"xe",value:function(e){this.Se=!0,this.pe=this.pe.remove(e)}},{key:"Oe",value:function(){this.ge+=1}},{key:"Ne",value:function(){this.ge-=1,Bv(this.ge>=0)}},{key:"Be",value:function(){this.Se=!0,this.we=!0}}]),e}(),vw=function(){function e(t){f(this,e),this.Le=t,this.ke=new Map,this.qe=ib(),this.Qe=mw(),this.Ke=new by(nm)}return m(e,[{key:"$e",value:function(e){var t,n=N(e.Ve);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me)}}catch(u){n.e(u)}finally{n.f()}var i,a=N(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.We(o,e.key,e.me)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Ge",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ze(n);switch(e.state){case 0:t.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||t.removeTarget(n);break;case 3:t.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:t.je(n)&&(t.He(n),r.Ce(e.resumeToken));break;default:Uv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((function(e,r){n.je(r)&&t(r)}))}},{key:"Je",value:function(e){var t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){var i=r.target;if(Rg(i))if(0===n){var a=new dm(i.path);this.We(t,a,og.newNoDocument(a,om.min()))}else Bv(1===n);else{var o=this.Ze(t);if(o!==n){var u=this.Xe(e),s=u?this.et(u,e,o):1;if(0!==s){this.He(t);var l=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,l)}null==nw||nw.tt(function(e,t,n,r,i){var a,o,u,s,l,c,d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},f=t.unchangedNames;return f&&(d.bloomFilter={applied:0===i,hashCount:null!==(a=null==f?void 0:f.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(s=null===(u=null===(o=null==f?void 0:f.bits)||void 0===o?void 0:o.bitmap)||void 0===u?void 0:u.length)&&void 0!==s?s:0,padding:null!==(c=null===(l=null==f?void 0:f.bits)||void 0===l?void 0:l.padding)&&void 0!==c?c:0,mightContain:function(e){var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(o,e.fe,this.Le.nt(),u,s))}}}}},{key:"Xe",value:function(e){var t=e.fe.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,u=i.padding,s=void 0===u?0:u,l=t.hashCount,c=void 0===l?0:l;try{n=Py(o).toUint8Array()}catch(e){if(e instanceof Ey)return jv("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new uw(n,s,c)}catch(e){return jv(e instanceof sw?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Te?null:r}},{key:"et",value:function(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}},{key:"rt",value:function(e,t){var n=this,r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Le.nt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.We(t,r,null),i++)})),i}},{key:"it",value:function(e){var t=this,n=new Map;this.ke.forEach((function(r,i){var a=t.Ye(i);if(a){if(r.current&&Rg(a.target)){var o=new dm(a.target.path);null!==t.qe.get(o)||t.st(i,o)||t.We(i,o,og.newNoDocument(o,e))}r.De&&(n.set(i,r.ve()),r.Fe())}}));var r=hb();this.Qe.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ye(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.qe.forEach((function(t,n){return n.setReadTime(e)}));var i=new lw(e,n,this.Ke,this.qe,r);return this.qe=ib(),this.Qe=mw(),this.Ke=new by(nm),i}},{key:"Ue",value:function(e,t){if(this.je(e)){var n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}}},{key:"We",value:function(e,t,n){if(this.je(e)){var r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}}},{key:"removeTarget",value:function(e){this.ke.delete(e)}},{key:"Ze",value:function(e){var t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Oe",value:function(e){this.ze(e).Oe()}},{key:"ze",value:function(e){var t=this.ke.get(e);return t||(t=new pw,this.ke.set(e,t)),t}},{key:"ot",value:function(e){var t=this.Qe.get(e);return t||(t=new _y(nm),this.Qe=this.Qe.insert(e,t)),t}},{key:"je",value:function(e){var t=null!==this.Ye(e);return t||Mv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ye",value:function(e){var t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}},{key:"He",value:function(e){var t=this;this.ke.set(e,new pw),this.Le.getRemoteKeysForTarget(e).forEach((function(n){t.We(e,n,null)}))}},{key:"st",value:function(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}]),e}();function mw(){return new by(dm.comparator)}function yw(){return new by(dm.comparator)}var gw={asc:"ASCENDING",desc:"DESCENDING"},bw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ww={and:"AND",or:"OR"},kw=m((function e(t,n){f(this,e),this.databaseId=t,this.useProto3Json=n}));function _w(e,t){return e.useProto3Json||jm(t)?t:{value:t}}function xw(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Cw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Sw(e,t){return xw(e,t.toTimestamp())}function Ew(e){return Bv(!!e),om.fromTimestamp(function(e){var t=Ty(e);return new am(t.seconds,t.nanos)}(e))}function Iw(e,t){return $w(e,t).canonicalString()}function $w(e,t){var n=function(e){return new sm(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Tw(e){var t=sm.fromString(e);return Bv(Jw(t)),t}function Nw(e,t){return Iw(e.databaseId,t.path)}function Pw(e,t){var n=Tw(t);if(n.get(1)!==e.databaseId.projectId)throw new zv(qv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new zv(qv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new dm(Rw(n))}function Aw(e,t){return Iw(e.databaseId,t)}function Ow(e){var t=Tw(e);return 4===t.length?sm.emptyPath():Rw(t)}function Dw(e){return new sm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Rw(e){return Bv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Mw(e,t,n){return{name:Nw(e,t),fields:n.value.mapValue.fields}}function Lw(e,t,n){var r=Pw(e,t.name),i=Ew(t.updateTime),a=t.createTime?Ew(t.createTime):om.min(),o=new ig({mapValue:{fields:t.fields}}),u=og.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function jw(e,t){return"found"in t?function(e,t){Bv(!!t.found),t.found.name,t.found.updateTime;var n=Pw(e,t.found.name),r=Ew(t.found.updateTime),i=t.found.createTime?Ew(t.found.createTime):om.min(),a=new ig({mapValue:{fields:t.found.fields}});return og.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Bv(!!t.missing),Bv(!!t.readTime);var n=Pw(e,t.missing),r=Ew(t.readTime);return og.newNoDocument(n,r)}(e,t):Uv()}function Fw(e,t){var n;if(t instanceof Bb)n={update:Mw(e,t.key,t.value)};else if(t instanceof Hb)n={delete:Nw(e,t.key)};else if(t instanceof Vb)n={update:Mw(e,t.key,t.data),updateMask:Xw(t.fieldMask)};else{if(!(t instanceof Qb))return Uv();n={verify:Nw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof xb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Eb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof $b)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Uv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Sw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Uv()}(e,t.precondition)),n}function Uw(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Ob.updateTime(Ew(e.updateTime)):void 0!==e.exists?Ob.exists(e.exists):Ob.none()}(t.currentDocument):Ob.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Bv("REQUEST_TIME"===t.setToServerValue),n=new xb;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Cb(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Eb(i)}else"increment"in t?n=new $b(e,t.increment):Uv();var a=cm.fromServerFormat(t.fieldPath);return new Pb(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Pw(e,t.update.name),a=new ig({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Sy(t.map((function(e){return cm.fromServerFormat(e)})))}(t.updateMask);return new Vb(i,a,o,n,r)}return new Bb(i,a,n,r)}if(t.delete){var u=Pw(e,t.delete);return new Hb(u,n)}if(t.verify){var s=Pw(e,t.verify);return new Qb(s,n)}return Uv()}function Bw(e,t){return{documents:[Aw(e,t.path)]}}function Vw(e,t){var n,r={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(n=i,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n=i.popLast(),r.structuredQuery.from=[{collectionId:i.lastSegment()}]),r.parent=Aw(e,n);var a=function(e){if(0!==e.length)return Yw(pg.create(e,"and"))}(t.filters);a&&(r.structuredQuery.where=a);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Hw(e.field),direction:Ww(e.dir)}}(e)}))}(t.orderBy);o&&(r.structuredQuery.orderBy=o);var u=_w(e,t.limit);return null!==u&&(r.structuredQuery.limit=u),t.startAt&&(r.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:r,parent:n}}function qw(e){var t=Ow(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Bv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=zw(e);return t instanceof pg&&yg(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=function(e){return e.map((function(e){return function(e){return new cg(Qw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var s=null;n.limit&&(s=function(e){var t;return jm(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new ug(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new ug(n,t)}(n.endAt)),Ug(t,i,u,o,s,"F",l,c)}function zw(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Qw(e.unaryFilter.field);return hg.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Qw(e.unaryFilter.field);return hg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Qw(e.unaryFilter.field);return hg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Qw(e.unaryFilter.field);return hg.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Uv()}}(e):void 0!==e.fieldFilter?function(e){return hg.create(Qw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Uv()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return pg.create(e.compositeFilter.filters.map((function(e){return zw(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Uv()}}(e.compositeFilter.op))}(e):Uv()}function Ww(e){return gw[e]}function Gw(e){return bw[e]}function Kw(e){return ww[e]}function Hw(e){return{fieldPath:e.canonicalString()}}function Qw(e){return cm.fromServerFormat(e.fieldPath)}function Yw(e){return e instanceof hg?function(e){if("=="===e.op){if(Yy(e.value))return{unaryFilter:{field:Hw(e.field),op:"IS_NAN"}};if(Qy(e.value))return{unaryFilter:{field:Hw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Yy(e.value))return{unaryFilter:{field:Hw(e.field),op:"IS_NOT_NAN"}};if(Qy(e.value))return{unaryFilter:{field:Hw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hw(e.field),op:Gw(e.op),value:e.value}}}(e):e instanceof pg?function(e){var t=e.getFilters().map((function(e){return Yw(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Kw(e.op),filters:t}}}(e):Uv()}function Xw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Jw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Zw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:om.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:om.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Iy.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;f(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return m(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),ek=m((function e(t){f(this,e),this.ct=t}));function tk(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:nk(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Nw(e,t.key),fields:t.data.value.mapValue.fields,updateTime:xw(e,t.version.toTimestamp()),createTime:xw(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:rk(t.version)};else{if(!t.isUnknownDocument())return Uv();r.unknownDocument={path:n.path.toArray(),version:rk(t.version)}}return r}function nk(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function rk(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ik(e){var t=new am(e.seconds,e.nanoseconds);return om.fromTimestamp(t)}function ak(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Uw(e.ct,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Uw(e.ct,t)})),u=am.fromMillis(t.localWriteTimeMs);return new Yb(t.batchId,u,n,o)}function ok(e){var t,n=ik(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?ik(e.lastLimboFreeSnapshotVersion):om.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return Bv(1===e.documents.length),Wg(Bg(Ow(e.documents[0])))}(e.query):function(e){return Wg(qw(e))}(e.query),new Zw(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,Iy.fromBase64String(e.resumeToken))}function uk(e,t){var n,r=rk(t.snapshotVersion),i=rk(t.lastLimboFreeSnapshotVersion);n=Rg(t.target)?Bw(e.ct,t.target):Vw(e.ct,t.target).ut;var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Og(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function sk(e){var t=qw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Hg(t,t.limit,"L"):t}function lk(e,t){return new Jb(t.largestBatchId,Uw(e.ct,t.overlayMutation))}function ck(e,t){var n=t.path.lastSegment();return[e,Bm(t.path.popLast()),n]}function dk(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:rk(r.readTime),documentKey:Bm(r.documentKey.path),largestBatchId:r.largestBatchId}}var fk=function(){function e(){f(this,e)}return m(e,[{key:"getBundleMetadata",value:function(e,t){return hk(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:ik(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return hk(e).put(function(e){return{bundleId:e.id,createTime:rk(Ew(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return pk(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:sk(e.bundledQuery),readTime:ik(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return pk(e).put(function(e){return{name:e.name,readTime:rk(Ew(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function hk(e){return vy(e,"bundles")}function pk(e){return vy(e,"namedQueries")}var vk=function(){function e(t,n){f(this,e),this.serializer=t,this.userId=n}return m(e,[{key:"getOverlay",value:function(e,t){var n=this;return mk(e).get(ck(this.userId,t)).next((function(e){return e?lk(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=sb();return Sm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Jb(t,a);i.push(r.ht(e,o))})),Sm.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Bm(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(mk(e).H("collectionPathOverlayIndex",i))})),Sm.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=sb(),a=Bm(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return mk(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=lk(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=sb(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return mk(e).Y({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=lk(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ht",value:function(e,t){return mk(e).put(function(e,t,n){var r=d(ck(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Fw(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"lt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function mk(e){return vy(e,"documentOverlays")}var yk=function(){function e(){f(this,e)}return m(e,[{key:"Pt",value:function(e,t){this.It(e,t),t.Tt()}},{key:"It",value:function(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(Ny(e.integerValue));else if("doubleValue"in e){var n=Ny(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),Fm(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At("".concat(r.seconds||"")),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Py(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?Zy(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Uv()}},{key:"Rt",value:function(e,t){this.Et(t,25),this.St(e,t)}},{key:"St",value:function(e,t){t.At(e)}},{key:"yt",value:function(e,t){var n=e.fields||{};this.Et(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Rt(a,t),this.It(n[a],t)}}},{key:"wt",value:function(e,t){var n=e.values||[];this.Et(t,50);var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.It(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"gt",value:function(e,t){var n=this;this.Et(t,37),dm.fromName(e).path.forEach((function(e){n.Et(t,60),n.St(e,t)}))}},{key:"Et",value:function(e,t){e.dt(t)}},{key:"Vt",value:function(e){e.dt(2)}}]),e}();function gk(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function bk(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=gk(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}yk.bt=new yk;var wk=function(){function e(){f(this,e),this.buffer=new Uint8Array(1024),this.position=0}return m(e,[{key:"Dt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ct(n.value),n=t.next();this.vt()}},{key:"Ft",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Mt(n.value),n=t.next();this.xt()}},{key:"Ot",value:function(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{var a=r.codePointAt(0);this.Ct(240|a>>>18),this.Ct(128|63&a>>>12),this.Ct(128|63&a>>>6),this.Ct(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.vt()}},{key:"Nt",value:function(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{var a=r.codePointAt(0);this.Mt(240|a>>>18),this.Mt(128|63&a>>>12),this.Mt(128|63&a>>>6),this.Mt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.xt()}},{key:"Bt",value:function(e){var t=this.Lt(e),n=bk(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"qt",value:function(e){var t=this.Lt(e),n=bk(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Qt",value:function(){this.Kt(255),this.Kt(255)}},{key:"$t",value:function(){this.Ut(255),this.Ut(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Wt",value:function(){return this.buffer.slice(0,this.position)}},{key:"Lt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ct",value:function(e){var t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}},{key:"Mt",value:function(e){var t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}},{key:"vt",value:function(){this.Kt(0),this.Kt(1)}},{key:"xt",value:function(){this.Ut(0),this.Ut(1)}},{key:"Kt",value:function(e){this.kt(1),this.buffer[this.position++]=e}},{key:"Ut",value:function(e){this.kt(1),this.buffer[this.position++]=~e}},{key:"kt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),kk=function(){function e(t){f(this,e),this.Gt=t}return m(e,[{key:"ft",value:function(e){this.Gt.Dt(e)}},{key:"At",value:function(e){this.Gt.Ot(e)}},{key:"dt",value:function(e){this.Gt.Bt(e)}},{key:"Tt",value:function(){this.Gt.Qt()}}]),e}(),_k=function(){function e(t){f(this,e),this.Gt=t}return m(e,[{key:"ft",value:function(e){this.Gt.Ft(e)}},{key:"At",value:function(e){this.Gt.Nt(e)}},{key:"dt",value:function(e){this.Gt.qt(e)}},{key:"Tt",value:function(){this.Gt.$t()}}]),e}(),xk=function(){function e(){f(this,e),this.Gt=new wk,this.zt=new kk(this.Gt),this.jt=new _k(this.Gt)}return m(e,[{key:"seed",value:function(e){this.Gt.seed(e)}},{key:"Ht",value:function(e){return 0===e?this.zt:this.jt}},{key:"Wt",value:function(){return this.Gt.Wt()}},{key:"reset",value:function(){this.Gt.reset()}}]),e}(),Ck=function(){function e(t,n,r,i){f(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return m(e,[{key:"Jt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Sk(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Ek(e.arrayValue,t.arrayValue))?n:0!==(n=Ek(e.directionalValue,t.directionalValue))?n:dm.comparator(e.documentKey,t.documentKey)}function Ek(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Ik=function(){function e(t){f(this,e),this.Yt=new _y((function(e,t){return cm.comparator(e.field,t.field)})),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Zt=t.orderBy,this.Xt=[];var n,r=N(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Yt=this.Yt.add(i):this.Xt.push(i)}}catch(a){r.e(a)}finally{r.f()}}return m(e,[{key:"en",get:function(){return this.Yt.size>1}},{key:"tn",value:function(e){if(Bv(e.collectionGroup===this.collectionId),this.en)return!1;var t=hm(e);if(void 0!==t&&!this.nn(t))return!1;for(var n=pm(e),r=new Set,i=0,a=0;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){var o=this.Yt.getIterator().getNext();if(!r.has(o.field.canonicalString())){var u=n[i];if(!this.rn(o,u)||!this.sn(this.Zt[a++],u))return!1}++i}for(;i<n.length;++i){var s=n[i];if(a>=this.Zt.length||!this.sn(this.Zt[a++],s))return!1}return!0}},{key:"on",value:function(){if(this.en)return null;var e,t=new _y(cm.comparator),n=[],r=N(this.Xt);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)n.push(new vm(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),n.push(new vm(i.field,0))}}}catch(s){r.e(s)}finally{r.f()}var a,o=N(this.Zt);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||t.has(u.field)||(t=t.add(u.field),n.push(new vm(u.field,"asc"===u.dir?0:1)))}}catch(s){o.e(s)}finally{o.f()}return new fm(fm.UNKNOWN_ID,this.collectionId,n,mm.empty())}},{key:"nn",value:function(e){var t,n=N(this.Xt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.rn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"rn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function $k(e){var t,n;if(Bv(e instanceof hg||e instanceof pg),e instanceof hg){if(e instanceof $g){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return hg.create(e.field,"==",t)})))||[];return pg.create(r,"or")}return e}var i=e.filters.map((function(e){return $k(e)}));return pg.create(i,e.op)}function Tk(e){if(0===e.getFilters().length)return[];var t=Ok($k(e));return Bv(Ak(t)),Nk(t)||Pk(t)?[t]:t.getFilters()}function Nk(e){return e instanceof hg}function Pk(e){return e instanceof pg&&yg(e)}function Ak(e){return Nk(e)||Pk(e)||function(e){if(e instanceof pg&&mg(e)){var t,n=N(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Nk(r)&&!Pk(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Ok(e){if(Bv(e instanceof hg||e instanceof pg),e instanceof hg)return e;if(1===e.filters.length)return Ok(e.filters[0]);var t=e.filters.map((function(e){return Ok(e)})),n=pg.create(t,e.op);return Ak(n=Mk(n))?n:(Bv(n instanceof pg),Bv(vg(n)),Bv(n.filters.length>1),n.filters.reduce((function(e,t){return Dk(e,t)})))}function Dk(e,t){var n;return Bv(e instanceof hg||e instanceof pg),Bv(t instanceof hg||t instanceof pg),n=e instanceof hg?t instanceof hg?function(e,t){return pg.create([e,t],"and")}(e,t):Rk(e,t):t instanceof hg?Rk(t,e):function(e,t){if(Bv(e.filters.length>0&&t.filters.length>0),vg(e)&&vg(t))return kg(e,t.getFilters());var n=mg(e)?e:t,r=mg(e)?t:e,i=n.filters.map((function(e){return Dk(e,r)}));return pg.create(i,"or")}(e,t),Mk(n)}function Rk(e,t){if(vg(t))return kg(t,e.getFilters());var n=t.filters.map((function(t){return Dk(e,t)}));return pg.create(n,"or")}function Mk(e){if(Bv(e instanceof hg||e instanceof pg),e instanceof hg)return e;var t=e.getFilters();if(1===t.length)return Mk(t[0]);if(gg(e))return e;var n=t.map((function(e){return Mk(e)})),r=[];return n.forEach((function(t){t instanceof hg?r.push(t):t instanceof pg&&(t.op===e.op?r.push.apply(r,P(t.filters)):r.push(t))})),1===r.length?r[0]:pg.create(r,e.op)}var Lk=function(){function e(){f(this,e),this._n=new jk}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this._n.add(t),Sm.resolve()}},{key:"getCollectionParents",value:function(e,t){return Sm.resolve(this._n.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Sm.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Sm.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return Sm.resolve()}},{key:"createTargetIndexes",value:function(e,t){return Sm.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Sm.resolve(null)}},{key:"getIndexType",value:function(e,t){return Sm.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Sm.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Sm.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Sm.resolve(bm.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Sm.resolve(bm.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Sm.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Sm.resolve()}}]),e}(),jk=function(){function e(){f(this,e),this.index={}}return m(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new _y(sm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new _y(sm.comparator)).toArray()}}]),e}(),Fk=new Uint8Array(0),Uk=function(){function e(t,n){f(this,e),this.databaseId=n,this.an=new jk,this.un=new nb((function(e){return Og(e)}),(function(e,t){return Dg(e,t)})),this.uid=t.uid||""}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.an.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.an.add(t)}));var a={collectionId:r,parent:Bm(i)};return Bk(e).put(a)}return Sm.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[im(t),""],!1,!0);return Bk(e).W(r).next((function(e){var r,i=N(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(zm(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=qk(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=zk(e);return a.next((function(e){o.put(dk(e,n.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=qk(e),r=zk(e),i=Vk(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"deleteAllFieldIndexes",value:function(e){var t=qk(e),n=Vk(e),r=zk(e);return t.H().next((function(){return n.H()})).next((function(){return r.H()}))}},{key:"createTargetIndexes",value:function(e,t){var n=this;return Sm.forEach(this.cn(t),(function(t){return n.getIndexType(e,t).next((function(r){if(0===r||1===r){var i=new Ik(t).on();if(null!=i)return n.addFieldIndex(e,i)}}))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Vk(e),i=!0,a=new Map;return Sm.forEach(this.cn(t),(function(t){return n.ln(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=hb(),o=[];return Sm.forEach(a,(function(i,a){Mv("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(Og(t)));var u=function(e,t){var n=hm(t);if(void 0===n)return null;var r,i=N(Mg(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=N(pm(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=N(Mg(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(l){u.e(l)}finally{u.f()}}}catch(l){i.e(l)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=N(pm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Lg(e,o.fieldPath,e.startAt):jg(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ug(r,i)}(a,i),c=function(e,t){var n,r=[],i=!0,a=N(pm(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?jg(e,o.fieldPath,e.endAt):Lg(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new ug(r,i)}(a,i),d=n.hn(i,a,l),f=n.hn(i,a,c),h=n.Pn(i,a,s),p=n.In(i.indexId,u,d,l.inclusive,f,c.inclusive,h);return Sm.forEach(p,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=dm.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Sm.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Tk(pg.create(e.filters,"and")).map((function(t){return Ag(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"In",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),l=s/(null!=t?t.length:1),c=[],d=function(){var s=t?u.Tn(t[f/l]):Fk,d=u.En(e,s,n[f%l],r),h=u.dn(e,s,i[f%l],a),p=o.map((function(t){return u.En(e,s,t,!0)}));c.push.apply(c,P(u.createRange(d,h,p)))},f=0;f<s;++f)d();return c}},{key:"En",value:function(e,t,n,r){var i=new Ck(e,dm.empty(),t,n);return r?i:i.Jt()}},{key:"dn",value:function(e,t,n,r){var i=new Ck(e,dm.empty(),t,n);return r?i.Jt():i}},{key:"ln",value:function(e,t){var n=new Ik(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=N(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return Sm.forEach(i,(function(t){return n.ln(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new _y(cm.comparator),r=!1,i=N(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=N(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(d){o.e(d)}finally{o.f()}}}catch(d){i.e(d)}finally{i.f()}var s,l=N(e.orderBy);try{for(l.s();!(s=l.n()).done;){var c=s.value;c.field.isKeyField()||(n=n.add(c.field))}}catch(d){l.e(d)}finally{l.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"An",value:function(e,t){var n,r=new xk,i=N(pm(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ht(a.kind);yk.bt.Pt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Wt()}},{key:"Tn",value:function(e){var t=new xk;return yk.bt.Pt(e,t.Ht(0)),t.Wt()}},{key:"Rn",value:function(e,t){var n=new xk;return yk.bt.Pt(Gy(this.databaseId,t),n.Ht(function(e){var t=pm(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}},{key:"Pn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new xk);var i,a=0,o=N(pm(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,l=n[a++],c=N(r);try{for(c.s();!(u=c.n()).done;){var d=u.value;if(this.Vn(t,s.fieldPath)&&Hy(l))r=this.mn(r,s,l);else{var f=d.Ht(s.kind);yk.bt.Pt(l,f)}}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return this.fn(r)}},{key:"hn",value:function(e,t,n){return this.Pn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Wt();return t}},{key:"mn",value:function(e,t,n){var r,i=P(e),a=[],o=N(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,l=N(i);try{for(l.s();!(u=l.n()).done;){var c=u.value,d=new xk;d.seed(c.Wt()),yk.bt.Pt(s,d.Ht(t.kind)),a.push(d)}}catch(f){l.e(f)}finally{l.f()}}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"Vn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof hg&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=qk(e),i=zk(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Sm.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new mm(t.sequenceNumber,new bm(ik(t.readTime),new dm(zm(t.documentKey)),t.largestBatchId)):mm.empty(),r=e.fields.map((function(e){var t=d(e,2),n=t[0],r=t[1];return new vm(cm.fromServerFormat(n),r)}));return new fm(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:nm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=qk(e),a=zk(e);return this.gn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Sm.forEach(t,(function(t){return a.put(dk(t.indexId,r.uid,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Sm.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Sm.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Sm.forEach(a,(function(r){return n.pn(e,t,r).next((function(t){var a=n.yn(i,r);return t.isEqual(a)?Sm.resolve():n.wn(e,i,r,t,a)}))}))}))}))}},{key:"Sn",value:function(e,t,n,r){return Vk(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"bn",value:function(e,t,n,r){return Vk(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}},{key:"pn",value:function(e,t,n){var r=Vk(e),i=new _y(Sk);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},(function(e,r){i=i.add(new Ck(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"yn",value:function(e,t){var n=new _y(Sk),r=this.An(t,e);if(null==r)return n;var i=hm(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Hy(a)){var o,u=N(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Ck(t.indexId,e.key,this.Tn(s),r))}}catch(l){u.e(l)}finally{u.f()}}}else n=n.add(new Ck(t.indexId,e.key,Fk,r));return n}},{key:"wn",value:function(e,t,n,r,i){var a=this;Mv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Cy(a),s=Cy(o);u||s;){var l=!1,c=!1;if(u&&s){var d=n(u,s);d<0?c=!0:d>0&&(l=!0)}else null!=u?c=!0:l=!0;l?(r(s),s=Cy(o)):c?(i(u),u=Cy(a)):(u=Cy(a),s=Cy(o))}}(r,i,Sk,(function(r){o.push(a.Sn(e,t,n,r))}),(function(r){o.push(a.bn(e,t,n,r))})),Sm.waitFor(o)}},{key:"gn",value:function(e){var t=1;return zk(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Sk(e,t)})).filter((function(e,t,n){return!t||0!==Sk(e,n[t-1])}));var r=[];r.push(e);var i,a=N(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Sk(o,e),s=Sk(o,t);if(0===u)r[0]=e.Jt();else if(u>0&&s<0)r.push(o),r.push(o.Jt());else if(s>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var l=[],c=0;c<r.length;c+=2){if(this.Dn(r[c],r[c+1]))return[];var d=[r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,Fk,[]],f=[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,Fk,[]];l.push(IDBKeyRange.bound(d,f))}return l}},{key:"Dn",value:function(e,t){return Sk(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Wk)}},{key:"getMinOffset",value:function(e,t){var n=this;return Sm.mapArray(this.cn(t),(function(t){return n.ln(e,t).next((function(e){return e||Uv()}))})).next(Wk)}}]),e}();function Bk(e){return vy(e,"collectionParents")}function Vk(e){return vy(e,"indexEntries")}function qk(e){return vy(e,"indexConfiguration")}function zk(e){return vy(e,"indexState")}function Wk(e){Bv(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;wm(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new bm(t.readTime,t.documentKey,n)}var Gk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kk=function(){function e(t,n,r){f(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return m(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Hk(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Y({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Bv(1===u)})));var l,c=[],d=N(n.mutations);try{for(d.s();!(l=d.n()).done;){var f=l.value,h=Km(t,f.key.path,n.batchId);a.push(i.delete(h)),c.push(f.key)}}catch(p){d.e(p)}finally{d.f()}return Sm.waitFor(a).next((function(){return c}))}function Qk(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Uv();t=e.noDocument}return JSON.stringify(t).length}Kk.DEFAULT_COLLECTION_PERCENTILE=10,Kk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kk.DEFAULT=new Kk(41943040,Kk.DEFAULT_COLLECTION_PERCENTILE,Kk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kk.DISABLED=new Kk(-1,0,0);var Yk=function(){function e(t,n,r,i){f(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}return m(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jk(e).Y({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Zk(e),o=Jk(e);return o.add({}).next((function(u){Bv("number"==typeof u);var s,l=new Yb(u,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Fw(e.ct,t)})),i=n.mutations.map((function(t){return Fw(e.ct,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,l),d=[],f=new _y((function(e,t){return nm(e.canonicalString(),t.canonicalString())})),h=N(r);try{for(h.s();!(s=h.n()).done;){var p=s.value,v=Km(i.userId,p.key.path,u);f=f.add(p.key.path.popLast()),d.push(o.put(c)),d.push(a.put(v,Hm))}}catch(m){h.e(m)}finally{h.f()}return f.forEach((function(t){d.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Cn[u]=l.keys()})),Sm.waitFor(d).next((function(){return l}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Jk(e).get(t).next((function(e){return e?(Bv(e.userId===n.userId),ak(n.serializer,e)):null}))}},{key:"vn",value:function(e,t){var n=this;return this.Cn[t]?Sm.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Cn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Jk(e).Y({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Bv(t.batchId>=r),a=ak(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Jk(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jk(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return ak(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Gm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Zk(e).Y({range:i},(function(r,i,o){var u=d(r,3),s=u[0],l=u[1],c=u[2],f=zm(l);if(s===n.userId&&t.path.isEqual(f))return Jk(e).get(c).next((function(e){if(!e)throw Uv();Bv(e.userId===n.userId),a.push(ak(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new _y(nm),i=[];return t.forEach((function(t){var a=Gm(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Zk(e).Y({range:o},(function(e,i,a){var o=d(e,3),u=o[0],s=o[1],l=o[2],c=zm(s);u===n.userId&&t.path.isEqual(c)?r=r.add(l):a.done()}));i.push(u)})),Sm.waitFor(i).next((function(){return n.Fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Gm(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new _y(nm);return Zk(e).Y({range:o},(function(e,t,a){var o=d(e,3),s=o[0],l=o[1],c=o[2],f=zm(l);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(c)):a.done()})).next((function(){return n.Fn(e,u)}))}},{key:"Fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Jk(e).get(t).next((function(e){if(null===e)throw Uv();Bv(e.userId===n.userId),r.push(ak(n.serializer,e))})))})),Sm.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Hk(e.ae,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Mn(t.batchId)})),Sm.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Mn",value:function(e){delete this.Cn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Sm.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return Zk(e).Y({range:r},(function(e,n,r){if(e[0]===t.userId){var a=zm(e[1]);i.push(a)}else r.done()})).next((function(){Bv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Xk(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return e_(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"lt",value:function(t,n,r,i){return Bv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Xk(e,t,n){var r=Gm(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Zk(e).Y({range:a,J:!0},(function(e,n,r){var a=d(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Jk(e){return vy(e,"mutations")}function Zk(e){return vy(e,"documentMutations")}function e_(e){return vy(e,"mutationQueues")}var t_=function(){function e(t){f(this,e),this.On=t}return m(e,[{key:"next",value:function(){return this.On+=2,this.On}}],[{key:"Nn",value:function(){return new e(0)}},{key:"Bn",value:function(){return new e(-1)}}]),e}(),n_=function(){function e(t,n){f(this,e),this.referenceDelegate=t,this.serializer=n}return m(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Ln(e).next((function(n){var r=new t_(n.highestTargetId);return n.highestTargetId=r.next(),t.kn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Ln(e).next((function(e){return om.fromTimestamp(new am(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Ln(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Ln(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.kn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.qn(e,t).next((function(){return n.Ln(e).next((function(r){return r.targetCount+=1,n.Qn(t,r),n.kn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.qn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return r_(e).delete(t.targetId)})).next((function(){return n.Ln(e)})).next((function(t){return Bv(t.targetCount>0),t.targetCount-=1,n.kn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return r_(e).Y((function(o,u){var s=ok(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Sm.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return r_(e).Y((function(e,n){var r=ok(n);t(r)}))}},{key:"Ln",value:function(e){return i_(e).get("targetGlobalKey").next((function(e){return Bv(null!==e),e}))}},{key:"kn",value:function(e,t){return i_(e).put("targetGlobalKey",t)}},{key:"qn",value:function(e,t){return r_(e).put(uk(this.serializer,t))}},{key:"Qn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Ln(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Og(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return r_(e).Y({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=ok(n);Dg(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=a_(e);return t.forEach((function(t){var o=Bm(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Sm.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=a_(e);return Sm.forEach(t,(function(t){var a=Bm(t.path);return Sm.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=a_(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=a_(e),i=hb();return r.Y({range:n,J:!0},(function(e,t,n){var r=zm(e[1]),a=new dm(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Bm(t.path),r=IDBKeyRange.bound([n],[im(n)],!1,!0),i=0;return a_(e).Y({index:"documentTargetsIndex",J:!0,range:r},(function(e,t,n){var r=d(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"_t",value:function(e,t){return r_(e).get(t).next((function(e){return e?ok(e):null}))}}]),e}();function r_(e){return vy(e,"targets")}function i_(e){return vy(e,"targetGlobal")}function a_(e){return vy(e,"targetDocuments")}function o_(e,t){var n=d(e,2),r=n[0],i=n[1],a=d(t,2),o=a[0],u=a[1],s=nm(r,o);return 0===s?nm(i,u):s}var u_=function(){function e(t){f(this,e),this.Kn=t,this.buffer=new _y(o_),this.$n=0}return m(e,[{key:"Un",value:function(){return++this.$n}},{key:"Wn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();o_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),s_=function(){function e(t,n,r){f(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return m(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"zn",value:function(e){var t=this;Mv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,S(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Nm(e.t0)){e.next=12;break}Mv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,xm(e.t0);case 14:return e.next=16,t.zn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),l_=function(){function e(t,n){f(this,e),this.jn=t,this.params=n}return m(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.Hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Sm.resolve(Lm._e);var r=new u_(t);return this.jn.forEachTarget(e,(function(e){return r.Wn(e.sequenceNumber)})).next((function(){return n.jn.Jn(e,(function(e){return r.Wn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Mv("LruGarbageCollector","Garbage collection skipped; disabled"),Sm.resolve(Gk)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Mv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Gk):n.Yn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Yn",value:function(e,t){var n,r,i,a,o,u,s,l=this,c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(Mv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(l.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=l.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Rv()<=er.DEBUG&&Mv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-c,"ms")),Sm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function c_(e,t){return new l_(e,t)}var d_=function(){function e(t,n){f(this,e),this.db=t,this.garbageCollector=c_(this,n)}return m(e,[{key:"Hn",value:function(e){var t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Zn",value:function(e){var t=0;return this.Jn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Jn",value:function(e,t){return this.Xn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return f_(e,n)}},{key:"removeReference",value:function(e,t,n){return f_(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return f_(e,t)}},{key:"er",value:function(e,t){return function(e,t){var n=!1;return e_(e).Z((function(r){return Xk(e,r,t).next((function(e){return e&&(n=!0),Sm.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Xn(e,(function(o,u){if(u<=t){var s=n.er(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,om.min()),a_(e).delete(function(e){return[0,Bm(e.path)]}(o))}))}));i.push(s)}})).next((function(){return Sm.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return f_(e,t)}},{key:"Xn",value:function(e,t){var n,r=a_(e),i=Lm._e;return r.Y({index:"documentTargetsIndex"},(function(e,r){var a=d(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Lm._e&&t(new dm(zm(n)),i),i=s,n=u):i=Lm._e})).next((function(){i!==Lm._e&&t(new dm(zm(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function f_(e,t){return a_(e).put(function(e,t){return{targetId:0,path:Bm(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var h_=function(){function e(){f(this,e),this.changes=new nb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return m(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,og.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Sm.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),p_=function(){function e(t){f(this,e),this.serializer=t}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return g_(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return g_(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],nk(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.tr(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=og.newInvalidDocument(t);return g_(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(b_(t))},(function(e,i){r=n.nr(t,i)})).next((function(){return r}))}},{key:"rr",value:function(e,t){var n=this,r={size:0,document:og.newInvalidDocument(t)};return g_(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(b_(t))},(function(e,i){r={document:n.nr(t,i),size:Qk(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=ib();return this.ir(e,t,(function(e,t){var i=n.nr(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"sr",value:function(e,t){var n=this,r=ib(),i=new by(dm.comparator);return this.ir(e,t,(function(e,t){var a=n.nr(e,t);r=r.insert(e,a),i=i.insert(e,Qk(t))})).next((function(){return{documents:r,_r:i}}))}},{key:"ir",value:function(e,t,n){if(t.isEmpty())return Sm.resolve();var r=new _y(k_);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(b_(r.first()),b_(r.last())),a=r.getIterator(),o=a.getNext();return g_(e).Y({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=dm.fromSegments([].concat(P(t.prefixPath),[t.collectionGroup,t.documentId]));o&&k_(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.U(b_(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r,i){var a=this,o=t.path,u=[o.popLast().toArray(),o.lastSegment(),nk(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return g_(e).W(IDBKeyRange.bound(u,s,!0)).next((function(e){null==i||i.incrementDocumentReadCount(e.length);var n,o=ib(),u=N(e);try{for(u.s();!(n=u.n()).done;){var s=n.value,l=a.nr(dm.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);l.isFoundDocument()&&(Jg(t,l)||r.has(l.key))&&(o=o.insert(l.key,l))}}catch(c){u.e(c)}finally{u.f()}return o}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=ib(),o=w_(t,n),u=w_(t,bm.max());return g_(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.nr(dm.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new m_(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return y_(e).get("remoteDocumentGlobalKey").next((function(e){return Bv(!!e),e}))}},{key:"tr",value:function(e,t){return y_(e).put("remoteDocumentGlobalKey",t)}},{key:"nr",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Lw(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=dm.fromSegments(t.noDocument.path),i=ik(t.noDocument.readTime);n=og.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Uv();var a=dm.fromSegments(t.unknownDocument.path),o=ik(t.unknownDocument.version);n=og.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new am(e[0],e[1]);return om.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(om.min()))return n}return og.newInvalidDocument(e)}}]),e}();function v_(e){return new p_(e)}var m_=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).ar=e,i.trackRemovals=r,i.ur=new nb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new _y((function(e,t){return nm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.ur.get(a);if(n.push(t.ar.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=tk(t.ar.serializer,o);i=i.add(a.path.popLast());var l=Qk(s);r+=l-u.size,n.push(t.ar.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var c=tk(t.ar.serializer,o.convertToNoDocument(om.min()));n.push(t.ar.addEntry(e,a,c))}})),i.forEach((function(r){n.push(t.ar.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.ar.updateMetadata(e,r)),Sm.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.ar.rr(e,t).next((function(e){return n.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.ar.sr(e,t).next((function(e){var t=e.documents;return e._r.forEach((function(e,r){n.ur.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(h_);function y_(e){return vy(e,"remoteDocumentGlobal")}function g_(e){return vy(e,"remoteDocumentsV14")}function b_(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function w_(e,t){var n=t.documentKey.path.toArray();return[e,nk(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function k_(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=nm(n[a],r[a]))return i;return(i=nm(n.length,r.length))||((i=nm(n[n.length-2],r[r.length-2]))||nm(n[n.length-1],r[r.length-1]))}var __=m((function e(t,n){f(this,e),this.overlayedDocument=t,this.mutatedFields=n})),x_=function(){function e(t,n,r,i){f(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return m(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&jb(r.mutation,e,Sy.empty(),am.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,hb()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hb(),i=sb();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=ob();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=sb();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,hb())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=ib(),a=cb(),o=cb();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Vb)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),jb(o.mutation,t,o.mutation.getFieldMask(),am.now())):a.set(t.key,Sy.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new __(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=cb(),i=new by((function(e,t){return e-t})),a=hb();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=N(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Sy.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||hb()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,l=i.value,c=lb();l.forEach((function(e){if(!a.has(e)){var n=Mb(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,c))};u.hasNext();)s();return Sm.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return dm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Sm.resolve(sb()),u=-1,s=a;return o.next((function(t){return Sm.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Sm.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,hb())})).next((function(e){return{batchId:u,changes:ub(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new dm(t)).next((function(e){var t=ob();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=ob();return this.indexManager.getCollectionParents(e,a).next((function(u){return Sm.forEach(u,(function(u){var s=function(e,t){return new Fg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,u.child(a));return i.getDocumentsMatchingCollectionQuery(e,s,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,og.newInvalidDocument(r)))}));var n=ob();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&jb(a.mutation,r,Sy.empty(),am.now()),Jg(t,r)&&(n=n.insert(e,r))})),n}))}}]),e}(),C_=function(){function e(t){f(this,e),this.serializer=t,this.cr=new Map,this.lr=new Map}return m(e,[{key:"getBundleMetadata",value:function(e,t){return Sm.resolve(this.cr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ew(e.createTime)}}(t)),Sm.resolve()}},{key:"getNamedQuery",value:function(e,t){return Sm.resolve(this.lr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:sk(e.bundledQuery),readTime:Ew(e.readTime)}}(t)),Sm.resolve()}}]),e}(),S_=function(){function e(){f(this,e),this.overlays=new by(dm.comparator),this.hr=new Map}return m(e,[{key:"getOverlay",value:function(e,t){return Sm.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=sb();return Sm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),Sm.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hr.delete(n)),Sm.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=sb(),i=t.length+1,a=new dm(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Sm.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new by((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=sb(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=sb(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Sm.resolve(s)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Jb(t,n));var a=this.hr.get(t);void 0===a&&(a=hb(),this.hr.set(t,a)),this.hr.set(t,a.add(n.key))}}]),e}(),E_=function(){function e(){f(this,e),this.Pr=new _y(I_.Ir),this.Tr=new _y(I_.Er)}return m(e,[{key:"isEmpty",value:function(){return this.Pr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new I_(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ar(new I_(e,t))}},{key:"Rr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Vr",value:function(e){var t=this,n=new dm(new sm([])),r=new I_(n,e),i=new I_(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Ar(e),a.push(e.key)})),a}},{key:"mr",value:function(){var e=this;this.Pr.forEach((function(t){return e.Ar(t)}))}},{key:"Ar",value:function(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}},{key:"gr",value:function(e){var t=new dm(new sm([])),n=new I_(t,e),r=new I_(t,e+1),i=hb();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new I_(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),I_=function(){function e(t,n){f(this,e),this.key=t,this.pr=n}return m(e,null,[{key:"Ir",value:function(e,t){return dm.comparator(e.key,t.key)||nm(e.pr,t.pr)}},{key:"Er",value:function(e,t){return nm(e.pr,t.pr)||dm.comparator(e.key,t.key)}}]),e}(),$_=function(){function e(t,n){f(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new _y(I_.Ir)}return m(e,[{key:"checkEmpty",value:function(e){return Sm.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Yb(i,t,n,r);this.mutationQueue.push(a);var o,u=N(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.wr=this.wr.add(new I_(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(l){u.e(l)}finally{u.f()}return Sm.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Sm.resolve(this.Sr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.br(n),i=r<0?0:r;return Sm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Sm.resolve(0===this.mutationQueue.length?-1:this.yr-1)}},{key:"getAllMutationBatches",value:function(e){return Sm.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new I_(t,0),i=new I_(t,Number.POSITIVE_INFINITY),a=[];return this.wr.forEachInRange([r,i],(function(e){var t=n.Sr(e.pr);a.push(t)})),Sm.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new _y(nm);return t.forEach((function(e){var t=new I_(e,0),i=new I_(e,Number.POSITIVE_INFINITY);n.wr.forEachInRange([t,i],(function(e){r=r.add(e.pr)}))})),Sm.resolve(this.Dr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;dm.isDocumentKey(i)||(i=i.child(""));var a=new I_(new dm(i),0),o=new _y(nm);return this.wr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),a),Sm.resolve(this.Dr(o))}},{key:"Dr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Sr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Bv(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.wr;return Sm.forEach(t.mutations,(function(i){var a=new I_(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.wr=r}))}},{key:"Mn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new I_(t,0),r=this.wr.firstAfterOrEqual(n);return Sm.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Sm.resolve()}},{key:"Cr",value:function(e,t){return this.br(e)}},{key:"br",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Sr",value:function(e){var t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),T_=function(){function e(t){f(this,e),this.vr=t,this.docs=new by(dm.comparator),this.size=0}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Sm.resolve(n?n.document.mutableCopy():og.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ib();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():og.newInvalidDocument(e))})),Sm.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=ib(),a=t.path,o=new dm(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),l=s.key,c=s.value.document;if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||wm(gm(c),n)<=0||(r.has(c.key)||Jg(t,c))&&(i=i.insert(c.key,c.mutableCopy()))}return Sm.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Uv()}},{key:"Fr",value:function(e,t){return Sm.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new N_(this)}},{key:"getSize",value:function(e){return Sm.resolve(this.size)}}]),e}(),N_=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).ar=e,r}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ar.addEntry(e,i)):t.ar.removeEntry(r)})),Sm.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ar.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ar.getEntries(e,t)}}]),n}(h_),P_=function(){function e(t){f(this,e),this.persistence=t,this.Mr=new nb((function(e){return Og(e)}),Dg),this.lastRemoteSnapshotVersion=om.min(),this.highestTargetId=0,this.Or=0,this.Nr=new E_,this.targetCount=0,this.Br=t_.Nn()}return m(e,[{key:"forEachTarget",value:function(e,t){return this.Mr.forEach((function(e,n){return t(n)})),Sm.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Sm.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Sm.resolve(this.Or)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Br.next(),Sm.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Sm.resolve()}},{key:"qn",value:function(e){this.Mr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Br=new t_(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.qn(t),this.targetCount+=1,Sm.resolve()}},{key:"updateTargetData",value:function(e,t){return this.qn(t),Sm.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Sm.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Mr.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Mr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Sm.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Sm.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Mr.get(t)||null;return Sm.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Nr.dr(t,n),Sm.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Nr.Rr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Sm.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Nr.Vr(t),Sm.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Nr.gr(t);return Sm.resolve(n)}},{key:"containsKey",value:function(e,t){return Sm.resolve(this.Nr.containsKey(t))}}]),e}(),A_=function(){function e(t,n){var r=this;f(this,e),this.Lr={},this.overlays={},this.kr=new Lm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new P_(this),this.indexManager=new Lk,this.remoteDocumentCache=function(e){return new T_(e)}((function(e){return r.referenceDelegate.Kr(e)})),this.serializer=new ek(n),this.$r=new C_(this.serializer)}return m(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new S_,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Lr[e.toKey()];return n||(n=new $_(t,this.referenceDelegate),this.Lr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;Mv("MemoryPersistence","Starting transaction:",e);var i=new O_(this.kr.next());return this.referenceDelegate.Ur(),n(i).next((function(e){return r.referenceDelegate.Wr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gr",value:function(e,t){return Sm.or(Object.values(this.Lr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),O_=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return m(n)}(_m),D_=function(){function e(t){f(this,e),this.persistence=t,this.zr=new E_,this.jr=null}return m(e,[{key:"Jr",get:function(){if(this.jr)return this.jr;throw Uv()}},{key:"addReference",value:function(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Sm.resolve()}},{key:"removeReference",value:function(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Sm.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Jr.add(t.toString()),Sm.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.zr.Vr(t.targetId).forEach((function(e){return n.Jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ur",value:function(){this.jr=new Set}},{key:"Wr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Sm.forEach(this.Jr,(function(r){var i=dm.fromPath(r);return t.Yr(e,i).next((function(e){e||n.removeEntry(i,om.min())}))})).next((function(){return t.jr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Yr(e,t).next((function(e){e?n.Jr.delete(t.toString()):n.Jr.add(t.toString())}))}},{key:"Kr",value:function(e){return 0}},{key:"Yr",value:function(e,t){var n=this;return Sm.or([function(){return Sm.resolve(n.zr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gr(e,t)}])}}],[{key:"Hr",value:function(t){return new e(t)}}]),e}(),R_=function(){function e(t){f(this,e),this.serializer=t}return m(e,[{key:"N",value:function(e,t,n,r){var i=this,a=new Em("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wm,{unique:!0}),e.createObjectStore("documentMutations")}(e),M_(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Sm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),M_(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:om.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wm,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Sm.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Xr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.ei(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.ti(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ni(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ri(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:oy});t.createIndex("collectionPathOverlayIndex",uy,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",sy,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Qm});t.createIndex("documentKeyIndex",Ym),t.createIndex("collectionGroupIndex",Xm)}(e)})).next((function(){return i.ii(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ny}).createIndex("sequenceNumberIndex",ry,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:iy}).createIndex("documentKeyIndex",ay,{unique:!1})}(e)}))),o}},{key:"ei",value:function(e){var t=0;return e.store("remoteDocuments").Y((function(e,n){t+=Qk(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Xr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Sm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Sm.forEach(r,(function(r){Bv(r.userId===n.userId);var i=ak(t.serializer,r);return Hk(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"ti",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Y((function(n,i){var a=new sm(n),o=function(e){return[0,Bm(e)]}(a);r.push(t.get(o).next((function(n){return n?Sm.resolve():function(n){return t.put({targetId:0,path:Bm(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Sm.waitFor(r)}))}))}},{key:"ni",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ty});var n=t.store("collectionParents"),r=new jk,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Bm(i)})}};return t.store("remoteDocuments").Y({J:!0},(function(e,t){var n=new sm(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Y({J:!0},(function(e,t){var n=d(e,3),r=(n[0],n[1]),a=(n[2],zm(r));return i(a.popLast())}))}))}},{key:"ri",value:function(e){var t=this,n=e.store("targets");return n.Y((function(e,r){var i=ok(r),a=uk(t.serializer,i);return n.put(a)}))}},{key:"ii",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Y((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new dm(sm.fromString(e.document.name).popFirst(5)):e.noDocument?dm.fromSegments(e.noDocument.path):e.unknownDocument?dm.fromSegments(e.unknownDocument.path):Uv()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return Sm.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=v_(this.serializer),a=new A_(D_.Hr,this.serializer.ct);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:hb();ak(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Sm.forEach(r,(function(e,r){var o=new Av(r),u=vk.lt(n.serializer,o),s=a.getIndexManager(o),l=Yk.lt(o,n.serializer,s,a.referenceDelegate);return new x_(i,l,u,s).recalculateAndSaveOverlaysForDocumentKeys(new py(t,Lm._e),e).next()}))}))}}]),e}();function M_(e){e.createObjectStore("targetDocuments",{keyPath:Zm}).createIndex("documentTargetsIndex",ey,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Jm,{unique:!0}),e.createObjectStore("targetGlobal")}var L_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",j_=function(){function e(t,n,r,i,a,o,u,s,l,c){var d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(f(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.oi=a,this.window=o,this.document=u,this._i=l,this.ai=c,this.ui=d,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=function(e){return Promise.resolve()},!e.D())throw new zv(qv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new d_(this,i),this.Ti=n+"main",this.serializer=new ek(s),this.Ei=new Im(this.Ti,this.ui,new R_(this.serializer)),this.Qr=new n_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=v_(this.serializer),this.$r=new fk,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===c&&Lv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return m(e,[{key:"start",value:function(){var e=this;return this.Ai().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new zv(qv.FAILED_PRECONDITION,L_);return e.Ri(),e.Vi(),e.mi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Qr.getHighestSequenceNumber(t)}))})).then((function(t){e.kr=new Lm(t,e._i)})).then((function(){e.qr=!0})).catch((function(t){return e.Ei&&e.Ei.close(),Promise.reject(t)}))}},{key:"fi",value:function(e){var t=this;return this.Ii=function(){var n=S(x().mark((function n(r){return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ei.L(function(){var t=S(x().mark((function t(n){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(S(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ai();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ai",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return U_(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.gi(t).next((function(t){t||(e.isPrimary=!1,e.oi.enqueueRetryable((function(){return e.Ii(!1)})))}))})).next((function(){return e.pi(t)})).next((function(n){return e.isPrimary&&!n?e.yi(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Nm(t))return Mv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Mv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.oi.enqueueRetryable((function(){return e.Ii(t)})),e.isPrimary=t}))}},{key:"gi",value:function(e){var t=this;return F_(e).get("owner").next((function(e){return Sm.resolve(t.Si(e))}))}},{key:"bi",value:function(e){return U_(e).delete(this.clientId)}},{key:"Di",value:function(){var e=S(x().mark((function e(){var t,n,r,i,a=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ci(this.Pi,18e5)){e.next=6;break}return this.Pi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=vy(e,"clientMetadata");return t.W().next((function(e){var n=a.vi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Sm.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.di){n=N(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.di.removeItem(this.Fi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mi",value:function(){var e=this;this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ai().then((function(){return e.Di()})).then((function(){return e.mi()}))}))}},{key:"Si",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"pi",value:function(e){var t=this;return this.ai?Sm.resolve(!0):F_(e).get("owner").next((function(n){if(null!==n&&t.Ci(n.leaseTimestampMs,5e3)&&!t.Mi(n.ownerId)){if(t.Si(n)&&t.networkEnabled)return!0;if(!t.Si(n)){if(!n.allowTabSynchronization)throw new zv(qv.FAILED_PRECONDITION,L_);return!1}}return!(!t.networkEnabled||!t.inForeground)||U_(e).W().next((function(e){return void 0===t.vi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Mv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=S(x().mark((function e(){var t=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),e.next=7,this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new py(e,Lm._e);return t.yi(n).next((function(){return t.bi(n)}))}));case 7:this.Ei.close(),this.Bi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vi",value:function(e,t){var n=this;return e.filter((function(e){return n.Ci(e.updateTimeMs,t)&&!n.Mi(e.clientId)}))}},{key:"Li",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return U_(t).W().next((function(t){return e.vi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.qr}},{key:"getMutationQueue",value:function(e,t){return Yk.lt(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Uk(e,this.serializer.ct.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return vk.lt(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;Mv("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?hy:14===e?fy:13===e?dy:12===e?cy:11===e?ly:void Uv()}(this.ui);return this.Ei.runTransaction(e,a,o,(function(a){return i=new py(a,r.kr?r.kr.next():Lm._e),"readwrite-primary"===t?r.gi(i).next((function(e){return!!e||r.pi(i)})).next((function(t){if(!t)throw Lv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.oi.enqueueRetryable((function(){return r.Ii(!1)})),new zv(qv.FAILED_PRECONDITION,km);return n(i)})).next((function(e){return r.wi(i).next((function(){return e}))})):r.ki(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"ki",value:function(e){var t=this;return F_(e).get("owner").next((function(e){if(null!==e&&t.Ci(e.leaseTimestampMs,5e3)&&!t.Mi(e.ownerId)&&!t.Si(e)&&!(t.ai||t.allowTabSynchronization&&e.allowTabSynchronization))throw new zv(qv.FAILED_PRECONDITION,L_)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return F_(e).put("owner",t)}},{key:"yi",value:function(e){var t=this,n=F_(e);return n.get("owner").next((function(e){return t.Si(e)?(Mv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Sm.resolve()}))}},{key:"Ci",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Lv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=function(){e.oi.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ai()}))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}},{key:"Oi",value:function(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}},{key:"Vi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;En()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.oi.enterRestrictedMode(!0),t.oi.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"Ni",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Mi",value:function(e){var t;try{var n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return Mv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Lv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Lv("Failed to set zombie client id.",e)}}},{key:"Bi",value:function(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}},{key:"Fi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return Im.D()}}]),e}();function F_(e){return vy(e,"owner")}function U_(e){return vy(e,"clientMetadata")}function B_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var V_=function(){function e(t,n,r,i){f(this,e),this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}return m(e,null,[{key:"Ki",value:function(t,n){var r,i=hb(),a=hb(),o=N(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),q_=function(){function e(){f(this,e),this._documentReadCount=0}return m(e,[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}]),e}(),z_=function(){function e(){f(this,e),this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=En()?8:Im.v(xn())>0?6:4}return m(e,[{key:"initialize",value:function(e,t){this.zi=e,this.indexManager=t,this.$i=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.ji(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.Hi(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new q_;return i.Ji(e,t,n).next((function(r){if(a.result=r,i.Ui)return i.Yi(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Yi",value:function(e,t,n,r){return n.documentReadCount<this.Wi?(Rv()<=er.DEBUG&&Mv("QueryEngine","SDK will not create cache indexes for query:",Xg(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Sm.resolve()):(Rv()<=er.DEBUG&&Mv("QueryEngine","Query:",Xg(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Rv()<=er.DEBUG&&Mv("QueryEngine","The SDK decides to create cache indexes for query:",Xg(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wg(t))):Sm.resolve())}},{key:"ji",value:function(e,t){var n=this;if(Vg(t))return Sm.resolve(null);var r=Wg(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Hg(t,null,"F"),r=Wg(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=hb.apply(void 0,P(i));return n.zi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Zi(t,i);return n.Xi(t,o,a,r.readTime)?n.ji(e,Hg(t,null,"F")):n.es(e,o,t,r)}))}))})))}))}},{key:"Hi",value:function(e,t,n,r){var i=this;return Vg(t)||r.isEqual(om.min())?Sm.resolve(null):this.zi.getDocuments(e,n).next((function(a){var o=i.Zi(t,a);return i.Xi(t,o,n,r)?Sm.resolve(null):(Rv()<=er.DEBUG&&Mv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xg(t)),i.es(e,o,t,ym(r,-1)).next((function(e){return e})))}))}},{key:"Zi",value:function(e,t){var n=new _y(eb(e));return t.forEach((function(t,r){Jg(e,r)&&(n=n.add(r))})),n}},{key:"Xi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ji",value:function(e,t,n){return Rv()<=er.DEBUG&&Mv("QueryEngine","Using full collection scan to execute query:",Xg(t)),this.zi.getDocumentsMatchingQuery(e,t,bm.min(),n)}},{key:"es",value:function(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),W_=function(){function e(t,n,r,i){f(this,e),this.persistence=t,this.ts=n,this.serializer=i,this.ns=new by(nm),this.rs=new nb((function(e){return Og(e)}),Dg),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}return m(e,[{key:"_s",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x_(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ns)}))}}]),e}();function G_(e,t,n,r){return new W_(e,t,n,r)}function K_(e,t){return H_.apply(this,arguments)}function H_(){return H_=S(x().mark((function e(t,n){var r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r._s(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=hb(),s=N(t);try{for(s.s();!(i=s.n()).done;){var l=i.value;a.push(l.batchId);var c,d=N(l.mutations);try{for(d.s();!(c=d.n()).done;){var f=c.value;u=u.add(f.key)}}catch(b){d.e(b)}finally{d.f()}}}catch(b){s.e(b)}finally{s.f()}var h,p=N(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,y=N(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{us:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),H_.apply(this,arguments)}function Q_(e,t){var n=Vv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Sm.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Bv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=hb(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Y_(e){var t=Vv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Qr.getLastRemoteSnapshotVersion(e)}))}function X_(e,t){var n=Vv(e),r=t.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Qr.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Qr.addMatchingKeys(e,a.addedDocuments,u)})));var l=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?l=l.withResumeToken(Iy.EMPTY_BYTE_STRING,om.min()).withLastLimboFreeSnapshotVersion(om.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(u,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,l,a)&&o.push(n.Qr.updateTargetData(e,l))}}));var u=ib(),s=hb();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(J_(e,a,t.documentUpdates).next((function(e){u=e.cs,s=e.ls}))),!r.isEqual(om.min())){var l=n.Qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return Sm.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.ns=i,e}))}function J_(e,t,n){var r=hb(),i=hb();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ib();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(om.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Mv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{cs:r,ls:i}}))}function Z_(e,t){var n=Vv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function ex(e,t){var n=Vv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Qr.getTargetData(e,t).next((function(i){return i?(r=i,Sm.resolve(r)):n.Qr.allocateTargetId(e).next((function(i){return r=new Zw(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}function tx(e,t,n){return nx.apply(this,arguments)}function nx(){return nx=S(x().mark((function e(t,n,r){var i,a,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Vv(t),a=i.ns.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Nm(e.t1)){e.next=12;break}throw e.t1;case 12:Mv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ns=i.ns.remove(n),i.rs.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),nx.apply(this,arguments)}function rx(e,t,n){var r=Vv(e),i=om.min(),a=hb();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=Vv(e),i=r.rs.get(n);return void 0!==i?Sm.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,Wg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ts.getDocumentsMatchingQuery(e,t,n?i:om.min(),n?a:hb())})).next((function(e){return ox(r,Zg(t),e),{documents:e,hs:a}}))}))}function ix(e,t){var n=Vv(e),r=Vv(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r._t(e,t).next((function(e){return e?e.target:null}))}))}function ax(e,t){var n=Vv(e),r=n.ss.get(t)||om.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.os.getAllFromCollectionGroup(e,t,ym(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return ox(n,t,e),e}))}function ox(e,t,n){var r=e.ss.get(t)||om.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}function ux(e,t,n,r){return sx.apply(this,arguments)}function sx(){return sx=S(x().mark((function e(t,n,r,i){var a,o,u,s,l,c,d,f,h,p;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Vv(t),o=hb(),u=ib(),s=N(r);try{for(s.s();!(l=s.n()).done;)c=l.value,d=n.Ps(c.metadata.name),c.document&&(o=o.add(d)),(f=n.Is(c)).setReadTime(n.Ts(c.metadata.readTime)),u=u.insert(d,f)}catch(v){s.e(v)}finally{s.f()}return h=a.os.newChangeBuffer({trackRemovals:!0}),e.next=7,ex(a,function(e){return Wg(Bg(sm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return J_(e,h,u).next((function(t){return h.apply(e),t})).next((function(t){return a.Qr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Qr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls)})).next((function(){return t.cs}))}))})));case 9:case"end":return e.stop()}}),e)}))),sx.apply(this,arguments)}function lx(e,t){return cx.apply(this,arguments)}function cx(){return cx=S(x().mark((function e(t,n){var r,i,a,o=arguments;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:hb(),e.next=3,ex(t,Wg(sk(n.bundledQuery)));case 3:return i=e.sent,a=Vv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Ew(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.$r.saveNamedQuery(e,n);var o=i.withResumeToken(Iy.EMPTY_BYTE_STRING,t);return a.ns=a.ns.insert(o.targetId,o),a.Qr.updateTargetData(e,o).next((function(){return a.Qr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Qr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.$r.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),cx.apply(this,arguments)}function dx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function fx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function hx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var px=function(){function e(t,n,r,i){f(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return m(e,[{key:"ds",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new zv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Lv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),vx=function(){function e(t,n,r){f(this,e),this.targetId=t,this.state=n,this.error=r}return m(e,[{key:"ds",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Es",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new zv(i.error.code,i.error.message))),a?new e(t,i.state,r):(Lv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),mx=function(){function e(t,n){f(this,e),this.clientId=t,this.activeTargetIds=n}return m(e,null,[{key:"Es",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=vb(),o=0;i&&o<r.activeTargetIds.length;++o)i=Um(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Lv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),yx=function(){function e(t,n){f(this,e),this.clientId=t,this.onlineState=n}return m(e,null,[{key:"Es",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Lv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),gx=function(){function e(){f(this,e),this.activeTargetIds=vb()}return m(e,[{key:"As",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ds",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),bx=function(){function e(t,n,r,i,a){f(this,e),this.window=t,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new by(nm),this.started=!1,this.ys=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ws=dx(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new gx),this.bs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}return m(e,[{key:"start",value:function(){var e=S(x().mark((function e(){var t,n,r,i,a,o,u,s,l,c,d,f=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Li();case 2:t=e.sent,n=N(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Vs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(dx(this.persistenceKey,i)))&&(o=mx.Es(i,a))&&(this.ps=this.ps.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Ms(),(u=this.storage.getItem(this.vs))&&(s=this.xs(u))&&this.Os(s),l=N(this.ys);try{for(l.s();!(c=l.n()).done;)d=c.value,this.gs(d)}catch(h){l.e(h)}finally{l.f()}this.ys=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ss,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ns(this.ps)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ps.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Bs(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Bs(e,t,n),this.Ls(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(hx(this.persistenceKey,e));if(n){var r=vx.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ks.Rs(e),this.Ms()}},{key:"isLocalQueryTarget",value:function(e){return this.ks.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(hx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.qs(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ls(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Qs(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ks(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Mv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Mv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Mv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"gs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Mv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void Lv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(S(x().mark((function e(){var r,i,a,o,u,s,l;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.bs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.$s(n.key),e.abrupt("return",t.Us(r,null));case 6:if(!(i=t.Ws(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Us(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Ds.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Gs(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.zs(a));case 16:e.next=41;break;case 18:if(!t.Cs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.js(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Hs(o));case 23:e.next=41;break;case 25:if(n.key!==t.vs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.xs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Os(u));case 30:e.next=41;break;case 32:if(n.key!==t.Ss){e.next=37;break}s=function(e){var t=Lm._e;if(null!=e)try{var n=JSON.parse(e);Bv("number"==typeof n),t=n}catch(e){Lv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Lm._e&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.Fs){e.next=41;break}return l=t.Js(n.newValue),e.next=41,Promise.all(l.map((function(e){return t.syncEngine.Ys(e)})));case 41:e.next=44;break;case 43:t.ys.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"ks",get:function(){return this.ps.get(this.Vs)}},{key:"Ms",value:function(){this.setItem(this.ws,this.ks.ds())}},{key:"Bs",value:function(e,t,n){var r=new px(this.currentUser,e,t,n),i=fx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}},{key:"Ls",value:function(e){var t=fx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Qs",value:function(e){var t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}},{key:"qs",value:function(e,t,n){var r=hx(this.persistenceKey,e),i=new vx(e,t,n);this.setItem(r,i.ds())}},{key:"Ks",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}},{key:"$s",value:function(e){var t=this.bs.exec(e);return t?t[1]:null}},{key:"Ws",value:function(e,t){var n=this.$s(e);return mx.Es(n,t)}},{key:"Gs",value:function(e,t){var n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return px.Es(new Av(i),r,t)}},{key:"js",value:function(e,t){var n=this.Cs.exec(e),r=Number(n[1]);return vx.Es(r,t)}},{key:"xs",value:function(e){return yx.Es(e)}},{key:"Js",value:function(e){return JSON.parse(e)}},{key:"zs",value:function(){var e=S(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Zs(t.batchId,t.state,t.error));case 2:Mv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Hs",value:function(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}},{key:"Us",value:function(e,t){var n=this,r=t?this.ps.insert(e,t):this.ps.remove(e),i=this.Ns(this.ps),a=this.Ns(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.eo(o,u).then((function(){n.ps=r}))}},{key:"Os",value:function(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ns",value:function(e){var t=vb();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),wx=function(){function e(){f(this,e),this.no=new gx,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return m(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.no.As(e),this.ro[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.ro[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.no.Rs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.ro[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.no.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"start",value:function(){return this.no=new gx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),kx=function(){function e(){f(this,e)}return m(e,[{key:"io",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),_x=function(){function e(){var t=this;f(this,e),this.so=function(){return t.oo()},this._o=function(){return t.ao()},this.uo=[],this.co()}return m(e,[{key:"io",value:function(e){this.uo.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}},{key:"co",value:function(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}},{key:"oo",value:function(){Mv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=N(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"ao",value:function(){Mv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=N(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),xx=null;function Cx(){return null===xx?xx=268435456+Math.round(2147483648*Math.random()):xx++,"0x"+xx.toString(16)}var Sx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Ex=function(){function e(t){f(this,e),this.lo=t.lo,this.ho=t.ho}return m(e,[{key:"Po",value:function(e){this.Io=e}},{key:"To",value:function(e){this.Eo=e}},{key:"onMessage",value:function(e){this.Ao=e}},{key:"close",value:function(){this.ho()}},{key:"send",value:function(e){this.lo(e)}},{key:"Ro",value:function(){this.Io()}},{key:"Vo",value:function(e){this.Eo(e)}},{key:"mo",value:function(e){this.Ao(e)}}]),e}(),Ix="WebChannelConnection",$x=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return m(n,[{key:"Co",value:function(e,t,n,r){var i=Cx();return new Promise((function(a,o){var u=new $v;u.setWithCredentials(!0),u.listenOnce(Cv.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case xv.NO_ERROR:var t=u.getResponseJson();Mv(Ix,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case xv.TIMEOUT:Mv(Ix,"RPC '".concat(e,"' ").concat(i," timed out")),o(new zv(qv.DEADLINE_EXCEEDED,"Request time out"));break;case xv.HTTP_ERROR:var n=u.getStatus();if(Mv(Ix,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(qv).indexOf(t)>=0?t:qv.UNKNOWN}(s.status);o(new zv(l,s.message))}else o(new zv(qv.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new zv(qv.UNAVAILABLE,"Connection failed."));break;default:Uv()}}finally{Mv(Ix,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);Mv(Ix,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"Fo",value:function(e,t,n){var r=Cx(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=kv(),o=_v(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var l=i.join("");Mv(Ix,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),u);var c=a.createWebChannel(l,u),d=!1,f=!1,h=new Ex({lo:function(t){f?Mv(Ix,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Mv(Ix,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),d=!0),Mv(Ix,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},ho:function(){return c.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(c,Iv.EventType.OPEN,(function(){f||Mv(Ix,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(c,Iv.EventType.CLOSE,(function(){f||(f=!0,Mv(Ix,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.Vo())})),p(c,Iv.EventType.ERROR,(function(t){f||(f=!0,jv(Ix,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.Vo(new zv(qv.UNAVAILABLE,"The operation could not be completed")))})),p(c,Iv.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];Bv(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Mv(Ix,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Gb[e];if(void 0!==t)return tw(t)}(u),l=o.message;void 0===s&&(s=qv.INTERNAL,l="Unknown error status: "+u+" with message "+o.message),f=!0,h.Vo(new zv(s,l)),c.close()}else Mv(Ix,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.mo(i)}})),p(o,Sv.STAT_EVENT,(function(t){t.stat===Ev.PROXY?Mv(Ix,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Ev.NOPROXY&&Mv(Ix,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.Ro()}),0),h}}]),n}(function(){function e(t){f(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=n+"://"+t.host,this.po="projects/".concat(r,"/databases/").concat(i),this.yo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return m(e,[{key:"wo",get:function(){return!1}},{key:"So",value:function(e,t,n,r,i){var a=Cx(),o=this.bo(e,t.toUriEncodedString());Mv("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,r,i),this.Co(e,o,u,n).then((function(t){return Mv("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw jv("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.So(e,t,n,r,i)}},{key:"Do",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ov,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"bo",value:function(e,t){var n=Sx[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}},{key:"terminate",value:function(){}}]),e}());function Tx(){return"undefined"!=typeof window?window:null}function Nx(){return"undefined"!=typeof document?document:null}function Px(e){return new kw(e,!0)}var Ax=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;f(this,e),this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=a,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}return m(e,[{key:"reset",value:function(){this.No=0}},{key:"ko",value:function(){this.No=this.Oo}},{key:"qo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&Mv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,(function(){return t.Lo=Date.now(),e()})),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}},{key:"Ko",value:function(){null!==this.Bo&&(this.Bo.skipDelay(),this.Bo=null)}},{key:"cancel",value:function(){null!==this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Qo",value:function(){return(Math.random()-.5)*this.No}}]),e}(),Ox=function(){function e(t,n,r,i,a,o,u,s){f(this,e),this.oi=t,this.$o=r,this.Uo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Ax(t,n)}return m(e,[{key:"Ho",value:function(){return 1===this.state||5===this.state||this.Jo()}},{key:"Jo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Yo()}},{key:"stop",value:function(){var e=S(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Ho(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zo",value:function(){this.state=0,this.jo.reset()}},{key:"Xo",value:function(){var e=this;this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(function(){return e.e_()})))}},{key:"t_",value:function(e){this.n_(),this.stream.send(e)}},{key:"e_",value:function(){var e=S(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Jo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"r_",value:function(){this.zo&&(this.zo.cancel(),this.zo=null)}},{key:"close",value:function(){var e=S(x().mark((function e(t,n){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==t?this.jo.reset():n&&n.code===qv.RESOURCE_EXHAUSTED?(Lv(n.toString()),Lv("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===qv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.To(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"i_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=d(t,2),i=r[0],a=r[1];e.Wo===n&&e.o_(i,a)}),(function(n){t((function(){var t=new zv(qv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.__(t)}))}))}},{key:"o_",value:function(e,t){var n=this,r=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((function(){r((function(){return n.state=2,n.zo=n.oi.enqueueAfterDelay(n.Uo,1e4,(function(){return n.Jo()&&(n.state=3),Promise.resolve()})),n.listener.Po()}))})),this.stream.To((function(e){r((function(){return n.__(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Yo",value:function(){var e=this;this.state=5,this.jo.qo(S(x().mark((function t(){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"__",value:function(e){return Mv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"s_",value:function(e){var t=this;return function(n){t.oi.enqueueAndForget((function(){return t.Wo===e?n():(Mv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Dx=function(e){g(n,e);var t=_(n);function n(e,r,i,a,o,u){var s;return f(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return m(n,[{key:"a_",value:function(e,t){return this.connection.Fo("Listen",e,t)}},{key:"onMessage",value:function(e){this.jo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Uv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Bv(void 0===t||"string"==typeof t),Iy.fromBase64String(t||"")):(Bv(void 0===t||t instanceof Uint8Array),Iy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?qv.UNKNOWN:tw(e.code);return new zv(t,e.message||"")}(o);n=new hw(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var l=Pw(e,s.document.name),c=Ew(s.document.updateTime),d=s.document.createTime?Ew(s.document.createTime):om.min(),f=new ig({mapValue:{fields:s.document.fields}}),h=og.newFoundDocument(l,c,d,f),p=s.targetIds||[],v=s.removedTargetIds||[];n=new dw(p,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Pw(e,m.document),g=m.readTime?Ew(m.readTime):om.min(),b=og.newNoDocument(y,g),w=m.removedTargetIds||[];n=new dw([],w,b.key,b)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var _=Pw(e,k.document),x=k.removedTargetIds||[];n=new dw([],x,_,null)}else{if(!("filter"in t))return Uv();t.filter;var C=t.filter;C.targetId;var S=C.count,E=void 0===S?0:S,I=C.unchangedNames,$=new Zb(E,I),T=C.targetId;n=new fw(T,$)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return om.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?om.min():t.readTime?Ew(t.readTime):om.min()}(e);return this.listener.u_(t,n)}},{key:"c_",value:function(e){var t={};t.database=Dw(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=Rg(r)?{documents:Bw(e,r)}:{query:Vw(e,r).ut}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Cw(e,t.resumeToken);var i=_w(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(om.min())>0){n.readTime=xw(e,t.snapshotVersion.toTimestamp());var a=_w(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Uv()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}},{key:"l_",value:function(e){var t={};t.database=Dw(this.serializer),t.removeTarget=e,this.t_(t)}}]),n}(Ox),Rx=function(e){g(n,e);var t=_(n);function n(e,r,i,a,o,u){var s;return f(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.h_=!1,s}return m(n,[{key:"P_",get:function(){return this.h_}},{key:"start",value:function(){this.h_=!1,this.lastStreamToken=void 0,sd(b(n.prototype),"start",this).call(this)}},{key:"i_",value:function(){this.h_&&this.I_([])}},{key:"a_",value:function(e,t){return this.connection.Fo("Write",e,t)}},{key:"onMessage",value:function(e){if(Bv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();var t=function(e,t){return e&&e.length>0?(Bv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Ew(e.updateTime):Ew(t);return n.isEqual(om.min())&&(n=Ew(t)),new Ab(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ew(e.commitTime);return this.listener.T_(n,t)}return Bv(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}},{key:"d_",value:function(){var e={};e.database=Dw(this.serializer),this.t_(e)}},{key:"I_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Fw(t.serializer,e)}))};this.t_(n)}}]),n}(Ox),Mx=function(e){g(n,e);var t=_(n);function n(e,r,i,a){var o;return f(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.A_=!1,o}return m(n,[{key:"R_",value:function(){if(this.A_)throw new zv(qv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"So",value:function(e,t,n,r){var i=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=d(a,2),u=o[0],s=o[1];return i.connection.So(e,$w(t,n),r,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===qv.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new zv(qv.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r,i){var a=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var u=d(o,2),s=u[0],l=u[1];return a.connection.vo(e,$w(t,n),r,s,l,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===qv.UNAUTHENTICATED&&(a.authCredentials.invalidateToken(),a.appCheckCredentials.invalidateToken()),e):new zv(qv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.A_=!0,this.connection.terminate()}}]),n}(m((function e(){f(this,e)})));var Lx=function(){function e(t,n){f(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}return m(e,[{key:"p_",value:function(){var e=this;0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.f_=null,e.w_("Backend didn't respond within 10 seconds."),e.y_("Offline"),Promise.resolve()})))}},{key:"S_",value:function(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}},{key:"set",value:function(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}},{key:"y_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"w_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(Lv(t),this.g_=!1):Mv("OnlineStateTracker",t)}},{key:"b_",value:function(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}]),e}(),jx=m((function e(t,n,r,i,a){var o=this;f(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=a,this.M_.io((function(e){r.enqueueAndForget(S(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Qx(o),!e.t0){e.next=5;break}return Mv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=S(x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Vv(t)).v_.add(4),e.next=4,Bx(n);case 4:return n.x_.set("Unknown"),n.v_.delete(4),e.next=8,Fx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.x_=new Lx(r,i)}));function Fx(e){return Ux.apply(this,arguments)}function Ux(){return(Ux=S(x().mark((function e(t){var n,r,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qx(t)){e.next=18;break}n=N(t.F_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function Bx(e){return Vx.apply(this,arguments)}function Vx(){return(Vx=S(x().mark((function e(t){var n,r,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=N(t.F_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function qx(e,t){var n=Vv(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),Hx(n)?Kx(n):CC(n).Jo()&&Wx(n,t))}function zx(e,t){var n=Vv(e),r=CC(n);n.C_.delete(t),r.Jo()&&Gx(n,t),0===n.C_.size&&(r.Jo()?r.Xo():Qx(n)&&n.x_.set("Unknown"))}function Wx(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(om.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}CC(e).c_(t)}function Gx(e,t){e.O_.Oe(t),CC(e).l_(t)}function Kx(e){e.O_=new vw({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},_t:function(t){return e.C_.get(t)||null},nt:function(){return e.datastore.serializer.databaseId}}),CC(e).start(),e.x_.p_()}function Hx(e){return Qx(e)&&!CC(e).Ho()&&e.C_.size>0}function Qx(e){return 0===Vv(e).v_.size}function Yx(e){e.O_=void 0}function Xx(e){return Jx.apply(this,arguments)}function Jx(){return(Jx=S(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.C_.forEach((function(e,n){Wx(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zx(e,t){return eC.apply(this,arguments)}function eC(){return(eC=S(x().mark((function e(t,n){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yx(t),Hx(t)?(t.x_.S_(n),Kx(t)):t.x_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tC(e,t,n){return nC.apply(this,arguments)}function nC(){return nC=S(x().mark((function e(t,n,r){var i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.x_.set("Online"),!(n instanceof hw&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=S(x().mark((function e(t,n){var r,i,a,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=N(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.C_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.C_.delete(o),t.O_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Mv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,rC(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof dw?t.O_.$e(n):n instanceof fw?t.O_.Je(n):t.O_.Ge(n),r.isEqual(om.min())){e.next=29;break}return e.prev=14,e.next=17,Y_(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.O_.it(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.C_.get(t);if(r){e.C_.set(t,r.withResumeToken(Iy.EMPTY_BYTE_STRING,r.snapshotVersion)),Gx(e,t);var i=new Zw(r.target,t,n,r.sequenceNumber);Wx(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Mv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,rC(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),nC.apply(this,arguments)}function rC(e,t,n){return iC.apply(this,arguments)}function iC(){return(iC=S(x().mark((function e(t,n,r){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nm(n)){e.next=2;break}throw n;case 2:return t.v_.add(1),e.next=5,Bx(t);case 5:t.x_.set("Offline"),r||(r=function(){return Y_(t.localStore)}),t.asyncQueue.enqueueRetryable(S(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.v_.delete(1),e.next=6,Fx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aC(e,t){return t().catch((function(n){return rC(e,n,t)}))}function oC(e){return uC.apply(this,arguments)}function uC(){return uC=S(x().mark((function e(t){var n,r,i,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Vv(t),r=SC(n),i=n.D_.length>0?n.D_[n.D_.length-1].batchId:-1;case 2:if(!sC(n)){e.next=19;break}return e.prev=3,e.next=6,Z_(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.D_.length&&r.Xo(),e.abrupt("break",19);case 10:i=a.batchId,lC(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,rC(n,e.t0);case 17:e.next=2;break;case 19:cC(n)&&dC(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),uC.apply(this,arguments)}function sC(e){return Qx(e)&&e.D_.length<10}function lC(e,t){e.D_.push(t);var n=SC(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function cC(e){return Qx(e)&&!SC(e).Ho()&&e.D_.length>0}function dC(e){SC(e).start()}function fC(e){return hC.apply(this,arguments)}function hC(){return(hC=S(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:SC(t).d_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pC(e){return vC.apply(this,arguments)}function vC(){return(vC=S(x().mark((function e(t){var n,r,i,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=SC(t),r=N(t.D_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.I_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mC(e,t,n){return yC.apply(this,arguments)}function yC(){return yC=S(x().mark((function e(t,n,r){var i,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.D_.shift(),a=Xb.from(i,n,r),e.next=3,aC(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,oC(t);case 5:case"end":return e.stop()}}),e)}))),yC.apply(this,arguments)}function gC(e,t){return bC.apply(this,arguments)}function bC(){return bC=S(x().mark((function e(t,n){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&SC(t).P_,!e.t0){e.next=4;break}return e.next=4,function(){var e=S(x().mark((function e(t,n){var r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return ew(e)&&e!==qv.ABORTED}(n.code)){e.next=7;break}return r=t.D_.shift(),SC(t).Zo(),e.next=5,aC(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,oC(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:cC(t)&&dC(t);case 5:case"end":return e.stop()}}),e)}))),bC.apply(this,arguments)}function wC(e,t){return kC.apply(this,arguments)}function kC(){return kC=S(x().mark((function e(t,n){var r,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Vv(t)).asyncQueue.verifyOperationInProgress(),Mv("RemoteStore","RemoteStore received new credentials"),i=Qx(r),r.v_.add(3),e.next=6,Bx(r);case 6:return i&&r.x_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.v_.delete(3),e.next=12,Fx(r);case 12:case"end":return e.stop()}}),e)}))),kC.apply(this,arguments)}function _C(e,t){return xC.apply(this,arguments)}function xC(){return(xC=S(x().mark((function e(t,n){var r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Vv(t),!n){e.next=7;break}return r.v_.delete(2),e.next=5,Fx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.v_.add(2),e.next=12,Bx(r);case 12:r.x_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CC(e){return e.N_||(e.N_=function(e,t,n){var r=Vv(e);return r.R_(),new Dx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Xx.bind(null,e),To:Zx.bind(null,e),u_:tC.bind(null,e)}),e.F_.push(function(){var t=S(x().mark((function t(n){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.N_.Zo(),Hx(e)?Kx(e):e.x_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.N_.stop();case 6:Yx(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.N_}function SC(e){return e.B_||(e.B_=function(e,t,n){var r=Vv(e);return r.R_(),new Rx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:fC.bind(null,e),To:gC.bind(null,e),E_:pC.bind(null,e),T_:mC.bind(null,e)}),e.F_.push(function(){var t=S(x().mark((function t(n){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.B_.Zo(),t.next=4,oC(e);case 4:t.next=9;break;case 6:return t.next=8,e.B_.stop();case 8:e.D_.length>0&&(Mv("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.B_}var EC=function(){function e(t,n,r,i,a){f(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Wv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return m(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new zv(qv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function IC(e,t){if(Lv("AsyncQueue","".concat(t,": ").concat(e)),Nm(e))return new zv(qv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var $C=function(){function e(t){f(this,e),this.comparator=t?function(e,n){return t(e,n)||dm.comparator(e.key,n.key)}:function(e,t){return dm.comparator(e.key,t.key)},this.keyedMap=ob(),this.sortedSet=new by(this.comparator)}return m(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),TC=function(){function e(){f(this,e),this.L_=new by(dm.comparator)}return m(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.L_.get(t);n?0!==e.type&&3===n.type?this.L_=this.L_.insert(t,e):3===e.type&&1!==n.type?this.L_=this.L_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.L_=this.L_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.L_=this.L_.remove(t):1===e.type&&2===n.type?this.L_=this.L_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.L_=this.L_.insert(t,{type:2,doc:e.doc}):Uv():this.L_=this.L_.insert(t,e)}},{key:"k_",value:function(){var e=[];return this.L_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),NC=function(){function e(t,n,r,i,a,o,u,s,l){f(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=l}return m(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,$C.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),PC=m((function e(){f(this,e),this.q_=void 0,this.Q_=[]})),AC=m((function e(){f(this,e),this.queries=new nb((function(e){return Yg(e)}),Qg),this.onlineState="Unknown",this.K_=new Set}));function OC(e,t){return DC.apply(this,arguments)}function DC(){return DC=S(x().mark((function e(t,n){var r,i,a,o,u;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Vv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new PC),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.q_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=IC(e.t0,"Initialization of query '".concat(Xg(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.Q_.push(n),n.U_(r.onlineState),o.q_&&n.W_(o.q_)&&FC(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),DC.apply(this,arguments)}function RC(e,t){return MC.apply(this,arguments)}function MC(){return MC=S(x().mark((function e(t,n){var r,i,a,o,u;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Vv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.Q_.indexOf(n))>=0&&(o.Q_.splice(u,1),a=0===o.Q_.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),MC.apply(this,arguments)}function LC(e,t){var n,r=Vv(e),i=!1,a=N(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var l,c=N(s.Q_);try{for(c.s();!(l=c.n()).done;){l.value.W_(o)&&(i=!0)}}catch(d){c.e(d)}finally{c.f()}s.q_=o}}}catch(d){a.e(d)}finally{a.f()}i&&FC(r)}function jC(e,t,n){var r=Vv(e),i=r.queries.get(t);if(i){var a,o=N(i.Q_);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function FC(e){e.K_.forEach((function(e){e.next()}))}var UC=function(){function e(t,n,r){f(this,e),this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}return m(e,[{key:"W_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=N(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new NC(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.z_?this.H_(e)&&(this.G_.next(e),a=!0):this.J_(e,this.onlineState)&&(this.Y_(e),a=!0),this.j_=e,a}},{key:"onError",value:function(e){this.G_.error(e)}},{key:"U_",value:function(e){this.onlineState=e;var t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}},{key:"J_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Z_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"H_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Y_",value:function(e){e=NC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}]),e}(),BC=function(){function e(t,n){f(this,e),this.X_=t,this.byteLength=n}return m(e,[{key:"ea",value:function(){return"metadata"in this.X_}}]),e}(),VC=function(){function e(t){f(this,e),this.serializer=t}return m(e,[{key:"Ps",value:function(e){return Pw(this.serializer,e)}},{key:"Is",value:function(e){return e.metadata.exists?Lw(this.serializer,e.document,!1):og.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}},{key:"Ts",value:function(e){return Ew(e)}}]),e}(),qC=function(){function e(t,n,r){f(this,e),this.ta=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=zC(t)}return m(e,[{key:"na",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.X_.namedQuery)this.queries.push(e.X_.namedQuery);else if(e.X_.documentMetadata){this.documents.push({metadata:e.X_.documentMetadata}),e.X_.documentMetadata.exists||++t;var n=sm.fromString(e.X_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.X_.document&&(this.documents[this.documents.length-1].document=e.X_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ra",value:function(e){var t,n=new Map,r=new VC(this.serializer),i=N(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ps(a.metadata.name),s=N(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=(n.get(l)||hb()).add(u);n.set(l,c)}}catch(d){s.e(d)}finally{s.f()}}}}catch(d){i.e(d)}finally{i.f()}return n}},{key:"complete",value:function(){var e=S(x().mark((function e(){var t,n,r,i,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ux(this.localStore,new VC(this.serializer),this.documents,this.ta.id);case 2:t=e.sent,n=this.ra(this.documents),r=N(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,lx(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function zC(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var WC=m((function e(t){f(this,e),this.key=t})),GC=m((function e(t){f(this,e),this.key=t})),KC=function(){function e(t,n){f(this,e),this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=hb(),this.mutatedKeys=hb(),this.ua=eb(t),this.ca=new $C(this.ua)}return m(e,[{key:"la",get:function(){return this.oa}},{key:"ha",value:function(e,t){var n=this,r=t?t.Pa:new TC,i=t?t.ca:this.ca,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),d=Jg(n.query,t)?t:null,f=!!c&&n.mutatedKeys.has(c.key),h=!!d&&(d.hasLocalMutations||n.mutatedKeys.has(d.key)&&d.hasCommittedMutations),p=!1;c&&d?c.data.isEqual(d.data)?f!==h&&(r.track({type:3,doc:d}),p=!0):n.Ia(c,d)||(r.track({type:2,doc:d}),p=!0,(s&&n.ua(d,s)>0||l&&n.ua(d,l)<0)&&(u=!0)):!c&&d?(r.track({type:0,doc:d}),p=!0):c&&!d&&(r.track({type:1,doc:c}),p=!0,(s||l)&&(u=!0)),p&&(d?(o=o.add(d),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,Xi:u,mutatedKeys:a}}},{key:"Ia",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n,r){var i=this,a=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;var o=e.Pa.k_();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Uv()}};return n(e)-n(t)}(e.type,t.type)||i.ua(e.doc,t.doc)})),this.Ta(n),r=null!=r&&r;var u=t&&!r?this.Ea():[],s=0===this.aa.size&&this.current&&!r?1:0,l=s!==this._a;return this._a=s,0!==o.length||l?{snapshot:new NC(this.query,e.ca,a,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),da:u}:{da:u}}},{key:"U_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new TC,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}},{key:"Aa",value:function(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}},{key:"Ta",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.oa=t.oa.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.oa=t.oa.delete(e)})),this.current=e.current)}},{key:"Ea",value:function(){var e=this;if(!this.current)return[];var t=this.aa;this.aa=hb(),this.ca.forEach((function(t){e.Aa(t.key)&&(e.aa=e.aa.add(t.key))}));var n=[];return t.forEach((function(t){e.aa.has(t)||n.push(new GC(t))})),this.aa.forEach((function(e){t.has(e)||n.push(new WC(e))})),n}},{key:"Ra",value:function(e){this.oa=e.hs,this.aa=hb();var t=this.ha(e.documents);return this.applyChanges(t,!0)}},{key:"Va",value:function(){return NC.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}]),e}(),HC=m((function e(t,n,r){f(this,e),this.query=t,this.targetId=n,this.view=r})),QC=m((function e(t){f(this,e),this.key=t,this.ma=!1})),YC=function(){function e(t,n,r,i,a,o){f(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new nb((function(e){return Yg(e)}),Qg),this.pa=new Map,this.ya=new Set,this.wa=new by(dm.comparator),this.Sa=new Map,this.ba=new E_,this.Da={},this.Ca=new Map,this.va=t_.Bn(),this.onlineState="Unknown",this.Fa=void 0}return m(e,[{key:"isPrimaryClient",get:function(){return!0===this.Fa}}]),e}();function XC(e,t){return JC.apply(this,arguments)}function JC(){return JC=S(x().mark((function e(t,n){var r,i,a,o,u,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zS(t),!(o=r.ga.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Va(),e.next=15;break;case 6:return e.next=8,ex(r.localStore,Wg(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,ZC(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&qx(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),JC.apply(this,arguments)}function ZC(e,t,n,r,i){return eS.apply(this,arguments)}function eS(){return eS=S(x().mark((function e(t,n,r,i,a){var o,u,s,l,c,d;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Ma=function(e,n,r){return function(){var e=S(x().mark((function e(t,n,r,i){var a,o,u,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ha(r),e.t0=a.Xi,!e.t0){e.next=6;break}return e.next=5,rx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ha(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=i&&null!=i.targetMismatches.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o,u),e.abrupt("return",(wS(t,n.targetId,s.da),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,rx(t.localStore,n,!0);case 3:return o=e.sent,u=new KC(n,o.hs),s=u.ha(o.documents),l=cw.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),c=u.applyChanges(s,t.isPrimaryClient,l),wS(t,r,c.da),d=new HC(n,r,u),e.abrupt("return",(t.ga.set(n,d),t.pa.has(r)?t.pa.get(r).push(n):t.pa.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),eS.apply(this,arguments)}function tS(e,t){return nS.apply(this,arguments)}function nS(){return nS=S(x().mark((function e(t,n){var r,i,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Vv(t),i=r.ga.get(n),!((a=r.pa.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.pa.set(i.targetId,a.filter((function(e){return!Qg(e,n)}))),void r.ga.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,tx(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),zx(r.remoteStore,i.targetId),gS(r,i.targetId)})).catch(xm);case 9:e.next=14;break;case 11:return gS(r,i.targetId),e.next=14,tx(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}function rS(e,t,n){return iS.apply(this,arguments)}function iS(){return iS=S(x().mark((function e(t,n,r){var i,a,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=WS(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Vv(e),a=am.now(),o=t.reduce((function(e,t){return e.add(t.key)}),hb());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=ib(),s=hb();return i.os.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=N(t);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=Fb(l,n.get(l.key).overlayedDocument);null!=c&&u.push(new Vb(l.key,c,ag(c.value.mapValue),Ob.exists(!0)))}}catch(d){s.e(d)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:ub(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Da[e.currentUser.toKey()];r||(r=new by(nm)),r=r.insert(t,n),e.Da[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,xS(i,a.changes);case 9:return e.next=11,oC(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=IC(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),iS.apply(this,arguments)}function aS(e,t){return oS.apply(this,arguments)}function oS(){return oS=S(x().mark((function e(t,n){var r,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vv(t),e.prev=1,e.next=4,X_(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Sa.get(t);n&&(Bv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ma=!0:e.modifiedDocuments.size>0?Bv(n.ma):e.removedDocuments.size>0&&(Bv(n.ma),n.ma=!1))})),e.next=8,xS(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,xm(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),oS.apply(this,arguments)}function uS(e,t,n){var r=Vv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ga.forEach((function(e,n){var r=n.view.U_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Vv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=N(n.Q_);try{for(a.s();!(i=a.n()).done;){i.value.U_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&FC(n)}(r.eventManager,t),i.length&&r.fa.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function sS(e,t,n){return lS.apply(this,arguments)}function lS(){return lS=S(x().mark((function e(t,n,r){var i,a,o,u,s,l;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Vv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Sa.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new by(dm.comparator)).insert(o,og.newNoDocument(o,om.min())),s=hb().add(o),l=new lw(om.min(),new Map,new by(nm),u,s),e.next=9,aS(i,l);case 9:i.wa=i.wa.remove(o),i.Sa.delete(n),_S(i),e.next=16;break;case 14:return e.next=16,tx(i.localStore,n,!1).then((function(){return gS(i,n,r)})).catch(xm);case 16:case"end":return e.stop()}}),e)}))),lS.apply(this,arguments)}function cS(e,t){return dS.apply(this,arguments)}function dS(){return dS=S(x().mark((function e(t,n){var r,i,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vv(t),i=n.batch.batchId,e.prev=1,e.next=4,Q_(r.localStore,n);case 4:return a=e.sent,yS(r,i,null),mS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,xS(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,xm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),dS.apply(this,arguments)}function fS(e,t,n){return hS.apply(this,arguments)}function hS(){return hS=S(x().mark((function e(t,n,r){var i,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vv(t),e.prev=1,e.next=4,function(e,t){var n=Vv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Bv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,yS(i,n,r),mS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,xS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,xm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),hS.apply(this,arguments)}function pS(e,t){return vS.apply(this,arguments)}function vS(){return vS=S(x().mark((function e(t,n){var r,i,a,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qx((r=Vv(t)).remoteStore)||Mv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Vv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ca.get(i)||[]).push(n),r.Ca.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=IC(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),vS.apply(this,arguments)}function mS(e,t){(e.Ca.get(t)||[]).forEach((function(e){e.resolve()})),e.Ca.delete(t)}function yS(e,t,n){var r=Vv(e),i=r.Da[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function gS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=N(e.pa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ga.delete(a),n&&e.fa.xa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.pa.delete(t),e.isPrimaryClient&&e.ba.Vr(t).forEach((function(t){e.ba.containsKey(t)||bS(e,t)}))}function bS(e,t){e.ya.delete(t.path.canonicalString());var n=e.wa.get(t);null!==n&&(zx(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),_S(e))}function wS(e,t,n){var r,i=N(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof WC?(e.ba.addReference(a.key,t),kS(e,a)):a instanceof GC?(Mv("SyncEngine","Document no longer in limbo: "+a.key),e.ba.removeReference(a.key,t),e.ba.containsKey(a.key)||bS(e,a.key)):Uv()}}catch(o){i.e(o)}finally{i.f()}}function kS(e,t){var n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Mv("SyncEngine","New document in limbo: "+n),e.ya.add(r),_S(e))}function _S(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){var t=e.ya.values().next().value;e.ya.delete(t);var n=new dm(sm.fromString(t)),r=e.va.next();e.Sa.set(r,new QC(n)),e.wa=e.wa.insert(n,r),qx(e.remoteStore,new Zw(Wg(Bg(n.path)),r,"TargetPurposeLimboResolution",Lm._e))}}function xS(e,t,n){return CS.apply(this,arguments)}function CS(){return CS=S(x().mark((function e(t,n,r){var i,a,o,u;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Vv(t),a=[],o=[],u=[],e.t0=i.ga.isEmpty(),e.t0){e.next=9;break}return i.ga.forEach((function(e,t){u.push(i.Ma(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=V_.Ki(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.fa.u_(a),e.next=9,function(){var e=S(x().mark((function e(t,n){var r,i,a,o,u,s,l,c;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Sm.forEach(n,(function(t){return Sm.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Sm.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Nm(e.t0)){e.next=10;break}throw e.t0;case 10:Mv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=N(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ns.get(u),l=s.snapshotVersion,c=s.withLastLimboFreeSnapshotVersion(l),r.ns=r.ns.insert(u,c))}catch(d){i.e(d)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),CS.apply(this,arguments)}function SS(e,t){return ES.apply(this,arguments)}function ES(){return(ES=S(x().mark((function e(t,n){var r,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Vv(t)).currentUser.isEqual(n)){e.next=11;break}return Mv("SyncEngine","User change. New user:",n.toKey()),e.next=5,K_(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ca.forEach((function(e){e.forEach((function(e){e.reject(new zv(qv.CANCELLED,t))}))})),e.Ca.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,xS(r,i.us);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IS(e,t){var n=Vv(e),r=n.Sa.get(t);if(r&&r.ma)return hb().add(r.key);var i=hb(),a=n.pa.get(t);if(!a)return i;var o,u=N(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,l=n.ga.get(s);i=i.unionWith(l.view.la)}}catch(c){u.e(c)}finally{u.f()}return i}function $S(e,t){return TS.apply(this,arguments)}function TS(){return TS=S(x().mark((function e(t,n){var r,i,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vv(t),e.next=3,rx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ra(i),e.abrupt("return",(r.isPrimaryClient&&wS(r,n.targetId,a.da),a));case 6:case"end":return e.stop()}}),e)}))),TS.apply(this,arguments)}function NS(e,t){return PS.apply(this,arguments)}function PS(){return(PS=S(x().mark((function e(t,n){var r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vv(t),e.abrupt("return",ax(r.localStore,n).then((function(e){return xS(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AS(e,t,n,r){return OS.apply(this,arguments)}function OS(){return OS=S(x().mark((function e(t,n,r,i){var a,o;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Vv(t),e.next=3,function(e,t){var n=Vv(e),r=Vv(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.vn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Sm.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,oC(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(yS(a,n,i||null),mS(a,n),function(e,t){Vv(Vv(e).mutationQueue).Mn(t)}(a.localStore,n)):Uv();case 11:return e.next=13,xS(a,o);case 13:e.next=16;break;case 15:Mv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),OS.apply(this,arguments)}function DS(e,t){return RS.apply(this,arguments)}function RS(){return(RS=S(x().mark((function e(t,n){var r,i,a,o,u,s,l,c;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zS(r=Vv(t)),WS(r),!0!==n||!0===r.Fa){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,MS(r,i.toArray());case 5:return a=e.sent,r.Fa=!0,e.next=9,_C(r.remoteStore,!0);case 9:o=N(a);try{for(o.s();!(u=o.n()).done;)s=u.value,qx(r.remoteStore,s)}catch(d){o.e(d)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Fa){e.next=25;break}return l=[],c=Promise.resolve(),r.pa.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):c=c.then((function(){return gS(r,t),tx(r.localStore,t,!0)})),zx(r.remoteStore,t)})),e.next=19,c;case 19:return e.next=21,MS(r,l);case 21:return function(e){var t=Vv(e);t.Sa.forEach((function(e,n){zx(t.remoteStore,n)})),t.ba.mr(),t.Sa=new Map,t.wa=new by(dm.comparator)}(r),r.Fa=!1,e.next=25,_C(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function MS(e,t,n){return LS.apply(this,arguments)}function LS(){return LS=S(x().mark((function e(t,n,r){var i,a,o,u,s,l,c,d,f,h,p,v,m,y;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Vv(t),a=[],o=[],u=N(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(l=s.value,c=void 0,!(d=i.pa.get(l))||0===d.length){e.next=34;break}return e.next=11,ex(i.localStore,Wg(d[0]));case 11:c=e.sent,f=N(d),e.prev=13,f.s();case 15:if((h=f.n()).done){e.next=24;break}return p=h.value,v=i.ga.get(p),e.next=20,$S(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),f.e(e.t0);case 29:return e.prev=29,f.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,ix(i.localStore,l);case 36:return y=e.sent,e.next=39,ex(i.localStore,y);case 39:return c=e.sent,e.next=42,ZC(i,jS(y),l,!1,c.resumeToken);case 42:a.push(c);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.fa.u_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),LS.apply(this,arguments)}function jS(e){return Ug(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function FS(e){return function(e){return Vv(Vv(e).persistence).Li()}(Vv(e).localStore)}function US(e,t,n,r){return BS.apply(this,arguments)}function BS(){return BS=S(x().mark((function e(t,n,r,i){var a,o,u,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Vv(t)).Fa){e.next=3;break}return e.abrupt("return",void Mv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.pa.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,ax(a.localStore,Zg(o[0]));case 10:return u=e.sent,s=lw.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Iy.EMPTY_BYTE_STRING),e.next=14,xS(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,tx(a.localStore,n,!0);case 17:return gS(a,n,i),e.abrupt("break",20);case 19:Uv();case 20:case"end":return e.stop()}}),e)}))),BS.apply(this,arguments)}function VS(e,t,n){return qS.apply(this,arguments)}function qS(){return qS=S(x().mark((function e(t,n,r){var i,a,o,u,s,l,c,d,f;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=zS(t)).Fa){e.next=45;break}a=N(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.pa.has(u)){e.next=10;break}return Mv("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,ix(i.localStore,u);case 12:return s=e.sent,e.next=15,ex(i.localStore,s);case 15:return l=e.sent,e.next=18,ZC(i,jS(s),l.targetId,!1,l.resumeToken);case 18:qx(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:c=N(r),e.prev=30,f=x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.value,e.t0=i.pa.has(t),!e.t0){e.next=5;break}return e.next=5,tx(i.localStore,t,!1).then((function(){zx(i.remoteStore,t),gS(i,t)})).catch(xm);case 5:case"end":return e.stop()}}),e)})),c.s();case 33:if((d=c.n()).done){e.next=37;break}return e.delegateYield(f(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),c.e(e.t2);case 42:return e.prev=42,c.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),qS.apply(this,arguments)}function zS(e){var t=Vv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=aS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=IS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sS.bind(null,t),t.fa.u_=LC.bind(null,t.eventManager),t.fa.xa=jC.bind(null,t.eventManager),t}function WS(e){var t=Vv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fS.bind(null,t),t}function GS(e,t,n){var r=Vv(e);(function(){var e=S(x().mark((function e(t,n,r){var i,a,o,u,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Vv(e),r=Ew(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.$r.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(zC(i)),a=new qC(i,t.localStore,n.serializer),e.next=15,n.Oa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.na(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.Oa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,xS(t,s.sa,void 0);case 31:return e.next=33,function(e,t){var n=Vv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.$r.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.ia));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(jv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var KS=function(){function e(){f(this,e),this.synchronizeTabs=!1}return m(e,[{key:"initialize",value:function(){var e=S(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Px(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return G_(this.persistence,new z_,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new A_(D_.Hr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new wx}},{key:"terminate",value:function(){var e=S(x().mark((function e(){var t,n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(n=this.indexBackfillerScheduler)||void 0===n||n.stop(),this.sharedClientState.shutdown(),e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),HS=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this)).Na=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return m(n,[{key:"initialize",value:function(){var e=S(x().mark((function e(t){var r=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sd(b(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Na.initialize(this,t);case 4:return e.next=6,WS(this.Na.syncEngine);case 6:return e.next=8,oC(this.Na.remoteStore);case 8:return e.next=10,this.persistence.fi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return G_(this.persistence,new z_,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new s_(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new Mm(t,this.persistence);return new Rm(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=B_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Kk.withCacheSize(this.cacheSizeBytes):Kk.DEFAULT;return new j_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Tx(),Nx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new wx}}]),n}(KS),QS=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,r,!1)).Na=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return m(n,[{key:"initialize",value:function(){var e=S(x().mark((function e(t){var r,i=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sd(b(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Na.syncEngine,e.t0=this.sharedClientState instanceof bx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Zs:AS.bind(null,r),Xs:US.bind(null,r),eo:VS.bind(null,r),Li:FS.bind(null,r),Ys:NS.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.fi(function(){var e=S(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DS(i.Na.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=Tx();if(!bx.D(t))throw new zv(qv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=B_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(HS),YS=function(){function e(){f(this,e)}return m(e,[{key:"initialize",value:function(){var e=S(x().mark((function e(t,n){var r=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return uS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=SS.bind(null,this.syncEngine),e.next=12,_C(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new AC}},{key:"createDatastore",value:function(e){var t=Px(e.databaseInfo.databaseId),n=function(e){return new $x(e)}(e.databaseInfo);return function(e,t,n,r){return new Mx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new jx(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return uS(t.syncEngine,e,0)}),_x.D()?new _x:new kx)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new YC(e,t,n,r,i,a);return o&&(u.Fa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){var e=S(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=S(x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vv(t),Mv("RemoteStore","RemoteStore shutting down."),n.v_.add(5),e.next=5,Bx(n);case 5:n.M_.shutdown(),n.x_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore);case 2:null===(t=this.datastore)||void 0===t||t.terminate();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function XS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return S(x().mark((function r(){var i;return x().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return S(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var JS=function(){function e(t){f(this,e),this.observer=t,this.muted=!1}return m(e,[{key:"next",value:function(e){this.observer.next&&this.Ba(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ba(this.observer.error,e):Lv("Uncaught Error in snapshot listener:",e.toString())}},{key:"La",value:function(){this.muted=!0}},{key:"Ba",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),ZS=function(){function e(t,n){var r=this;f(this,e),this.ka=t,this.serializer=n,this.metadata=new Wv,this.buffer=new Uint8Array,this.qa=new TextDecoder("utf-8"),this.Qa().then((function(e){e&&e.ea()?r.metadata.resolve(e.X_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.X_))))}),(function(e){return r.metadata.reject(e)}))}return m(e,[{key:"close",value:function(){return this.ka.cancel()}},{key:"getMetadata",value:function(){var e=S(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oa",value:function(){var e=S(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Qa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qa",value:function(){var e=S(x().mark((function e(){var t,n,r,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ka();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.qa.decode(t),r=Number(n),isNaN(r)&&this.$a("length string (".concat(n,") is not valid number")),e.next=9,this.Ua(r);case 9:return i=e.sent,e.abrupt("return",new BC(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ka",value:function(){var e=S(x().mark((function e(){var t,n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Wa()<0)){e.next=7;break}return e.next=3,this.Ga();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Wa())<0&&this.$a("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ua",value:function(){var e=S(x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ga();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.$a("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.qa.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"$a",value:function(e){throw this.ka.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ga",value:function(){var e=S(x().mark((function e(){var t,n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ka.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),eE=function(){function e(t){f(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}return m(e,[{key:"lookup",value:function(){var e=S(x().mark((function e(t){var n,r=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw this.lastTransactionError=new zv(qv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;case 2:return e.next=4,function(){var e=S(x().mark((function e(t,n){var r,i,a,o,u;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vv(t),i={documents:n.map((function(e){return Nw(r.serializer,e)}))},e.next=4,r.vo("BatchGetDocuments",r.serializer.databaseId,sm.emptyPath(),i,n.length);case 4:return a=e.sent,o=new Map,a.forEach((function(e){var t=jw(r.serializer,e);o.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=o.get(e.toString());Bv(!!t),u.push(t)})),u));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Hb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=S(x().mark((function e(){var t,n=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastTransactionError){e.next=2;break}throw this.lastTransactionError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=dm.fromPath(t);n.mutations.push(new Qb(r,n.precondition(r)))})),e.next=7,function(){var e=S(x().mark((function e(t,n){var r,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vv(t),i={writes:n.map((function(e){return Fw(r.serializer,e)}))},e.next=3,r.So("Commit",r.serializer.databaseId,sm.emptyPath(),i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Uv();t=om.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new zv(qv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(om.min())?Ob.exists(!1):Ob.updateTime(t):Ob.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(om.min()))throw new zv(qv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ob.updateTime(t)}return Ob.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),tE=function(){function e(t,n,r,i,a){f(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.za=r.maxAttempts,this.jo=new Ax(this.asyncQueue,"transaction_retry")}return m(e,[{key:"ja",value:function(){this.za-=1,this.Ha()}},{key:"Ha",value:function(){var e=this;this.jo.qo(S(x().mark((function t(){var n,r;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new eE(e.datastore),(r=e.Ja(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ya(t)}))}))})).catch((function(t){e.Ya(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ja",value:function(e){try{var t=this.updateFunction(e);return!jm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ya",value:function(e){var t=this;this.za>0&&this.Za(e)?(this.za-=1,this.asyncQueue.enqueueAndForget((function(){return t.Ha(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Za",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ew(t)}return!1}}]),e}(),nE=function(){function e(t,n,r,i){var a=this;f(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Av.UNAUTHENTICATED,this.clientId=tm.newId(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=S(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Mv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return m(e,[{key:"configuration",get:function(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new zv(qv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Wv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(S(x().mark((function n(){var r;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=IC(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function rE(e,t){return iE.apply(this,arguments)}function iE(){return iE=S(x().mark((function e(t,n){var r,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Mv("FirestoreClient","Initializing OfflineComponentProvider"),r=t.configuration,e.next=4,n.initialize(r);case 4:i=r.initialUser,t.setCredentialChangeListener(function(){var e=S(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,K_(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 6:case"end":return e.stop()}}),e)}))),iE.apply(this,arguments)}function aE(e,t){return oE.apply(this,arguments)}function oE(){return(oE=S(x().mark((function e(t,n){var r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,sE(t);case 3:return r=e.sent,Mv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,n.initialize(r,t.configuration);case 7:t.setCredentialChangeListener((function(e){return wC(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return wC(n.remoteStore,t)})),t._onlineComponents=n;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uE(e){return"FirebaseError"===e.name?e.code===qv.FAILED_PRECONDITION||e.code===qv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function sE(e){return lE.apply(this,arguments)}function lE(){return(lE=S(x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Mv("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,rE(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),uE(n=e.t0)){e.next=13;break}throw n;case 13:return jv("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,rE(t,new KS);case 16:e.next=21;break;case 18:return Mv("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,rE(t,new KS);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function cE(e){return dE.apply(this,arguments)}function dE(){return(dE=S(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Mv("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,aE(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Mv("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,aE(t,new YS);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fE(e){return sE(e).then((function(e){return e.persistence}))}function hE(e){return sE(e).then((function(e){return e.localStore}))}function pE(e){return cE(e).then((function(e){return e.remoteStore}))}function vE(e){return cE(e).then((function(e){return e.syncEngine}))}function mE(e){return cE(e).then((function(e){return e.datastore}))}function yE(e){return gE.apply(this,arguments)}function gE(){return(gE=S(x().mark((function e(t){var n,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=XC.bind(null,n.syncEngine),r.onUnlisten=tS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Wv;return e.asyncQueue.enqueueAndForget(S(x().mark((function i(){return x().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new JS({next:function(a){t.enqueueAndForget((function(){return RC(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new zv(qv.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new zv(qv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new UC(Bg(n.path),a,{includeMetadataChanges:!0,Z_:!0});return OC(e,o)},i.next=3,yE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function wE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Wv;return e.asyncQueue.enqueueAndForget(S(x().mark((function i(){return x().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new JS({next:function(n){t.enqueueAndForget((function(){return RC(e,o)})),n.fromCache&&"server"===r.source?i.reject(new zv(qv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new UC(n,a,{includeMetadataChanges:!0,Z_:!0});return OC(e,o)},i.next=3,yE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function kE(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var _E=new Map;function xE(e,t,n){if(!n)throw new zv(qv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function CE(e,t,n,r){if(!0===t&&!0===r)throw new zv(qv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function SE(e){if(!dm.isDocumentKey(e))throw new zv(qv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function EE(e){if(dm.isDocumentKey(e))throw new zv(qv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function IE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Uv()}function $E(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new zv(qv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=IE(e);throw new zv(qv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function TE(e,t){if(t<=0)throw new zv(qv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var NE=function(){function e(t){var n,r;if(f(this,e),void 0===t.host){if(void 0!==t.ssl)throw new zv(qv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new zv(qv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kE(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new zv(qv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new zv(qv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new zv(qv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return m(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),PE=function(){function e(t,n,r,i){f(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NE({}),this._settingsFrozen=!1}return m(e,[{key:"app",get:function(){if(!this._app)throw new zv(qv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new zv(qv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Kv;switch(e.type){case"firstParty":return new Xv(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new zv(qv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=_E.get(e);t&&(Mv("ComponentProvider","Removing Datastore"),_E.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function AE(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=$E(e,PE))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&jv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=Av.MOCK_USER;else{u=_n(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new zv(qv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Av(l)}e._authCredentials=new Hv(new Gv(u,s))}}var OE=function(){function e(t,n,r){f(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return m(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),DE=function(){function e(t,n,r){f(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return m(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new RE(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),RE=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this,e,r,Bg(i)))._path=i,a.type="collection",a}return m(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new DE(this.firestore,null,new dm(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(OE);function ME(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Qn(e),xE("collection","path",t),e instanceof PE){var a=sm.fromString.apply(sm,[t].concat(r));return EE(a),new RE(e,null,a)}if(!(e instanceof DE||e instanceof RE))throw new zv(qv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(sm.fromString.apply(sm,[t].concat(r)));return EE(o),new RE(e.firestore,null,o)}function LE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Qn(e),1===arguments.length&&(t=tm.newId()),xE("doc","path",t),e instanceof PE){var a=sm.fromString.apply(sm,[t].concat(r));return SE(a),new DE(e,null,new dm(a))}if(!(e instanceof DE||e instanceof RE))throw new zv(qv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(sm.fromString.apply(sm,[t].concat(r)));return SE(o),new DE(e.firestore,e instanceof RE?e.converter:null,new dm(o))}function jE(e,t){return e=Qn(e),t=Qn(t),(e instanceof DE||e instanceof RE)&&(t instanceof DE||t instanceof RE)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function FE(e,t){return e=Qn(e),t=Qn(t),e instanceof OE&&t instanceof OE&&e.firestore===t.firestore&&Qg(e._query,t._query)&&e.converter===t.converter}var UE=function(){function e(){var t=this;f(this,e),this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Ax(this,"async_queue_retry"),this._u=function(){var e=Nx();e&&Mv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.jo.Ko()};var n=Nx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this._u)}return m(e,[{key:"isShuttingDown",get:function(){return this.tu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.au(),this.uu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.tu){this.tu=!0,this.su=e||!1;var t=Nx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._u)}}},{key:"enqueue",value:function(e){var t=this;if(this.au(),this.tu)return new Promise((function(){}));var n=new Wv;return this.uu((function(){return t.tu&&t.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.eu.push(e),t.cu()}))}},{key:"cu",value:function(){var e=S(x().mark((function e(){var t=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.eu.length){e.next=14;break}return e.prev=1,e.next=4,this.eu[0]();case 4:this.eu.shift(),this.jo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Nm(e.t0)){e.next=12;break}throw e.t0;case 12:Mv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.eu.length>0&&this.jo.qo((function(){return t.cu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"uu",value:function(e){var t=this,n=this.Xa.then((function(){return t.iu=!0,e().catch((function(e){t.ru=e,t.iu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Lv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.iu=!1,e}))}));return this.Xa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.au(),this.ou.indexOf(e)>-1&&(t=0);var i=EC.createAndSchedule(this,e,t,n,(function(e){return r.lu(e)}));return this.nu.push(i),i}},{key:"au",value:function(){this.ru&&Uv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"hu",value:function(){var e=S(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Xa,e.next=3,t;case 3:if(t!==this.Xa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pu",value:function(e){var t,n=N(this.nu);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Iu",value:function(e){var t=this;return this.hu().then((function(){t.nu.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=N(t.nu);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.hu()}))}},{key:"Tu",value:function(e){this.ou.push(e)}},{key:"lu",value:function(e){var t=this.nu.indexOf(e);this.nu.splice(t,1)}}]),e}();function BE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=N(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var VE=function(){function e(){f(this,e),this._progressObserver={},this._taskCompletionResolver=new Wv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return m(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),qE=function(e){g(n,e);var t=_(n);function n(e,r,i,a){var o;return f(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new UE,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return m(n,[{key:"_terminate",value:function(){return this._firestoreClient||WE(this),this._firestoreClient.terminate()}}]),n}(PE);function zE(e){return e._firestoreClient||WE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function WE(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Ry(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,kE(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new nE(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function GE(e,t,n){var r=new Wv;return e.asyncQueue.enqueue(S(x().mark((function i(){var a;return x().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,rE(e,n);case 3:return i.next=5,aE(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),uE(a=i.t0)){i.next=13;break}throw a;case 13:jv("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function KE(e){return function(e){var t=new Wv;return e.asyncQueue.enqueueAndForget(S(x().mark((function n(){return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=pS,n.next=3,vE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(zE(e=$E(e,qE)))}function HE(e){return function(e){return e.asyncQueue.enqueue(S(x().mark((function t(){var n,r;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fE(e);case 2:return n=t.sent,t.next=5,pE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Vv(e);return t.v_.delete(0),Fx(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(zE(e=$E(e,qE)))}function QE(e){return function(e){return e.asyncQueue.enqueue(S(x().mark((function t(){var n,r;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fE(e);case 2:return n=t.sent,t.next=5,pE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=S(x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Vv(t)).v_.add(0),e.next=4,Bx(n);case 4:n.x_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(zE(e=$E(e,qE)))}function YE(e,t){var n=zE(e=$E(e,qE)),r=new VE;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new ZS(e,t)}(function(e,t){if(e instanceof Uint8Array)return XS(e,t);if(e instanceof ArrayBuffer)return XS(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?rw().encode(e):e),t)}(n,Px(t));e.asyncQueue.enqueueAndForget(S(x().mark((function t(){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=GS,t.next=3,vE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function XE(e,t){return function(e,t){return e.asyncQueue.enqueue(S(x().mark((function n(){return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Vv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.$r.getNamedQuery(e,t)}))},n.next=3,hE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(zE(e=$E(e,qE)),t).then((function(t){return t?new OE(e,null,t.query):null}))}function JE(e){if(e._initialized||e._terminated)throw new zv(qv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ZE=function(){function e(t){f(this,e),this._byteString=t}return m(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Iy.fromBase64String(t))}catch(t){throw new zv(qv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Iy.fromUint8Array(t))}}]),e}(),eI=function(){function e(){f(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new zv(qv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cm(n)}return m(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var tI=m((function e(t){f(this,e),this._methodName=t})),nI=function(){function e(t,n){if(f(this,e),!isFinite(t)||t<-90||t>90)throw new zv(qv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new zv(qv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return m(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return nm(this._lat,e._lat)||nm(this._long,e._long)}}]),e}(),rI=/^__.*__$/,iI=function(){function e(t,n,r){f(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Vb(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bb(e,this.data,t,this.fieldTransforms)}}]),e}(),aI=function(){function e(t,n,r){f(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return new Vb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function oI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Uv()}}var uI=function(){function e(t,n,r,i,a,o){f(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Eu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return m(e,[{key:"path",get:function(){return this.settings.path}},{key:"du",get:function(){return this.settings.du}},{key:"Au",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Ru",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.mu(e),r}},{key:"fu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Au({path:n,Vu:!1});return r.Eu(),r}},{key:"gu",value:function(e){return this.Au({path:void 0,Vu:!0})}},{key:"pu",value:function(e){return II(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Eu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.mu(this.path.get(e))}},{key:"mu",value:function(e){if(0===e.length)throw this.pu("Document fields must not be empty");if(oI(this.du)&&rI.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}]),e}(),sI=function(){function e(t,n,r){f(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Px(t)}return m(e,[{key:"Su",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uI({du:e,methodName:t,wu:n,path:cm.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function lI(e){var t=e._freezeSettings(),n=Px(e._databaseId);return new sI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function cI(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Su(a.merge||a.mergeFields?2:0,t,n,i);xI("Data must be an object, but it was:",o,r);var u,s,l=kI(r,o);if(a.merge)u=new Sy(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var c,d=[],f=N(a.mergeFields);try{for(f.s();!(c=f.n()).done;){var h=CI(t,c.value,n);if(!o.contains(h))throw new zv(qv.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));$I(d,h)||d.push(h)}}catch(p){f.e(p)}finally{f.f()}u=new Sy(d),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new iI(new ig(l),u,s)}var dI=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.du)throw 1===e.du?e.pu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.pu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(tI);function fI(e,t,n){return new uI({du:3,wu:t.settings.wu,methodName:e._methodName,Vu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var hI=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){return new Pb(e.path,new xb)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(tI),pI=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e)).bu=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=fI(this,e,!0),n=this.bu.map((function(e){return wI(e,t)})),r=new Cb(n);return new Pb(e.path,r)}},{key:"isEqual",value:function(e){return e instanceof n&&jn(this.bu,e.bu)}}]),n}(tI),vI=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e)).bu=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=fI(this,e,!0),n=this.bu.map((function(e){return wI(e,t)})),r=new Eb(n);return new Pb(e.path,r)}},{key:"isEqual",value:function(e){return e instanceof n&&jn(this.bu,e.bu)}}]),n}(tI),mI=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e)).Du=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=new $b(e.serializer,gb(e.serializer,this.Du));return new Pb(e.path,t)}},{key:"isEqual",value:function(e){return e instanceof n&&this.Du===e.Du}}]),n}(tI);function yI(e,t,n,r){var i=e.Su(1,t,n);xI("Data must be an object, but it was:",i,r);var a=[],o=ig.empty();yy(r,(function(e,r){var u=EI(t,e,n);r=Qn(r);var s=i.fu(u);if(r instanceof dI)a.push(u);else{var l=wI(r,s);null!=l&&(a.push(u),o.set(u,l))}}));var u=new Sy(a);return new aI(o,u,i.fieldTransforms)}function gI(e,t,n,r,i,a){var o=e.Su(1,t,n),u=[CI(t,r,n)],s=[i];if(a.length%2!=0)throw new zv(qv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)u.push(CI(t,a[l])),s.push(a[l+1]);for(var c=[],d=ig.empty(),f=u.length-1;f>=0;--f)if(!$I(c,u[f])){var h=u[f],p=s[f];p=Qn(p);var v=o.fu(h);if(p instanceof dI)c.push(h);else{var m=wI(p,v);null!=m&&(c.push(h),d.set(h,m))}}var y=new Sy(c);return new aI(d,y,o.fieldTransforms)}function bI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return wI(n,e.Su(r?4:3,t))}function wI(e,t){if(_I(e=Qn(e)))return xI("Unsupported field value:",t,e),kI(e,t);if(e instanceof tI)return function(e,t){if(!oI(t.du))throw t.pu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.pu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Vu&&4!==t.du)throw t.pu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=N(e);try{for(a.s();!(n=a.n()).done;){var o=wI(n.value,t.gu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Qn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return gb(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=am.fromDate(e);return{timestampValue:xw(t.serializer,n)}}if(e instanceof am){var r=new am(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:xw(t.serializer,r)}}if(e instanceof nI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ZE)return{bytesValue:Cw(t.serializer,e._byteString)};if(e instanceof DE){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.pu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Iw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.pu("Unsupported field value: ".concat(IE(e)))}(e,t)}function kI(e,t){var n={};return gy(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yy(e,(function(e,r){var i=wI(r,t.Ru(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function _I(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof am||e instanceof nI||e instanceof ZE||e instanceof DE||e instanceof tI)}function xI(e,t,n){if(!_I(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=IE(n);throw"an object"===r?t.pu(e+" a custom object"):t.pu(e+" "+r)}}function CI(e,t,n){if((t=Qn(t))instanceof eI)return t._internalPath;if("string"==typeof t)return EI(e,t);throw II("Field path arguments must be of type string or ",e,!1,void 0,n)}var SI=new RegExp("[~\\*/\\[\\]]");function EI(e,t,n){if(t.search(SI)>=0)throw II("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return I(eI,P(t.split(".")))._internalPath}catch(_d){throw II("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function II(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new zv(qv.INVALID_ARGUMENT,u+e+s)}function $I(e,t){return e.some((function(e){return e.isEqual(t)}))}var TI=function(){function e(t,n,r,i,a){f(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return m(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new DE(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new NI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(PI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),NI=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){return sd(b(n.prototype),"data",this).call(this)}}]),n}(TI);function PI(e,t){return"string"==typeof t?EI(e,t):t instanceof eI?t._internalPath:t._delegate._internalPath}function AI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new zv(qv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var OI=m((function e(){f(this,e)})),DI=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n)}(OI);function RI(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof OI&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof LI})).length,n=e.filter((function(e){return e instanceof MI})).length;if(t>1||t>0&&n>0)throw new zv(qv.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=N(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var MI=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return m(n,[{key:"_apply",value:function(e){var t=this._parse(e);return QI(e._query,t),new OE(e.firestore,e.converter,Kg(e._query,t))}},{key:"_parse",value:function(e){var t=lI(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new zv(qv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){HI(o,a);var s,l=[],c=N(o);try{for(c.s();!(s=c.n()).done;){var d=s.value;l.push(KI(r,e,d))}}catch(f){c.e(f)}finally{c.f()}u={arrayValue:{values:l}}}else u=KI(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||HI(o,a),u=bI(n,t,o,"in"===a||"not-in"===a);return hg.create(i,a,u)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(DI);var LI=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return m(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:pg.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=N(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;QI(r,a),r=Kg(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new OE(e.firestore,e.converter,Kg(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(OI);var jI=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return m(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new zv(qv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new zv(qv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cg(t,n)}(e._query,this._field,this._direction);return new OE(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Fg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(DI);var FI=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return m(n,[{key:"_apply",value:function(e){return new OE(e.firestore,e.converter,Hg(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(DI);var UI=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return m(n,[{key:"_apply",value:function(e){var t=GI(e,this.type,this._docOrFields,this._inclusive);return new OE(e.firestore,e.converter,function(e,t){return new Fg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(DI);function BI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return UI._create("startAt",t,!0)}function VI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return UI._create("startAfter",t,!1)}var qI=function(e){g(n,e);var t=_(n);function n(e,r,i){var a;return f(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return m(n,[{key:"_apply",value:function(e){var t=GI(e,this.type,this._docOrFields,this._inclusive);return new OE(e.firestore,e.converter,function(e,t){return new Fg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(DI);function zI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qI._create("endBefore",t,!1)}function WI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return qI._create("endAt",t,!0)}function GI(e,t,n,r){if(n[0]=Qn(n[0]),n[0]instanceof TI)return function(e,t,n,r,i){if(!r)throw new zv(qv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=N(zg(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Gy(t,r.key));else{var l=r.data.field(s.field);if(Ay(l))throw new zv(qv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=s.field.canonicalString();throw new zv(qv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(c,"' (used as the orderBy) does not exist."))}o.push(l)}}}catch(d){u.e(d)}finally{u.f()}return new ug(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=lI(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new zv(qv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var l=i[s];if(o[s].field.isKeyField()){if("string"!=typeof l)throw new zv(qv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof l));if(!qg(e)&&-1!==l.indexOf("/"))throw new zv(qv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(l,"' contains a slash."));var c=e.path.child(sm.fromString(l));if(!dm.isDocumentKey(c))throw new zv(qv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(c,"' is not because it contains an odd number of segments."));var d=new dm(c);u.push(Gy(t,d))}else{var f=bI(n,r,l);u.push(f)}}return new ug(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function KI(e,t,n){if("string"==typeof(n=Qn(n))){if(""===n)throw new zv(qv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qg(t)&&-1!==n.indexOf("/"))throw new zv(qv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(sm.fromString(n));if(!dm.isDocumentKey(r))throw new zv(qv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Gy(e,new dm(r))}if(n instanceof DE)return Gy(e,n._key);throw new zv(qv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(IE(n),"."))}function HI(e,t){if(!Array.isArray(e)||0===e.length)throw new zv(qv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function QI(e,t){var n=function(e,t){var n,r=N(e);try{for(r.s();!(n=r.n()).done;){var i,a=N(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new zv(qv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new zv(qv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}var YI=function(){function e(){f(this,e)}return m(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Fy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ny(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Py(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Uv()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return yy(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new nI(Ny(e.latitude),Ny(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Oy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Dy(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Ty(e);return new am(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=sm.fromString(e);Bv(Jw(n));var r=new My(n.get(1),n.get(3)),i=new dm(n.popFirst(5));return r.isEqual(t)||Lv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function XI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var JI=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new ZE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new DE(this.firestore,null,t)}}]),n}(YI);var ZI=function(){function e(t,n){f(this,e),this.hasPendingWrites=t,this.fromCache=n}return m(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),e$=function(e){g(n,e);var t=_(n);function n(e,r,i,a,o,u){var s;return f(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return m(n,[{key:"exists",value:function(){return sd(b(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new t$(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(PI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(TI),t$=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sd(b(n.prototype),"data",this).call(this,e)}}]),n}(e$),n$=function(){function e(t,n,r,i){f(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new ZI(i.hasPendingWrites,i.fromCache),this.query=r}return m(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new t$(n._firestore,n._userDataWriter,r.key,r,new ZI(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new zv(qv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new t$(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ZI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new t$(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ZI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:r$(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function r$(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Uv()}}function i$(e,t){return e instanceof e$&&t instanceof e$?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof n$&&t instanceof n$&&e._firestore===t._firestore&&FE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var a$=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new ZE(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new DE(this.firestore,null,t)}}]),n}(YI);function o$(e){e=$E(e,DE);var t=$E(e.firestore,qE),n=zE(t),r=new a$(t);return function(e,t){var n=new Wv;return e.asyncQueue.enqueueAndForget(S(x().mark((function r(){return x().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=S(x().mark((function e(t,n,r){var i,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Vv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new zv(qv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=IC(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,hE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new e$(t,r,e._key,n,new ZI(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function u$(e){e=$E(e,OE);var t=$E(e.firestore,qE),n=zE(t),r=new a$(t);return function(e,t){var n=new Wv;return e.asyncQueue.enqueueAndForget(S(x().mark((function r(){return x().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=S(x().mark((function e(t,n,r){var i,a,o,u,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rx(t,n,!0);case 3:i=e.sent,a=new KC(n,i.hs),o=a.ha(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=IC(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,hE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new n$(t,r,e,n)}))}function s$(e,t,n){e=$E(e,DE);var r=$E(e.firestore,qE),i=XI(e.converter,t,n);return f$(r,[cI(lI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ob.none())])}function l$(e,t,n){e=$E(e,DE);for(var r=$E(e.firestore,qE),i=lI(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return f$(r,[("string"==typeof(t=Qn(t))||t instanceof eI?gI(i,"updateDoc",e._key,t,n,o):yI(i,"updateDoc",e._key,t)).toMutation(e._key,Ob.exists(!0))])}function c$(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Qn(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||BE(n[s])||(u=n[s],s++);var l,c,d,f={includeMetadataChanges:u.includeMetadataChanges};if(BE(n[s])){var h=n[s];n[s]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[s+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[s+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof DE)c=$E(e.firestore,qE),d=Bg(e._key.path),l={next:function(t){n[s]&&n[s](h$(c,e,t))},error:n[s+1],complete:n[s+2]};else{var p=$E(e,OE);c=$E(p.firestore,qE),d=p._query;var v=new a$(c);l={next:function(e){n[s]&&n[s](new n$(c,v,p,e))},error:n[s+1],complete:n[s+2]},AI(e._query)}return function(e,t,n,r){var i=new JS(r),a=new UC(t,i,n);return e.asyncQueue.enqueueAndForget(S(x().mark((function t(){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=OC,t.next=3,yE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.La(),e.asyncQueue.enqueueAndForget(S(x().mark((function t(){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=RC,t.next=3,yE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(zE(c),d,f,l)}function d$(e,t){return function(e,t){var n=new JS(t);return e.asyncQueue.enqueueAndForget(S(x().mark((function t(){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Vv(e).K_.add(t),t.next()},t.next=3,yE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.La(),e.asyncQueue.enqueueAndForget(S(x().mark((function t(){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Vv(e).K_.delete(t)},t.next=3,yE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(zE(e=$E(e,qE)),BE(t)?t:{next:t})}function f$(e,t){return function(e,t){var n=new Wv;return e.asyncQueue.enqueueAndForget(S(x().mark((function r(){return x().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=rS,r.next=3,vE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(zE(e),t)}function h$(e,t,n){var r=n.docs.get(t._key),i=new a$(e);return new e$(e,i,t._key,r,new ZI(n.hasPendingWrites,n.fromCache),t.converter)}var p$={maxAttempts:5},v$=function(){function e(t,n){f(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=lI(t)}return m(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=m$(e,this._firestore),i=XI(r.converter,t,n),a=cI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Ob.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=m$(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Qn(t))||t instanceof eI?gI(this._dataReader,"WriteBatch.update",i._key,t,n,o):yI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Ob.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=m$(e,this._firestore);return this._mutations=this._mutations.concat(new Hb(t._key,Ob.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new zv(qv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function m$(e,t){if((e=Qn(e)).firestore!==t)throw new zv(qv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var y$=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,r))._firestore=e,i}return m(n,[{key:"get",value:function(e){var t=this,r=m$(e,this._firestore),i=new a$(this._firestore);return sd(b(n.prototype),"get",this).call(this,e).then((function(e){return new e$(t._firestore,i,r._key,e._document,new ZI(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){f(this,e),this._firestore=t,this._transaction=n,this._dataReader=lI(t)}return m(e,[{key:"get",value:function(e){var t=this,n=m$(e,this._firestore),r=new JI(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Uv();var i=e[0];if(i.isFoundDocument())return new TI(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new TI(t._firestore,r,n._key,null,n.converter);throw Uv()}))}},{key:"set",value:function(e,t,n){var r=m$(e,this._firestore),i=XI(r.converter,t,n),a=cI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=m$(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Qn(t))||t instanceof eI?gI(this._dataReader,"Transaction.update",i._key,t,n,o):yI(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=m$(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function g$(e,t,n){e=$E(e,qE);var r=Object.assign(Object.assign({},p$),n);return function(e){if(e.maxAttempts<1)throw new zv(qv.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Wv;return e.asyncQueue.enqueueAndForget(S(x().mark((function i(){var a;return x().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,mE(e);case 2:a=i.sent,new tE(e.asyncQueue,a,n,t,r).ja();case 4:case"end":return i.stop()}}),i)})))),r.promise}(zE(e),(function(n){return t(new y$(e,n))}),r)}function b$(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pI("arrayUnion",t)}function w$(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vI("arrayRemove",t)}new WeakMap;!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ov=e}(Gr),Fr(new Yn("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new qE(new Qv(e.getProvider("auth-internal")),new Zv(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new zv(qv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new My(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Jr(Pv,"4.4.3",e),Jr(Pv,"4.4.3","esm2017")}();function k$(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new zv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function _$(){if("undefined"===typeof Uint8Array)throw new zv("unimplemented","Uint8Arrays are not available in this environment.")}function x$(){if("undefined"==typeof atob)throw new zv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var C$=function(){function e(t){f(this,e),this._delegate=t}return m(e,[{key:"toBase64",value:function(){return x$(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return _$(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return x$(),new e(ZE.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return _$(),new e(ZE.fromUint8Array(t))}}]),e}();function S$(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=N(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var E$=function(){function e(){f(this,e)}return m(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){JE(e=$E(e,qE));var n=zE(e);if(n._uninitializedComponentsProvider)throw new zv(qv.FAILED_PRECONDITION,"SDK cache is already specified.");jv("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new YS;return GE(n,i,new HS(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){JE(e=$E(e,qE));var t=zE(e);if(t._uninitializedComponentsProvider)throw new zv(qv.FAILED_PRECONDITION,"SDK cache is already specified.");jv("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new YS;return GE(t,r,new QS(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new zv(qv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Wv;return e._queue.enqueueAndForgetEvenWhileRestricted(S(x().mark((function n(){return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=S(x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Im.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Im.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(B_(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),I$=function(){function e(t,n,r){var i=this;f(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof My||(this._appCompat=t)}return m(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||jv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};AE(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return HE(this._delegate)}},{key:"disableNetwork",value:function(){return QE(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&CE("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return KE(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return d$(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new zv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new B$(this,ME(this._delegate,e))}catch(t){throw O$(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new A$(this,LE(this._delegate,e))}catch(t){throw O$(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new j$(this,function(e,t){if(e=$E(e,PE),xE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new zv(qv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new OE(e,null,function(e){return new Fg(sm.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw O$(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return g$(this._delegate,(function(n){return e(new T$(t,n))}))}},{key:"batch",value:function(){var e=this;return zE(this._delegate),new N$(new v$(this._delegate,(function(t){return f$(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return YE(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return XE(this._delegate,e).then((function(e){return e?new j$(t,e):null}))}}]),e}(),$$=function(e){g(n,e);var t=_(n);function n(e){var r;return f(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new C$(new ZE(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return A$.forKey(t,this.firestore,null)}}]),n}(YI);var T$=function(){function e(t,n){f(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new $$(t)}return m(e,[{key:"get",value:function(e){var t=this,n=V$(e);return this._delegate.get(n).then((function(e){return new M$(t._firestore,new e$(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=V$(e);return n?(k$("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=V$(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=V$(e);return this._delegate.delete(t),this}}]),e}(),N$=function(){function e(t){f(this,e),this._delegate=t}return m(e,[{key:"set",value:function(e,t,n){var r=V$(e);return n?(k$("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=V$(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=V$(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),P$=function(){function e(t,n,r){f(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return m(e,[{key:"fromFirestore",value:function(e,t){var n=new t$(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new L$(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new $$(t),n),i.set(n,a)),a}}]),e}();P$.INSTANCES=new WeakMap;var A$=function(){function e(t,n){f(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new $$(t)}return m(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new B$(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new B$(this.firestore,ME(this._delegate,e))}catch(t){throw O$(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Qn(e))instanceof DE&&jE(this._delegate,e)}},{key:"set",value:function(e,t){t=k$("DocumentReference.set",t);try{return t?s$(this._delegate,e,t):s$(this._delegate,e)}catch(n){throw O$(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?l$(this._delegate,e):l$.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw O$(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return f$($E((e=this._delegate).firestore,qE),[new Hb(e._key,Ob.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=D$(n),a=R$(n,(function(t){return new M$(e.firestore,new e$(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return c$(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?o$(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=$E(e,DE);var t=$E(e.firestore,qE);return bE(zE(t),e._key,{source:"server"}).then((function(n){return h$(t,e,n)}))}(this._delegate):function(e){e=$E(e,DE);var t=$E(e.firestore,qE);return bE(zE(t),e._key).then((function(n){return h$(t,e,n)}))}(this._delegate)).then((function(e){return new M$(t.firestore,new e$(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(P$.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new zv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new DE(n._delegate,r,new dm(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new DE(n._delegate,r,t))}}]),e}();function O$(e,t,n){return e.message=e.message.replace(t,n),e}function D$(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!S$(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function R$(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=S$(e[0])?e[0]:S$(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var M$=function(){function e(t,n){f(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"ref",get:function(){return new A$(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return i$(this._delegate,e._delegate)}}]),e}(),L$=function(e){g(n,e);var t=_(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Uv(),t}}]),n}(M$),j$=function(){function e(t,n){f(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new $$(t)}return m(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,RI(this._delegate,function(e,t,n){var r=t,i=PI("where",e);return MI._create(i,r,n)}(t,n,r)))}catch(i){throw O$(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,RI(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=PI("orderBy",e);return jI._create(n,t)}(t,n)))}catch(r){throw O$(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,RI(this._delegate,(TE("limit",n=t),FI._create("limit",n,"F"))))}catch(n){throw O$(n,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,RI(this._delegate,(TE("limitToLast",n=t),FI._create("limitToLast",n,"L"))))}catch(n){throw O$(n,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,RI(this._delegate,BI.apply(void 0,arguments)))}catch(t){throw O$(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,RI(this._delegate,VI.apply(void 0,arguments)))}catch(t){throw O$(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,RI(this._delegate,zI.apply(void 0,arguments)))}catch(t){throw O$(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,RI(this._delegate,WI.apply(void 0,arguments)))}catch(t){throw O$(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return FE(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?u$(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=$E(e,OE);var t=$E(e.firestore,qE),n=zE(t),r=new a$(t);return wE(n,e._query,{source:"server"}).then((function(n){return new n$(t,r,e,n)}))}(this._delegate):function(e){e=$E(e,OE);var t=$E(e.firestore,qE),n=zE(t),r=new a$(t);return AI(e._query),wE(n,e._query).then((function(n){return new n$(t,r,e,n)}))}(this._delegate),t.then((function(e){return new U$(n.firestore,new n$(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=D$(n),a=R$(n,(function(t){return new U$(e.firestore,new n$(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return c$(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(P$.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),F$=function(){function e(t,n){f(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new L$(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),U$=function(){function e(t,n){f(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"query",get:function(){return new j$(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new L$(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new F$(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new L$(n._firestore,r))}))}},{key:"isEqual",value:function(e){return i$(this._delegate,e._delegate)}}]),e}(),B$=function(e){g(n,e);var t=_(n);function n(e,r){var i;return f(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return m(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new A$(this.firestore,e):null}},{key:"doc",value:function(e){try{return new A$(this.firestore,void 0===e?LE(this._delegate):LE(this._delegate,e))}catch(t){throw O$(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=$E(e.firestore,qE),r=LE(e),i=XI(e.converter,t);return f$(n,[cI(lI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ob.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new A$(t.firestore,e)}))}},{key:"isEqual",value:function(e){return jE(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(P$.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(j$);function V$(e){return $E(e,DE)}var q$=function(){function e(){f(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=I(eI,n)}return m(e,[{key:"isEqual",value:function(e){return(e=Qn(e))instanceof eI&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(cm.keyField().canonicalString())}}]),e}(),z$=function(){function e(t){f(this,e),this._delegate=t}return m(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new hI("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new dI("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=b$.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=w$.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new mI("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),W$={Firestore:I$,GeoPoint:nI,Timestamp:am,Blob:C$,Transaction:T$,WriteBatch:N$,DocumentReference:A$,DocumentSnapshot:M$,Query:j$,QueryDocumentSnapshot:L$,QuerySnapshot:U$,CollectionReference:B$,FieldPath:q$,FieldValue:z$,setLogLevel:function(e){var t;t=e,Dv.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Yn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},W$)))}(e,(function(e,t){return new I$(e,t,new E$)})),e.registerVersion("@firebase/firestore-compat","0.3.26")}(Ci);Ci.initializeApp({apiKey:"AIzaSyDIOSOjLWRj4RvgwB5brX_xdQyv6ibbqOQ",authDomain:"website-f350e.firebaseapp.com",projectId:"website-f350e",storageBucket:"website-f350e.appspot.com",messagingSenderId:"407325526867",appId:"1:407325526867:web:e052b48b05156f3bec6fa6"});var G$,K$=Ci.firestore(),H$=n(995),Q$=i,Y$=Symbol.for("react-redux-context"),X$="undefined"!==typeof globalThis?globalThis:{};function J$(){var e;if(!Q$.createContext)return{};var t=null!==(e=X$[Y$])&&void 0!==e?e:X$[Y$]=new Map,n=t.get(Q$.createContext);return n||(n=Q$.createContext(null),t.set(Q$.createContext,n)),n}var Z$=J$(),eT=function(){throw new Error("uSES not initialized!")};function tT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z$;return function(){return Q$.useContext(e)}}var nT=tT(),rT=eT,iT=function(e,t){return e===t};function aT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z$,t=e===Z$?nT:tT(e),n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="function"===typeof n?{equalityFn:n}:n,i=r.equalityFn,a=void 0===i?iT:i,o=r.devModeChecks,u=void 0===o?{}:o;var s=t(),l=s.store,c=s.subscription,d=s.getServerState,f=s.stabilityCheck,h=(s.identityFunctionCheck,Q$.useRef(!0),Q$.useCallback(E({},e.name,(function(t){return e(t)}))[e.name],[e,f,u.stabilityCheck])),p=rT(c.addNestedSub,l.getState,d||l.getState,h,a);return Q$.useDebugValue(p),p};return Object.assign(n,{withTypes:function(){return n}}),n}var oT=aT(),uT=(Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref")),sT=(Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo")),lT=(Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference"),uT),cT=sT;function dT(e){e()}var fT={notify:function(){},get:function(){return[]}};function hT(e,t){var n,r=fT,i=0,a=!1;function o(){l.onStateChange&&l.onStateChange()}function u(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){var e=null,t=null;return{clear:function(){e=null,t=null},notify:function(){dT((function(){for(var t=e;t;)t.callback(),t=t.next}))},get:function(){for(var t=[],n=e;n;)t.push(n),n=n.next;return t},subscribe:function(n){var r=!0,i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function s(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=fT)}var l={addNestedSub:function(e){u();var t=r.subscribe(e),n=!1;return function(){n||(n=!0,t(),s())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,u())},tryUnsubscribe:function(){a&&(a=!1,s())},getListeners:function(){return r}};return l}var pT=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?Q$.useLayoutEffect:Q$.useEffect;var vT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};E(G$={},lT,{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0}),E(G$,cT,vT);Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var mT=function(e){var t=e.store,n=e.context,r=e.children,i=e.serverState,a=e.stabilityCheck,o=void 0===a?"once":a,u=e.identityFunctionCheck,s=void 0===u?"once":u,l=Q$.useMemo((function(){var e=hT(t);return{store:t,subscription:e,getServerState:i?function(){return i}:void 0,stabilityCheck:o,identityFunctionCheck:s}}),[t,i,o,s]),c=Q$.useMemo((function(){return t.getState()}),[t]);pT((function(){var e=l.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,c]);var d=n||Z$;return Q$.createElement(d.Provider,{value:l},r)};function yT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z$,t=e===Z$?nT:tT(e),n=function(){return t().store};return Object.assign(n,{withTypes:function(){return n}}),n}var gT=yT();function bT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z$,t=e===Z$?gT:yT(e),n=function(){return t().dispatch};return Object.assign(n,{withTypes:function(){return n}}),n}var wT,kT=bT();wT=H$.useSyncExternalStoreWithSelector,rT=wT,function(e){e}(i.useSyncExternalStore);var _T=n(184),xT=function(e){var t=e.className,n=e.value,r=e.handler,a=(0,i.useRef)(),o=function(){var e=a.current;e&&(e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px")),console.log("".concat(e.scrollHeight,"px"))};return(0,i.useEffect)((function(){return o()}),[]),(0,_T.jsx)("textarea",{ref:a,rows:1,defaultValue:n,className:"border-2 ".concat(t," overflow-hidden resize-none w-full"),onChange:function(e){return null===r||void 0===r?void 0:r(e.target.value)},onInput:o,required:!0})};function CT(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var ST=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}(),ET=function(){return Math.random().toString(36).substring(7).split("").join(".")},IT={INIT:"@@redux/INIT".concat(ET()),REPLACE:"@@redux/REPLACE".concat(ET()),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION".concat(ET())}};function $T(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function TT(e,t,n){if("function"!==typeof e)throw new Error(CT(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(CT(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(CT(1));return n(TT)(e,t)}var r=e,i=t,a=new Map,o=a,u=0,s=!1;function l(){o===a&&(o=new Map,a.forEach((function(e,t){o.set(t,e)})))}function c(){if(s)throw new Error(CT(3));return i}function d(e){if("function"!==typeof e)throw new Error(CT(4));if(s)throw new Error(CT(5));var t=!0;l();var n=u++;return o.set(n,e),function(){if(t){if(s)throw new Error(CT(6));t=!1,l(),o.delete(n),a=null}}}function f(e){if(!$T(e))throw new Error(CT(7));if("undefined"===typeof e.type)throw new Error(CT(8));if("string"!==typeof e.type)throw new Error(CT(17));if(s)throw new Error(CT(9));try{s=!0,i=r(i,e)}finally{s=!1}return(a=o).forEach((function(e){e()})),e}return f({type:IT.INIT}),E({dispatch:f,subscribe:d,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error(CT(10));r=e,f({type:IT.REPLACE})}},ST,(function(){var e=d;return E({subscribe:function(t){if("object"!==typeof t||null===t)throw new Error(CT(11));function n(){var e=t;e.next&&e.next(c())}return n(),{unsubscribe:e(n)}}},ST,(function(){return this}))}))}function NT(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:IT.INIT}))throw new Error(CT(12));if("undefined"===typeof n(void 0,{type:IT.PROBE_UNKNOWN_ACTION()}))throw new Error(CT(13))}))}(n)}catch(u){a=u}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],l=n[s],c=e[s],d=l(c,t);if("undefined"===typeof d){t&&t.type;throw new Error(CT(14))}i[s]=d,r=r||d!==c}return(r=r||o.length!==Object.keys(e).length)?i:e}}function PT(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t(e.apply(this,r))}}function AT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function OT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r){var i=e(n,r),a=function(){throw new Error(CT(15))},o={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.apply(void 0,[e].concat(n))}},u=t.map((function(e){return e(o)}));return a=AT.apply(void 0,P(u))(i.dispatch),lr(lr({},i),{},{dispatch:a})}}}var DT=function(e){return{type:"SET_SECTIONS",payload:e}},RT=function(e){return{type:"CHANGE_SECTION",payload:e}},MT=function(e){return{type:"SET_IS_CHANGE_MODE",payload:e}},LT=function(e,t,n){return{type:"SET_SECTION_FIELD",payload:{title_key:e,fieldName:t,value:n}}},jT={sections:t},FT=function(e){var t=kT();return(0,i.useMemo)((function(){return function(e,t){if("function"===typeof e)return PT(e,t);if("object"!==typeof e||null===e)throw new Error(CT(16));var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=PT(i,t))}return n}(jT[e]||{},t)}),[t])},UT=function(e){var t=e.Tag,n=e.className,r=e.title_key,i=e.fieldName,a=e.value,o=oT((function(e){return e.sections})).isChangeMode,u=FT("sections").setSectionField;return(0,_T.jsx)(_T.Fragment,{children:o?(0,_T.jsx)(xT,{value:a,className:n,handler:function(e){return u(r,i,e)}}):(0,_T.jsx)(t,{className:n,children:a})})},BT=function(e){var t=e.icon,n=e.className,r={"db-migration":(0,_T.jsx)("img",{className:n,src:"/icons/db-migration.png",alt:"database migration",draggable:"false"}),cloud:(0,_T.jsx)("img",{className:n,src:"/icons/cloud.png",alt:"cloud",draggable:"false"}),migration:(0,_T.jsx)("img",{className:n,src:"/icons/migration.png",alt:"migration",draggable:"false"}),"db-star":(0,_T.jsx)("img",{className:n,src:"/icons/db-star.png",alt:"database",draggable:"false"}),cpu:(0,_T.jsx)("img",{className:n,src:"/icons/cpu.png",alt:"cpu"}),postgresql:(0,_T.jsx)("img",{className:n,src:"/icons/postgresql.png",alt:"postgresql",draggable:"false"}),vector:(0,_T.jsxs)("svg",{className:n,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,_T.jsx)("defs",{children:(0,_T.jsxs)("linearGradient",{id:"textGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,_T.jsx)("stop",{offset:"0%",style:{stopColor:"#E5DB85"}}),(0,_T.jsx)("stop",{offset:"100%",style:{stopColor:"#85600F"}})]})}),(0,_T.jsx)("path",{className:n,d:"M4.41058 6.91058C4.73602 6.58514 5.26366 6.58514 5.58909 6.91058L9.99984 11.3213L14.4106 6.91058C14.736 6.58514 15.2637 6.58514 15.5891 6.91058C15.9145 7.23602 15.9145 7.76366 15.5891 8.08909L10.5891 13.0891C10.2637 13.4145 9.73602 13.4145 9.41058 13.0891L4.41058 8.08909C4.08514 7.76366 4.08514 7.23602 4.41058 6.91058Z"})]}),send:(0,_T.jsxs)("svg",{stroke:"currentColor",fill:"none",className:n,strokeWidth:2,viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",xmlns:"http://www.w3.org/2000/svg",children:[(0,_T.jsx)("path",{d:"m22 2-7 20-4-9-9-4Z"}),(0,_T.jsx)("path",{d:"M22 2 11 13"})]}),facebook:(0,_T.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:11,height:19,viewBox:"0 0 11 19",fill:"none",children:[(0,_T.jsx)("path",{d:"M7.31345 18.395V10.1844H10.2081L10.6415 6.98452H7.31337V4.94155C7.31337 4.01512 7.58355 3.38381 8.97899 3.38381L10.7587 3.38301V0.521091C10.4509 0.482165 9.39435 0.39502 8.16537 0.39502C5.59935 0.39502 3.84261 1.88619 3.84261 4.62474V6.98452H0.940491V10.1844H3.84261V18.3949H7.31345V18.395Z",fill:"url(#paint0_linear_8_478)"}),(0,_T.jsx)("defs",{children:(0,_T.jsxs)("linearGradient",{id:"paint0_linear_8_478",x1:"3.15189",y1:"-11.8899",x2:"15.8004",y2:"-9.61303",gradientUnits:"userSpaceOnUse",children:[(0,_T.jsx)("stop",{stopColor:"#E5DB85"}),(0,_T.jsx)("stop",{offset:1,stopColor:"#85600F"})]})})]}),pencil:(0,_T.jsx)("svg",{className:n,stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg",children:(0,_T.jsx)("path",{d:"M227.32,73.37,182.63,28.69a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H216a8,8,0,0,0,0-16H115.32l112-112A16,16,0,0,0,227.32,73.37ZM136,75.31,152.69,92,68,176.69,51.31,160ZM48,208V179.31L76.69,208Zm48-3.31L79.32,188,164,103.31,180.69,120Zm96-96L147.32,64l24-24L216,84.69Z"})}),cross:(0,_T.jsx)("svg",{className:n,stroke:"currentColor",fill:"none",strokeWidth:0,viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg",children:(0,_T.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"})}),"cloud-data":(0,_T.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:1,className:n,viewBox:"0 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet",children:(0,_T.jsx)("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none",children:(0,_T.jsx)("path",{d:"M1676 5104 c-493 -76 -910 -453 -1032 -931 -13 -51 -26 -116 -29 -145 -14 -121 -9 -113 -88 -153 -206 -105 -371 -283 -457 -493 -49 -120 -65 -212 -64 -362 0 -194 41 -337 142 -500 62 -101 205 -242 310 -304 91 -54 242 -110 342 -125 37 -6 237 -11 463 -11 l397 0 0 -240 0 -239 -419 -3 c-406 -3 -420 -4 -447 -24 -67 -50 -69 -56 -72 -278 l-3 -202 -56 -28 c-69 -34 -161 -120 -196 -184 -63 -117 -74 -274 -28 -394 121 -313 524 -397 761 -159 126 125 167 308 109 478 -39 114 -146 231 -246 269 l-43 17 0 103 0 104 414 0 c412 0 413 0 446 23 18 12 43 35 54 50 20 27 21 42 24 368 l3 339 224 0 225 0 0 -587 0 -588 -60 -28 c-83 -39 -159 -117 -207 -213 -38 -77 -38 -79 -38 -198 0 -118 1 -123 36 -197 170 -355 661 -356 836 -3 38 77 38 79 38 199 0 120 0 122 -38 199 -47 95 -126 175 -208 214 l-59 27 0 588 0 587 225 0 224 0 3 -339 c3 -326 4 -341 24 -368 11 -15 36 -38 54 -50 33 -23 34 -23 446 -23 l414 0 0 -104 0 -103 -42 -17 c-101 -38 -208 -155 -247 -269 -58 -170 -17 -353 109 -478 201 -202 529 -179 699 49 108 143 121 344 33 505 -33 62 -133 155 -199 187 l-52 24 -3 202 c-3 222 -5 228 -72 278 -27 20 -41 21 -447 24 l-419 3 0 239 0 240 398 0 c225 0 425 5 462 11 100 15 252 71 342 125 155 93 308 268 379 434 58 137 72 210 73 375 0 125 -4 164 -23 235 -71 265 -245 482 -490 611 l-64 34 -19 70 c-24 87 -103 254 -163 344 -155 235 -403 420 -673 505 -276 87 -619 71 -870 -40 l-54 -24 -66 57 c-280 238 -654 343 -1016 287z m426 -313 c181 -47 327 -131 457 -261 74 -75 127 -110 168 -110 9 0 70 25 135 55 158 75 242 96 404 102 149 6 240 -8 378 -58 159 -57 322 -179 428 -318 71 -94 143 -247 172 -368 35 -148 41 -155 151 -198 216 -85 366 -262 411 -485 64 -320 -124 -636 -441 -742 l-70 -23 -1730 0 c-1887 0 -1761 -4 -1893 58 -109 50 -223 156 -287 263 -13 23 -36 76 -50 119 -115 341 76 710 425 821 67 21 106 47 124 82 7 16 16 79 19 147 4 66 16 157 27 203 90 369 393 656 769 727 104 20 301 13 403 -14z m-1169 -3985 c130 -55 137 -235 11 -297 -80 -38 -159 -16 -212 62 -20 28 -23 44 -20 92 5 69 27 103 88 135 51 25 87 28 133 8z m3387 -8 c61 -32 83 -66 88 -135 3 -48 0 -64 -20 -92 -53 -78 -132 -100 -212 -62 -100 49 -123 172 -47 255 53 58 119 70 191 34z m-1672 -195 c98 -72 97 -204 -1 -277 -40 -29 -134 -29 -174 0 -48 36 -73 82 -73 136 0 72 38 131 100 157 37 16 117 7 148 -16z"})})}),"settings-window":(0,_T.jsx)("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",version:1,viewBox:"0 0 512.000000 492.000000",preserveAspectRatio:"xMidYMid meet",children:(0,_T.jsxs)("g",{transform:"translate(0.000000,492.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none",children:[(0,_T.jsx)("path",{d:"M491 4899 c-69 -13 -181 -71 -237 -122 -63 -57 -109 -127 -140 -213 l-24 -65 0 -1844 0 -1844 24 -65 c31 -86 77 -156 140 -213 60 -54 168 -108 245 -123 34 -6 406 -10 1013 -10 l960 0 34 34 c43 43 46 91 10 133 l-24 28 -979 5 c-947 5 -980 6 -1027 25 -65 27 -131 86 -164 149 l-27 51 -3 1528 -2 1527 2045 0 2044 0 3 -736 3 -736 33 -29 c51 -46 128 -35 158 22 22 43 21 2015 -1 2107 -41 173 -162 310 -331 374 l-59 23 -1825 1 c-1016 1 -1845 -2 -1869 -7z m3731 -231 c25 -15 64 -48 86 -73 64 -72 72 -110 72 -322 l0 -183 -2046 0 -2046 0 4 198 c3 192 4 198 30 249 32 61 96 118 158 144 43 17 123 18 1870 16 l1825 -2 47 -27z"}),(0,_T.jsx)("path",{d:"M551 4487 c-14 -6 -34 -27 -44 -45 -38 -65 10 -142 88 -142 47 0 71 14 91 52 44 85 -49 179 -135 135z"}),(0,_T.jsx)("path",{d:"M942 4475 c-38 -32 -48 -72 -28 -118 17 -42 41 -57 91 -57 20 0 45 5 57 11 27 15 51 74 43 110 -9 40 -58 79 -100 79 -21 0 -44 -9 -63 -25z"}),(0,_T.jsx)("path",{d:"M1352 4475 c-39 -33 -50 -80 -28 -123 20 -38 44 -52 91 -52 47 0 81 24 95 66 21 63 -18 122 -87 131 -32 4 -45 0 -71 -22z"}),(0,_T.jsx)("path",{d:"M3555 2199 c-153 -44 -326 -145 -459 -269 -79 -75 -102 -117 -86 -164 6 -19 20 -42 31 -52 57 -51 60 -115 7 -159 -33 -28 -53 -30 -108 -14 -32 10 -44 9 -76 -7 -45 -22 -65 -65 -95 -209 -44 -210 -6 -529 72 -607 29 -29 31 -30 103 -23 84 8 108 0 132 -46 19 -38 11 -79 -23 -110 -14 -13 -32 -39 -40 -57 -22 -53 -4 -89 90 -179 137 -131 283 -216 462 -268 105 -30 121 -31 162 -6 24 15 35 33 47 75 19 64 44 86 99 86 47 0 97 -44 97 -85 0 -18 12 -39 35 -62 34 -34 39 -35 84 -30 101 12 301 95 409 169 73 51 181 147 213 191 42 57 39 94 -11 152 -49 57 -53 98 -13 145 l27 32 73 -6 c122 -11 144 13 189 209 22 96 25 309 5 400 -41 193 -70 242 -144 237 -121 -9 -128 -8 -153 21 -13 16 -24 41 -24 57 0 33 19 80 32 80 16 0 48 65 48 98 0 28 -12 46 -67 104 -128 132 -267 221 -438 280 -161 55 -227 50 -254 -22 -6 -16 -16 -44 -22 -60 -13 -34 -54 -60 -93 -60 -37 0 -83 44 -91 86 -3 21 -19 50 -35 66 -35 34 -81 36 -185 7z m60 -219 c10 -32 102 -107 152 -124 26 -9 77 -16 113 -16 90 0 176 42 227 110 l36 48 40 -14 c90 -32 210 -102 282 -166 l34 -29 -19 -42 c-42 -96 -33 -200 23 -284 55 -82 132 -128 226 -135 25 -2 36 -9 43 -28 17 -41 22 -245 9 -320 l-12 -68 -47 -6 c-105 -14 -200 -85 -243 -181 -30 -66 -30 -170 -1 -237 l21 -46 -58 -45 c-70 -55 -156 -106 -234 -137 l-58 -24 -45 51 c-81 94 -204 132 -316 99 -61 -17 -133 -68 -163 -115 -24 -38 -36 -37 -150 19 -74 35 -205 125 -220 150 -4 6 1 27 11 48 27 58 30 157 5 222 -40 107 -116 170 -233 194 l-63 13 -13 74 c-14 80 -10 238 8 302 10 35 13 37 53 37 61 0 135 39 190 99 77 86 97 197 56 307 l-21 56 33 29 c60 50 156 110 236 145 43 18 81 34 85 34 4 0 9 -9 13 -20z"}),(0,_T.jsx)("path",{d:"M3753 1616 c-118 -29 -245 -120 -312 -225 -149 -232 -80 -548 152 -701 191 -125 455 -105 620 48 216 201 226 533 22 737 -128 128 -312 182 -482 141z m255 -226 c112 -56 167 -145 167 -270 0 -124 -59 -219 -170 -278 -42 -22 -63 -27 -130 -27 -68 0 -89 4 -137 28 -67 33 -112 80 -146 155 -21 47 -24 64 -20 136 5 93 21 131 82 194 67 71 114 90 222 91 60 1 80 -4 132 -29z"})]})}),"double-arrows-right":(0,_T.jsx)("svg",{className:n,stroke:"currentColor",fill:"currentColor",strokeWidth:0,viewBox:"0 0 448 512",xmlns:"http://www.w3.org/2000/svg",children:(0,_T.jsx)("path",{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34zm192-34l-136-136c-9.4-9.4-24.6-9.4-33.9 0l-22.6 22.6c-9.4 9.4-9.4 24.6 0 33.9l96.4 96.4-96.4 96.4c-9.4 9.4-9.4 24.6 0 33.9l22.6 22.6c9.4 9.4 24.6 9.4 33.9 0l136-136c9.4-9.2 9.4-24.4 0-33.8z"})})};return(0,_T.jsx)("div",{children:r[t]})||null},VT=function(){var e=oT((function(e){return e.sections.sections})).welcome;return(0,_T.jsx)("section",{className:"w-full min-h-[70vh] lg:h-[90vh] flex items-center justify-center my-20 lg:mb-20 border-dotted-section",children:(0,_T.jsxs)("div",{className:"w-[98%] xl:w-[74%] h-[80%] flex flex-col sm:flex-row items-center justify-center p-5 sm:p-0",children:[(0,_T.jsxs)("div",{className:"flex flex-col items-center justify-end space-y-5 w-full sm:w-[44%] font-inter sm::mr-5 text-justify",children:[(0,_T.jsx)(UT,{Tag:"h1",className:"w-full text-[30px] md:text-[40px] xl:text-[60px] font-[700] leading-[35px] sm:leading-[35px] lg:leading-[40px] xl:leading-[70px]",title_key:null===e||void 0===e?void 0:e.title_key,fieldName:"title",value:null===e||void 0===e?void 0:e.title}),(0,_T.jsx)(UT,{Tag:"p",className:"text-[14px] lg:text-[18px] fort-[400] text-[#00000099]",title_key:null===e||void 0===e?void 0:e.title_key,fieldName:"description",value:null===e||void 0===e?void 0:e.description}),(0,_T.jsx)("div",{className:"w-full flex flex-wrap justify-start",children:[{icon:"cloud-data",title:"Database Migration Services"},{icon:"settings-window",title:"Server Migration Services"},{icon:"settings-window",title:"On-Prem/EC2 Migration Services"}].map((function(e,t){return(0,_T.jsxs)("div",{className:"flex items-center justify-start space-x-2 m-2",children:[(0,_T.jsx)(BT,{icon:e.icon,className:"h-[30px]"}),(0,_T.jsx)("p",{className:"text-[14px] lg:text-[18px] font-[500] text-[#2e3092]",children:e.title})]},t)}))})]}),(0,_T.jsx)("div",{className:"w-[80%] sm:w-[50%] flex justify-end",children:(0,_T.jsx)("img",{className:"",src:"welcome.png",alt:"Welcome"})})]})})},qT=function(e){var t=e.title,n=e.className,r=e.to;return(0,_T.jsx)(nn,{className:"bg-black rounded-full p-2 text-[13px] px-4 sm:p-4 text-white text-center ".concat(n," transition-all duration-500 hover:bg-[#ecd870] hover:text-black hover:shadow-2xl "),to:r,children:t})},zT=function(e){var t=e.icon,n=e.title,r=e.desc,i=e.rmPath;return(0,_T.jsxs)("div",{className:"w-[90%] sm:w-[40%] sm:h-[245px] md:w-[40%] md:h-[292px] lg:w-[260px] rounded-[6px] bg-[#FFFFFF] m-2 card-shadow flex flex-col items-center justify-center space-y-4 font-inter p-8 text-center",children:[(0,_T.jsx)(BT,{icon:t,className:"h-12 sm:h-auto"}),(0,_T.jsx)("span",{className:"font-[700] text-[16px] sm:text-[20px] text-[#000000] breal-all",children:n}),(0,_T.jsx)("p",{className:"font-[400] text-[12px] sm:text-[14px] text-[#00000099] break-all",children:r}),(0,_T.jsx)(nn,{to:"/our-services/".concat(i),className:"font-[600] text-[11.65px] text-[#000000]",children:"READ MORE"})]})},WT=function(){return(0,_T.jsx)("section",{className:"w-full flex items-center justify-center  border-dotted-section py-10 sm:pb-0",children:(0,_T.jsx)("div",{className:"w-[90%] xl:w-[60%] flex flex-wrap items-center justify-center sm:justify-center font-inter",children:[{icon:"db-migration",title:"Data Migration",desc:"We specialize in migrating your data from your old system to a new one.",rmPath:"data-migraiton"},{icon:"cloud",title:"Side by Side Data Synchronization: ",desc:"Transitioning from on-premise to the cloud? Our side-by-side data ",rmPath:"data-synchronization"},{icon:"migration",title:"Database Migration",desc:"Migrating data from PostgreSQL or MySQL to Amazon Redshift?",rmPath:"migration"},{icon:"db-star",title:"RDS to Aurora Migration",desc:"Upgrade from Amazon RDS to Aurora for enhanced performance and scalability",rmPath:"rds-to-aurora-migration"},{icon:"cpu",title:"EC2/On-premise to RDS Migration",desc:"Moving from EC2 instances or on-premise servers to Amazon RDS? ",rmPath:"ec2-on-premise-to-rds-migraiton"},{icon:"db-star",title:"Aurora Setup from Scratch",desc:"Leverage the power of Amazon Aurora with our setup- from-scratch ",rmPath:"aurora-setup-from-scratch"},{icon:"db-star",title:"Aurora Setup from Scratch",desc:"Leverage the power of Amazon Aurora with our setup- from-scratch ",rmPath:"aurora-setup-from-scratch"},{icon:"postgresql",title:"Table Partitioning for PostgreSQL",desc:"Enhance the performance of your PostgreSQL database with our table ",rmPath:"table-partitioning-for-postgresql"}].map((function(e,t){return(0,_T.jsx)(zT,lr({},e),t)}))})})},GT=function(e){var t=e.title,n=e.desc,r=e.index;return(0,_T.jsxs)("div",{className:"w-[90%] lg:w-[80%] xl:w-[100%] p-4 md:p-6 flex items-start justify-start card-shadow mx-2 my-2 xl:m-2",children:[(0,_T.jsx)("div",{className:"rounded-full h-[20px] w-[20px] sm:h-[35px] sm:min-w-[35px] px-2 flex items-center justify-center text-[10px] sm:text-[14px] font-[700] mr-2 sm:mr-4 text-white bg-gradient-yellow",children:r}),(0,_T.jsxs)("div",{className:"flex flex-col items-start justify-center space-y-4 w-full",children:[(0,_T.jsx)("span",{className:"font-[700] text-[16px] sm:text-[20px]",children:t}),(0,_T.jsx)("p",{className:"font-[400] text-[10px] sm:text-[18px] w-full sm:w-[93%]",children:n})]})]})},KT=function(){return(0,_T.jsx)("section",{className:"w-full min-h-[110vh] flex items-center justify-center font-inter py-10 my-20 border-dotted-section",children:(0,_T.jsxs)("div",{className:"w-[90%] flex flex-col items-center justify-center",children:[(0,_T.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,_T.jsx)("h2",{className:"text-gradient-yellow font-[500] text-[12px] sm:text-[18px] font-oswald",children:"OUR FEATURES"}),(0,_T.jsx)("h1",{className:"font-[700] text-[20px] text-center sm:text-[38px]",children:"Why Choose EZDataMigration?"})]}),(0,_T.jsxs)("div",{className:"w-full flex flex-col xl:flex-row items-center justify-center my-5 sm:my-20 xl:space-x-6",children:[(0,_T.jsx)("div",{className:"w-full md:w-[80%] xl:w-[38%] flex flex-col space-y-4",children:[{title:"Unmatched Expertise",desc:"Our team comprises seasoned professionals with deep expertise in cloud migration, database management, and data security. We stay updated with the latest industry trends to provide you with cutting-edge solutions."},{title:"Tailored Solutions",desc:"We recognize that no two businesses are the same. Our approach revolves around understanding your unique requirements and crafting solutions that align with your specific needs, ensuring a seamless migration journey."},{title:"Data Security First",desc:"We understand the paramount importance of data security. Our stringent security measures and protocols ensure that your sensitive information remains protected throughout the migration process."},{title:"Focus on Minimizing Disruption",desc:"We know that time is money. Our methodologies are designed to minimize downtime and disruption to your operations, allowing you to maintain business continuity during the migration process."},{title:"Holistic Support",desc:"From the initial consultation to post-migration support, our team is dedicated to providing comprehensive assistance. We're here to answer your questions, address your concerns, and guide you at every step."}].map((function(e,t){return(0,_T.jsx)(GT,lr(lr({},e),{},{index:t}),t)}))}),(0,_T.jsx)("div",{className:"w-[75%] md:w-[60%] xl:w-[38%] xl:block my-10 lg:my-20 xl:my-0",children:(0,_T.jsx)("img",{className:"w-full",src:"/Features.png",alt:"Features"})})]})]})})},HT=function(e){var t=e.question,n=e.answer,r=d((0,i.useState)(!1),2),a=r[0],o=r[1];return(0,_T.jsxs)("div",{className:"w-full p-3 sm:p-12 flex items-start justify-start card-shadow rounded-[14px] transition-all duration-500 border-[2px] border-white ".concat(a&&"border-gradient-yellow"),children:[(0,_T.jsxs)("div",{className:"flex flex-col items-start justify-center space-y-4 w-[85%] sm:w-[93%]",children:[(0,_T.jsx)("span",{className:"font-[600] text-[14px] sm:text-[16px] md:text-[20px] pt-[3px]",children:t}),(0,_T.jsx)("p",{className:"font-[400] text-[10px] sm:text-[14px] lg:text-[18px] w-[93%] overflow-hidden transition-all duration-500 ".concat(a?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"),children:n})]}),(0,_T.jsx)("button",{onClick:function(){return o(!a)},className:"\n          rounded-full h-[35px] w-[35px] lg:h-[50px] lg:w-[50px] flex items-center justify-center text-[14px] font-[700] transition-all duration-500 \n          ".concat(a?"-rotate-270 bg-gradient-yellow text-white":"-rotate-90 bg-white elips-shadow","\n        "),children:(0,_T.jsx)(BT,{icon:"vector",className:"h-[20px] lg:h-[30px] w-[20px] lg:w-[30px] ".concat(a?"fill-white":"fill-gradient-yellow")})})]})},QT=function(){return(0,_T.jsx)("section",{className:"w-full min-h-screen flex items-center justify-center font-inter my-20 border-dotted-section",children:(0,_T.jsxs)("div",{className:"w-[80%] md:w-[65%] flex flex-col items-center justify-center",children:[(0,_T.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-[3px]",children:[(0,_T.jsx)("h2",{className:"text-gradient-yellow font-[500] text-[12px] sm:text-[18px] font-oswald",children:"FAQS"}),(0,_T.jsx)("h1",{className:"text-[20px] sm:text-[25px] lg:text-[38px] font-[700] text-center",children:"Frequently Asked Questions"})]}),(0,_T.jsx)("div",{className:"flex flex-col items-start justify-center w-full space-y-6 sm:space-y-8 my-14",children:[{question:"What is cloud data Migration?",answer:"Cloud data migration refers to the process of transferring data from one location or system to another within a cloud computing environment. It involves migrating data between on-premise systems and cloud platforms, or between different cloud services."},{question:"Why do I need professional data migration services?",answer:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},{question:"What types of data can be migrated using EZDataMigration services?",answer:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."},{question:"How long does the data migration process take?",answer:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}].map((function(e,t){return(0,_T.jsx)(HT,lr({},e),t)}))})]})})},YT=function(){return(0,_T.jsx)("section",{className:"w-full h-[50vh] flex items-center justify-center font-inter my-20 border-dotted-section pb-10",children:(0,_T.jsxs)("div",{className:"w-[90%] xl:w-[68%] sm:h-[90%] p-4 rounded-[20px] sm:rounded-[40px] flex flex-col items-center text-center justify-center bg-gradient-yellow font-inter text-white",children:[(0,_T.jsx)("h1",{className:"text-[13px] sm:text-[16px] lg:text-[20px] xl:text-[38px] font-[700]",children:"Let's Begin Your Cloud Data Journey"}),(0,_T.jsx)("p",{className:"text-[9px] md:text-[12px] xl:text-[18px] font-[400] w-[100%] sm:w-[90%] xl:w-[63%] mt-3 mb-5 sm:mb-10",children:"Embrace the future of data management with EZDataMigration Cloud Data Migration Services. Whether you're looking to migrate, synchronize, or optimize, we have the expertise to make your transition smooth and successful. Contact us today to learn more about how we can assist you on your cloud data journey."}),(0,_T.jsx)(qT,{title:"CONTACT US",className:"sm:text-[14px] px-10 py-3 sm:w-[236px] sm:font-[600] sm:py-[20px] sm:px-[40.05px]",to:"/contact-us"})]})})},XT=function(){var e=[{index:0,title:"Unmatched Expertise",desc:"Our team comprises seasoned professionals with deep expertise in cloud migration, database management, and data security. We stay updated with the latest industry trends to provide you with cutting-edge solutions."},{index:1,title:"Tailored Solutions",desc:"We recognize that no two businesses are the same. Our approach revolves around understanding your unique requirements and crafting solutions that align with your specific needs, ensuring a seamless migration journey."},{index:2,title:"Data Security First",desc:"We understand the paramount importance of data security. Our stringent security measures and protocols ensure that your sensitive information remains protected throughout the migration process."},{index:3,title:"Focus on Minimizing Disruption",desc:"We know that time is money. Our methodologies are designed to minimize downtime and disruption to your operations, allowing you to maintain business continuity during the migration process."},{title:"Arrows"},{index:4,title:"Holistic Support",desc:"From the initial consultation to post-migration support, our team is dedicated to providing comprehensive assistance. We're here to answer your questions, address your concerns, and guide you at every step."}],t=e.slice(0,e.length/2),n=e.slice(e.length/2,e.length);return(0,_T.jsx)("section",{className:"w-full min-h-screen flex items-center justify-center my-20 border-dotted-section",children:(0,_T.jsxs)("div",{className:"w-full lg:w-[90%] h-[80%] flex flex-col items-center justify-center",children:[(0,_T.jsxs)("div",{className:"w-full p-6 sm:p-2 flex flex-col items-center justify-center space-y-3 text-center",children:[(0,_T.jsx)("h1",{className:"text-[18px] md:text-[40px] xl:text-[55px] font-[600]",children:"Why Choose EZDataMigration?"}),(0,_T.jsx)("p",{className:"text-[14px] md:text-[18px] xl:text-[24px] w-[95%] sm:w-[60%] lg:w-[44%] text-justify font-[450]",children:"Many businesses are turning to our Database Migration Services to overcome the challenges of migrating their databases and achieve a seamless transition with minimal disruptions."}),(0,_T.jsx)("span",{className:"text-[14px] md:text-[18px] xl:text-[20px] font-[650] text-[#2e3397] sm:py-3 md:py-5",children:"With EZDM, here\u2019s what you can expect:"})]}),(0,_T.jsxs)("div",{className:"w-full flex items-center justify-center my-5 sm:my-20 xl:space-x-3",children:[(0,_T.jsx)("div",{className:"w-full md:w-[45%] lg:w-[35%] flex flex-col items-center justify-center",children:t.map((function(e){return"Arrows"!==e.title&&(0,_T.jsx)(GT,lr(lr({},e),{},{index:e.index}),e.index)}))}),(0,_T.jsx)("div",{className:"w-full md:w-[45%] lg:w-[35%] flex flex-col items-center justify-center",children:n.map((function(e){return"Arrows"!==e.title?(0,_T.jsx)(GT,lr(lr({},e),{},{index:e.index}),e.index):(0,_T.jsx)("div",{className:"w-[90%] lg:w-[80%] xl:w-[100%] p-4 md:p-0 flex items-center justify-center mx-2 my-2 xl:m-2",children:(0,_T.jsx)("img",{className:"w-[89.4%] mx-2",src:"/Colored-Arrows.jpg",alt:"Arrows"})})}))})]})]})})},JT=function(){return(0,_T.jsxs)(_T.Fragment,{children:[(0,_T.jsx)(VT,{}),(0,_T.jsx)(XT,{}),(0,_T.jsx)(YT,{})]})},ZT=function(){return(0,_T.jsx)("section",{className:"w-full min-h-[70vh] flex items-center justify-center mb-10 sm:py-0 border-dotted-section",children:(0,_T.jsxs)("div",{className:"w-[90%] xl:w-[70%] h-[80%] flex flex-col sm:flex-row items-start justify-between space-y-10 sm:space-x-10  border-y-[2px] py-3 border-black",children:[(0,_T.jsxs)("div",{className:"flex flex-col items-start justify-end w-[95%] sm:w-[50%] font-inter sm:mr-5 text-left space-y-10",children:[(0,_T.jsxs)("div",{children:[(0,_T.jsx)("h1",{className:"text-[30px] xl:text-[50px] font-[700]",children:"Our Mision & Values"}),(0,_T.jsx)("p",{className:"text-[12px] lg:text-[18px] fort-[400] text-[#00000099] my-4",children:"EZDM mission is to provide businesses with a personalized cloud solution backed by the most customer-oriented service in the industry. We combine the reliability, stability, and scale of a large scale with the agility of a smaller, independent vendor. With flexibility as a core value, we have a can-do attitude that allows us to break through walls and solve problems together."})]}),(0,_T.jsxs)("div",{children:[(0,_T.jsx)("h2",{className:"text-[18px] xl:text-[40px] font-[700]",children:"Our Vision"}),(0,_T.jsx)("p",{className:"text-[12px] lg:text-[18px] fort-[400] text-[#00000099]",children:"At EZDM, we adapt technology to work your way, freeing you to focus on what matters. We start by meeting you where you are. Our Services are designed to enable your team meet their goals.,with a wealth of intuitive technology cloud services to end-to-end security. Our teams are experts in the latest technology and they find and keep your competitive edge."}),(0,_T.jsx)("p",{className:"text-[12px] lg:text-[18px] fort-[400] text-[#00000099] my-8",children:"We remain by your side, creating a plan to continue optimizing your customer\u2019s experience so that your focus is locked on achieving your next goal \u2013 and the next one after that."})]})]}),(0,_T.jsx)("div",{className:"w-[80%] sm:w-[40%] flex justify-end h-[250px] sm:h-[400px] lg:h-[600px] bg-gray-200",children:(0,_T.jsx)("div",{className:"w-full h-full"})})]})})},eN=function(){return(0,_T.jsxs)(_T.Fragment,{children:[(0,_T.jsx)("section",{className:"w-full min-h-[70vh] flex items-center justify-center lg:mt-10 py-32 sm:py-0",children:(0,_T.jsxs)("div",{className:"w-[90%] xl:w-[70%] h-[80%] flex flex-col sm:flex-row items-center justify-between space-y-10 sm:space-x-10",children:[(0,_T.jsxs)("div",{className:"flex flex-col items-start justify-end w-[95%] sm:w-[44%] font-inter sm:mr-5 text-left",children:[(0,_T.jsx)("h1",{className:"text-[30px] xl:text-[50px] font-[700]",children:"About Us"}),(0,_T.jsx)("p",{className:"text-[12px] lg:text-[18px] fort-[400] text-[#00000099] my-4",children:"At EZDataMigration, we specialize in seamless and efficient data migration, ensuring your transition to the cloud is smooth, secure, and stress-free. With a proven track record of successful data migrations, we are your trusted partner in unlocking the power of cloud computing while safeguarding the integrity of your valuable data."}),(0,_T.jsx)("h2",{className:"text-[18px] xl:text-[22px] font-[600]",children:"Our Expertise"}),(0,_T.jsx)("p",{className:"text-[12px] lg:text-[18px] fort-[400] text-[#00000099]",children:"Our comprehensive range of services is designed to cater to various data migration needs, encompassing both complex and straightforward scenarios. Whether you're transitioning from an older system to a new one or moving your data from on-premise to the cloud, EZDataMigration has the expertise to guide you through the process with precision and care."})]}),(0,_T.jsx)("div",{className:"w-[80%] sm:w-[47%] flex justify-end h-[68%]",children:(0,_T.jsx)("img",{className:"h-full w-full",src:"AboutUs.png",alt:"Welcome",draggable:"false"})})]})}),(0,_T.jsx)(ZT,{}),(0,_T.jsx)(YT,{})]})},tN=function(e){var t=e.path,n=e.name,r=xt(),a=d((0,i.useState)(!1),2),o=a[0],u=a[1];return(0,i.useEffect)((function(){u(r.pathname===t)}),[r.pathname,t]),(0,_T.jsx)("span",{className:"inline-block relative",children:(0,_T.jsx)(nn,{to:t,className:"effect-box h-full after:mt-[2px]",children:(0,_T.jsx)("span",{className:"sm:py-6 px-1 sm:px-3 text-[10px] sm:text-[14px] font-[800] whitespace-nowrap ".concat(o?"text-gradient-yellow":""),children:n})})})},nN=function(){var e=S(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K$.collection("sections").get();case 2:e.sent.forEach((function(e){try{var n=e.ref,r=t[e.data().title_key];r&&n.update(r),console.log("UPDATED!!!")}catch(i){console.error(i)}})),console.log("SUCCESS!!!");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rN=function(e){var t=e.children,n=e.isActive;return(0,i.useEffect)((function(){document.body.style.overflow=n?"hidden":"auto"}),[n]),n&&(0,_T.jsx)("div",{className:"fixed w-full inset-0 flex items-center justify-center bg-[#000000a1] z-[99999] transition-all duration-500",children:t})},iN=function(e){var t=e.isActive,n=e.setIsActive,r=e.acceptCallback,i=e.rejectCallback;return(0,_T.jsx)(rN,{isActive:t,children:(0,_T.jsxs)("div",{className:"bg-white rounded-md p-5 sm:px-10 pb-5 flex flex-col w-[95%] sm:w-[500px] items-center justify-between relative",children:[(0,_T.jsx)("button",{className:"absolute top-3 right-3",onClick:function(){return null===n||void 0===n?void 0:n(!1)},children:(0,_T.jsx)(BT,{icon:"cross",className:"h-6 w-6"})}),(0,_T.jsx)("h1",{className:"font-[600] text-[16px] sm:text-[18px] lg:text-[22px]",children:"Are you sure you want to update all the content on the website?"}),(0,_T.jsxs)("div",{className:"w-full flex items-end justify-center space-x-3 mt-5 sm:mt-16",children:[(0,_T.jsx)("button",{className:"w-1/2 sm:w-1/3 text-white rounded-lg p-2 bg-[#f34e4e] hover:bg-[#d74545] sm:py-[8px] sm:px-[10px] whitespace-nowrap text-[20px] sm:text-[25px] font-[600]",onClick:i,children:"No"}),(0,_T.jsx)("button",{className:"w-1/2 sm:w-1/3 text-white rounded-lg p-2 bg-[#41b941] hover:bg-[#3ead3e] sm:py-[8px] sm:px-[10px] whitespace-nowrap text-[20px] sm:text-[25px] font-[600]",onClick:r,children:"Yes"})]})]})})},aN=function(){var e=Ft(),t=FT("sections"),n=t.setSections,r=t.setIsChangeMode,a=oT((function(e){return e.sections})),o=(a.isChangeMode,a.sections),u=d((0,i.useState)(!1),2),s=u[0],l=u[1];(0,i.useEffect)((function(){n(e)}),[e]);var c=function(){var e=S(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nN(o);case 2:r(!1),l(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,_T.jsxs)(_T.Fragment,{children:[(0,_T.jsx)(iN,{isActive:s,setIsActive:l,acceptCallback:c,rejectCallback:function(){return l(!1)}}),(0,_T.jsx)("header",{className:"w-full sm:h-[85px] p-4 lg:p-12 fixed top-0 flex items-center justify-center lg:justify-center bg-white border-[#FFFFFF] navbar-shadow z-[9999]",children:(0,_T.jsx)("div",{className:"w-full lg:w-[80%] flex items-center justify-center sm:justify-between h-full",children:(0,_T.jsxs)("div",{className:"flex items-center justify-between font-inter h-full",children:[(0,_T.jsxs)(nn,{to:"/",className:"w-[100px] lg:w-[30%] h-full sm:flex items-center justify-end hidden",children:[(0,_T.jsx)("img",{className:"hidden lg:block",src:"/ezdata-logo.jpg",alt:"EZDataMigration"}),(0,_T.jsx)("img",{className:"block lg:hidden",src:"/OnlyLogo.png",alt:"EZDM"})]}),(0,_T.jsxs)("div",{className:"flex flex-wrap sm:flex-nowrap items-center justify-center space-x-2.5 sm:space-x-12",children:[[{name:"HOME",path:"/home"},{name:"ABOUT US",path:"/about-us"},{name:"SERVICES",path:"/our-services"}].map((function(e,t){return(0,_T.jsx)(tN,lr({},e),t)})),(0,_T.jsx)(qT,{title:"CONTACT US",className:"lg:ml-[100px] sm:w-[139.67px] sm:py-[15px] sm:px-[30.24px] whitespace-nowrap text-[8px] sm:text-[12px] font-[600]",to:"/contact-us"})]})]})})})]})},oN=function(e){var t=e.icon,n=e.title,r=e.link,i=e.inNewScreen,a=e.isWithAnimation;return(0,_T.jsx)("span",{className:"inline-block relative",children:(0,_T.jsxs)(nn,{className:a&&"effect-box h-full after:mt-1",to:r,target:i&&"_blank",children:[t&&(0,_T.jsx)("div",{children:(0,_T.jsx)("img",{src:"/Social-Media-Icons/".concat(t,".png"),alt:t})}),n&&(0,_T.jsx)("span",{className:"font-[300] p-1 text-[12px] md:text-[18px] md:m-4 whitespace-nowrap",children:n})]})})},uN=function(){return(0,_T.jsx)("footer",{className:"w-full min-h-[458px] bg-black flex items-center justify-center text-white",children:(0,_T.jsxs)("div",{className:"w-full space-y-10 sm:space-y-0 xl:w-[64%] h-[90%] border-b-2 border-white flex flex-wrap sm:flex-nowrap items-start justify-between font-dm-sans py-16 xl:py-16 p-3 xl:p-0",children:[(0,_T.jsxs)("div",{className:"flex flex-col items-start justify-start space-y-5",children:[(0,_T.jsx)("div",{className:"w-[100%] sm:w-[350px]",children:(0,_T.jsx)("img",{className:"w-[100%]",src:"/footer-logo.png",alt:"EZDataMigration"})}),(0,_T.jsx)("div",{className:"flex items-center justify-center space-x-3 sm:space-x-5",children:[].map((function(e,t){return(0,_T.jsx)(oN,lr(lr({},e),{},{inNewScreen:!0}),t)}))})]}),(0,_T.jsxs)("div",{className:"flex items-start justify-center flex-col-m space-x-6 lg:space-x-24",children:[(0,_T.jsxs)("div",{className:"flex flex-col items-start justify-center space-y-2 sm:space-y-4 mb-10",children:[(0,_T.jsx)("h3",{className:"text-[14px] md:text-[20px] font-[700] md:my-3 md:m-4 p-1",children:"Company"}),[{title:"About",link:"/about-us"},{title:"Services",link:"/our-services"},{title:"Features",link:"/our-features"},{title:"FAQs",link:"/faqs"}].map((function(e,t){return(0,_T.jsx)(oN,lr(lr({},e),{},{isWithAnimation:!0}),t)}))]}),(0,_T.jsxs)("div",{className:"flex flex-col items-start justify-center space-y-2 sm:space-y-4  mb-10",children:[(0,_T.jsx)("h3",{className:"text-[14px] md:text-[20px] font-[700] md:my-3 md:m-4 p-1",children:"Support"}),[{title:"Contact Us",link:"/contact-us"},{title:"Privacy Policy",link:"/privacy-policy"},{title:"Terms & Services",link:"/terms-and-services"}].map((function(e,t){return(0,_T.jsx)(oN,lr(lr({},e),{},{isWithAnimation:!0}),t)}))]}),(0,_T.jsxs)("div",{className:"flex flex-col items-start justify-center space-y-2 p-1 mb-10",children:[(0,_T.jsx)("h3",{className:"text-[14px] md:text-[20px] font-[700] md:my-3 break-all",children:"Contacts us"}),(0,_T.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,_T.jsx)("img",{className:"",src:"/Social-Media-Icons/Email.png",alt:"Email"}),(0,_T.jsx)("a",{className:"font-[400] text-[10px] sm:text-[14px] break-all",href:"mailto:contact@ezdatamigration.com",children:"contact@ezdatamigration.com"})]}),(0,_T.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,_T.jsx)("img",{className:"",src:"/Social-Media-Icons/Phone.png",alt:"Phone"}),(0,_T.jsx)("a",{className:"font-[400] text-[10px] sm:text-[14px] md:m-4 break-all",href:"tel:+10000000000",children:"0000000000"})]})]})]})]})})},sN=function(){return(0,_T.jsxs)(_T.Fragment,{children:[(0,_T.jsx)(aN,{}),(0,_T.jsx)("main",{children:(0,_T.jsx)(Wt,{})}),(0,_T.jsx)(uN,{})]})},lN={origin:"https://api.emailjs.com",blockHeadless:!1},cN=function(e){return e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{}},dN=m((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";f(this,e),this.status=t,this.text=n})),fN=function(){var e=S(x().mark((function e(t,n){var r,i,a,o,u=arguments;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:{},e.next=3,fetch(lN.origin+t,{method:"POST",headers:r,body:n});case 3:return i=e.sent,e.next=6,i.text();case 6:if(a=e.sent,o=new dN(i.status,a),!i.ok){e.next=10;break}return e.abrupt("return",o);case 10:throw o;case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),hN=function(e,t,n){if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!==typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||"string"!==typeof n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},pN=function(e){return e.webdriver||!e.languages||0===e.languages.length},vN=function(){return new dN(451,"Unavailable For Headless Browser")},mN=function(e,t){if(function(e){var t;return!(null!==(t=e.list)&&void 0!==t&&t.length)||!e.watchVariable}(e))return!1;!function(e,t){if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof t)throw"The BlockList watchVariable has to be a string"}(e.list,e.watchVariable);var n,r,i=(n=t,r=e.watchVariable,n instanceof FormData?n.get(r):n[r]);return"string"===typeof i&&e.list.includes(i)},yN=function(){return new dN(403,"Forbidden")},gN=function(e,t,n){setTimeout((function(){n.removeItem(e)}),t)},bN=function(e,t,n){if(!n.throttle)return!1;!function(e,t){if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!==typeof t)throw"The LimitRate ID has to be a string"}(n.throttle,n.id);var r=n.id||t,i=function(e,t,n){var r=Number(n.getItem(e)||0);return t-Date.now()+r}(r,n.throttle,e);return i>0?(gN(r,i,e),!0):(e.setItem(r,Date.now().toString()),gN(r,n.throttle,e),!1)},wN=function(){return new dN(429,"Too Many Requests")},kN=function(e,t,n,r){var i=cN(r),a=i.publicKey||lN.publicKey,o=i.blockHeadless||lN.blockHeadless,u=lr(lr({},lN.blockList),i.blockList),s=lr(lr({},lN.limitRate),i.limitRate);if(o&&pN(navigator))return Promise.reject(vN());var l=function(e){return"string"===typeof e?document.querySelector(e):e}(n);hN(a,e,t),function(e){if(!e||"FORM"!==e.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"}(l);var c=new FormData(l);return mN(u,c)?Promise.reject(yN()):bN(localStorage,location.pathname,s)?Promise.reject(wN()):(c.append("lib_version","4.1.0"),c.append("service_id",e),c.append("template_id",t),c.append("user_id",a),fN("/api/v1.0/email/send-form",c))},_N=n(221),xN=n.n(_N),CN=function(e){var t=e.setIsVerifed;(0,_N.useTurnstile)();return(0,_T.jsx)(xN(),{className:"recapcha",sitekey:"0x4AAAAAAARnopoh6NSYjVv0",onVerify:function(){return t(!0)},onError:function(){return t(!1)}})},SN={ext:"ext.",country:"Phone number country",phone:"Phone",AB:"Abkhazia",AC:"Ascension Island",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"\xc5land Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barth\xe9lemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Cote d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Cura\xe7ao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin (French Part)",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",OS:"South Ossetia",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Swaziland",TA:"Tristan da Cunha",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",ZZ:"International"},EN=n(7),IN=EN.shape({country_calling_codes:EN.object.isRequired,countries:EN.object.isRequired}),$N=EN.objectOf(EN.string),TN=n(418);function NN(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return PN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PN(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function PN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AN(e,t){for(var n,r=0,i=NN(t.split(""));!(n=i()).done;){n.value===e&&r++}return r}function ON(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return DN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DN(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function DN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",n=arguments.length>2?arguments[2]:void 0;if(!e)return function(e){return{text:e}};var r=AN(t,e);return function(i){if(!i)return{text:"",template:e};for(var a,o=0,u="",s=ON(e.split(""));!(a=s()).done;){var l=a.value;if(l===t){if(u+=i[o],++o===i.length&&i.length<r)break}else u+=l}return n&&(u=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",i=e.length,a=AN("(",e)-AN(")",e);a>0&&i<t.length;)e+=t[i].replace(n,r),")"===t[i]&&a--,i++;return e}(u,e)),{text:u,template:e}}}var MN={Backspace:8,Delete:46};function LN(e,t){void 0!==t&&(!function(){if("undefined"!==typeof navigator)return jN.test(navigator.userAgent)}()?e.setSelectionRange(t,t):setTimeout((function(){return e.setSelectionRange(t,t)}),0))}var jN=/Android/i;function FN(e,t,n,r,i){if(!t.hasAttribute("readonly")){var a=function(e){switch(e.keyCode){case MN.Backspace:return"Backspace";case MN.Delete:return"Delete"}}(e);switch(a){case"Delete":case"Backspace":e.preventDefault();var o=function(e){if(e.selectionStart!==e.selectionEnd)return{start:e.selectionStart,end:e.selectionEnd}}(t);return o?(UN(t,o),BN(t,n,r,void 0,i)):BN(t,n,r,a,i)}}}function UN(e,t){var n=e.value;n=n.slice(0,t.start)+n.slice(t.end),e.value=n,LN(e,t.start)}function BN(e,t,n,r,i){var a=function(e,t,n){for(var r={},i="",a=0,o=0;o<e.length;){var u=n(e[o],i,r);void 0!==u&&(i+=u,void 0!==t&&(t===o?a=i.length-1:t>o&&(a=i.length))),o++}return void 0===t&&(a=i.length),{value:i,caret:a}}(e.value,e.selectionStart,t),o=a.value,u=a.caret;if(r){var s=function(e,t,n){switch(n){case"Backspace":t>0&&(e=e.slice(0,t-1)+e.slice(t),t--);break;case"Delete":e=e.slice(0,t)+e.slice(t+1)}return{value:e,caret:t}}(o,u,r);o=s.value,u=s.caret}var l=function(e,t,n){"string"===typeof n&&(n=RN(n));var r=n(e)||{},i=r.text,a=r.template;if(void 0===i&&(i=e),a)if(void 0===t)t=i.length;else{for(var o=0,u=!1,s=-1;o<i.length&&o<a.length;){if(i[o]!==a[o]){if(0===t){u=!0,t=o;break}s=o,t--}o++}u||(t=s+1)}return{text:i,caret:t}}(o,u,n),c=l.text;u=l.caret,e.value=c,LN(e,u),i(o)}var VN=["value","parse","format","inputComponent","onChange","onKeyDown"];function qN(){return qN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qN.apply(this,arguments)}function zN(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WN(e,t){var n=e.value,r=e.parse,a=e.format,o=e.inputComponent,u=e.onChange,s=e.onKeyDown,l=zN(e,VN),c=(0,i.useRef)(),d=(0,i.useCallback)((function(e){c.current=e,t&&("function"===typeof t?t(e):t.current=e)}),[t]),f=(0,i.useCallback)((function(e){BN(c.current,r,a,void 0,u)}),[c,r,a,u]),h=(0,i.useCallback)((function(e){return s&&s(e),FN(e,c.current,r,a,u)}),[c,r,a,u,s]);return i.createElement(o,qN({},l,{ref:d,value:a(KN(n)?"":n).text,onKeyDown:h,onChange:f}))}(WN=i.forwardRef(WN)).propTypes={parse:EN.func.isRequired,format:EN.func.isRequired,inputComponent:EN.elementType.isRequired,type:EN.string.isRequired,value:EN.string,onChange:EN.func.isRequired,onKeyDown:EN.func,onCut:EN.func,onPaste:EN.func},WN.defaultProps={inputComponent:"input",type:"text"};var GN=WN;function KN(e){return void 0===e||null===e}function HN(e,t){e=e.split("-"),t=t.split("-");for(var n=e[0].split("."),r=t[0].split("."),i=0;i<3;i++){var a=Number(n[i]),o=Number(r[i]);if(a>o)return 1;if(o>a)return-1;if(!isNaN(a)&&isNaN(o))return 1;if(isNaN(a)&&!isNaN(o))return-1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}var QN={}.constructor;function YN(e){return void 0!==e&&null!==e&&e.constructor===QN}function XN(e){return XN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XN(e)}function JN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eP(e,t,n){return t&&ZN(e.prototype,t),n&&ZN(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var tP=" ext. ",nP=/^\d+$/,rP=function(){function e(t){JN(this,e),function(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!YN(e)||!YN(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(YN(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+lP(e)+": "+e,"."))}(t),this.metadata=t,fP.call(this,t)}return eP(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter((function(e){return"001"!==e}))}},{key:"getCountryMetadata",value:function(e){return this.metadata.countries[e]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(e){return void 0!==this.getCountryMetadata(e)}},{key:"hasCallingCode",value:function(e){if(this.getCountryCodesForCallingCode(e))return!0;if(this.nonGeographic()){if(this.nonGeographic()[e])return!0}else{var t=this.countryCallingCodes()[e];if(t&&1===t.length&&"001"===t[0])return!0}}},{key:"isNonGeographicCallingCode",value:function(e){return this.nonGeographic()?!!this.nonGeographic()[e]:!this.getCountryCodesForCallingCode(e)}},{key:"country",value:function(e){return this.selectNumberingPlan(e)}},{key:"selectNumberingPlan",value:function(e,t){if(e&&nP.test(e)&&(t=e,e=null),e&&"001"!==e){if(!this.hasCountry(e))throw new Error("Unknown country: ".concat(e));this.numberingPlan=new iP(this.getCountryMetadata(e),this)}else if(t){if(!this.hasCallingCode(t))throw new Error("Unknown calling code: ".concat(t));this.numberingPlan=new iP(this.getNumberingPlanMetadata(t),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(e){var t=this.countryCallingCodes()[e];if(t){if(1===t.length&&3===t[0].length)return;return t}}},{key:"getCountryCodeForCallingCode",value:function(e){var t=this.getCountryCodesForCallingCode(e);if(t)return t[0]}},{key:"getNumberingPlanMetadata",value:function(e){var t=this.getCountryCodeForCallingCode(e);if(t)return this.getCountryMetadata(t);if(this.nonGeographic()){var n=this.nonGeographic()[e];if(n)return n}else{var r=this.countryCallingCodes()[e];if(r&&1===r.length&&"001"===r[0])return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(e){return this.numberingPlan.type(e)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(e){return this.selectNumberingPlan(e)}},{key:"hasSelectedNumberingPlan",value:function(){return void 0!==this.numberingPlan}}]),e}(),iP=function(){function e(t,n){JN(this,e),this.globalMetadataObject=n,this.metadata=t,fP.call(this,n.metadata)}return eP(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(e){return e[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var e=this,t=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return t.map((function(t){return new aP(t,e)}))}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(e){return e[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return(!this.types()||0!==this.types().length)&&!!this.types()}},{key:"type",value:function(e){if(this.hasTypes()&&sP(this.types(),e))return new uP(sP(this.types(),e),this)}},{key:"ext",value:function(){return this.v1||this.v2?tP:this.metadata[13]||tP}}]),e}(),aP=function(){function e(t,n){JN(this,e),this._format=t,this.metadata=n}return eP(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!(!this.nationalPrefixFormattingRule()||oP.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}]),e}(),oP=/^\(?\$1\)?$/,uP=function(){function e(t,n){JN(this,e),this.type=t,this.metadata=n}return eP(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}]),e}();function sP(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}var lP=function(e){return XN(e)};function cP(e,t){if((t=new rP(t)).hasCountry(e))return t.country(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function dP(e,t){return t.countries.hasOwnProperty(e)}function fP(e){var t=e.version;"number"===typeof t?(this.v1=1===t,this.v2=2===t,this.v3=3===t,this.v4=4===t):t?-1===HN(t,"1.2.0")?this.v2=!0:-1===HN(t,"1.7.35")?this.v3=!0:this.v4=!0:this.v1=!0}function hP(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return pP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pP(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vP(e,t){return mP(e,void 0,t)}function mP(e,t,n){var r=n.type(t),i=r&&r.possibleLengths()||n.possibleLengths();if(!i)return"IS_POSSIBLE";if("FIXED_LINE_OR_MOBILE"===t){if(!n.type("FIXED_LINE"))return mP(e,"MOBILE",n);var a=n.type("MOBILE");a&&(i=function(e,t){for(var n,r=e.slice(),i=hP(t);!(n=i()).done;){var a=n.value;e.indexOf(a)<0&&r.push(a)}return r.sort((function(e,t){return e-t}))}(i,a.possibleLengths()))}else if(t&&!r)return"INVALID_LENGTH";var o=e.length,u=i[0];return u===o?"IS_POSSIBLE":u>o?"TOO_SHORT":i[i.length-1]<o?"TOO_LONG":i.indexOf(o,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function yP(e,t){return"IS_POSSIBLE"===vP(e,t)}function gP(e,t){return e=e||"",new RegExp("^(?:"+t+")$").test(e)}function bP(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return wP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wP(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function wP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kP=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function _P(e,t,n){if(t=t||{},e.country||e.countryCallingCode){(n=new rP(n)).selectNumberingPlan(e.country,e.countryCallingCode);var r=t.v2?e.nationalNumber:e.phone;if(gP(r,n.nationalNumberPattern())){if(xP(r,"FIXED_LINE",n))return n.type("MOBILE")&&""===n.type("MOBILE").pattern()?"FIXED_LINE_OR_MOBILE":n.type("MOBILE")?xP(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE":"FIXED_LINE_OR_MOBILE";for(var i,a=bP(kP);!(i=a()).done;){var o=i.value;if(xP(r,o,n))return o}}}}function xP(e,t,n){return!(!(t=n.type(t))||!t.pattern())&&(!(t.possibleLengths()&&t.possibleLengths().indexOf(e.length)<0)&&gP(e,t.pattern()))}function CP(e,t,n){var r=new rP(n).getCountryCodesForCallingCode(e);return r?r.filter((function(e){return function(e,t,n){var r=new rP(n);if(r.selectNumberingPlan(t),r.numberingPlan.possibleLengths().indexOf(e.length)>=0)return!0;return!1}(t,e,n)})):[]}var SP=2,EP=17,IP=3,$P="0-9\uff10-\uff19\u0660-\u0669\u06f0-\u06f9",TP="".concat("-\u2010-\u2015\u2212\u30fc\uff0d").concat("\uff0f/").concat("\uff0e.").concat(" \xa0\xad\u200b\u2060\u3000").concat("()\uff08\uff09\uff3b\uff3d\\[\\]").concat("~\u2053\u223c\uff5e");function NP(e){return e.replace(new RegExp("[".concat(TP,"]+"),"g")," ").trim()}var PP=/(\$\d)/;function AP(e,t,n){var r=n.useInternationalFormat,i=n.withNationalPrefix,a=(n.carrierCode,n.metadata,e.replace(new RegExp(t.pattern()),r?t.internationalFormat():i&&t.nationalPrefixFormattingRule()?t.format().replace(PP,t.nationalPrefixFormattingRule()):t.format()));return r?NP(a):a}var OP=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function DP(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return RP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RP(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function RP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MP(Object(n),!0).forEach((function(t){jP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var FP={formatExtension:function(e,t,n){return"".concat(e).concat(n.ext()).concat(t)}};function UP(e,t,n,r){if(n=n?LP(LP({},FP),n):FP,r=new rP(r),e.country&&"001"!==e.country){if(!r.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));r.country(e.country)}else{if(!e.countryCallingCode)return e.phone||"";r.selectNumberingPlan(e.countryCallingCode)}var i,a=r.countryCallingCode(),o=n.v2?e.nationalNumber:e.phone;switch(t){case"NATIONAL":return o?VP(i=BP(o,e.carrierCode,"NATIONAL",r,n),e.ext,r,n.formatExtension):"";case"INTERNATIONAL":return o?(i=BP(o,null,"INTERNATIONAL",r,n),VP(i="+".concat(a," ").concat(i),e.ext,r,n.formatExtension)):"+".concat(a);case"E.164":return"+".concat(a).concat(o);case"RFC3966":return function(e){var t=e.number,n=e.ext;if(!t)return"";if("+"!==t[0])throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(n?";ext="+n:"")}({number:"+".concat(a).concat(o),ext:e.ext});case"IDD":if(!n.fromCountry)return;var u=function(e,t,n,r,i){var a=cP(r,i.metadata);if(a===n){var o=BP(e,t,"NATIONAL",i);return"1"===n?n+" "+o:o}var u=function(e,t,n){var r=new rP(n);return r.selectNumberingPlan(e,t),r.defaultIDDPrefix()?r.defaultIDDPrefix():OP.test(r.IDDPrefix())?r.IDDPrefix():void 0}(r,void 0,i.metadata);if(u)return"".concat(u," ").concat(n," ").concat(BP(e,null,"INTERNATIONAL",i))}(o,e.carrierCode,a,n.fromCountry,r);return VP(u,e.ext,r,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}function BP(e,t,n,r,i){var a=function(e,t){for(var n,r=DP(e);!(n=r()).done;){var i=n.value;if(i.leadingDigitsPatterns().length>0){var a=i.leadingDigitsPatterns()[i.leadingDigitsPatterns().length-1];if(0!==t.search(a))continue}if(gP(t,i.pattern()))return i}}(r.formats(),e);return a?AP(e,a,{useInternationalFormat:"INTERNATIONAL"===n,withNationalPrefix:!a.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!i||!1!==i.nationalPrefix,carrierCode:t,metadata:r}):e}function VP(e,t,n,r){return t?r(e,t,n):e}function qP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qP(Object(n),!0).forEach((function(t){WP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var KP=function(){function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new TypeError("`country` or `countryCallingCode` not passed");if(!n)throw new TypeError("`nationalNumber` not passed");if(!r)throw new TypeError("`metadata` not passed");var i=function(e,t){var n,r,i=new rP(t);HP(e)?(n=e,i.selectNumberingPlan(n),r=i.countryCallingCode()):r=e;return{country:n,countryCallingCode:r}}(t,r),a=i.country,o=i.countryCallingCode;this.country=a,this.countryCallingCode=o,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return r}}var t,n,r;return t=e,(n=[{key:"setExt",value:function(e){this.ext=e}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:CP(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return function(e,t,n){if(void 0===t&&(t={}),n=new rP(n),t.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!n.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));n.country(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}}if(n.possibleLengths())return yP(e.phone||e.nationalNumber,n);if(e.countryCallingCode&&n.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return function(e,t,n){return t=t||{},(n=new rP(n)).selectNumberingPlan(e.country,e.countryCallingCode),n.hasTypes()?void 0!==_P(e,t,n.metadata):gP(t.v2?e.nationalNumber:e.phone,n.nationalNumberPattern())}(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){return new rP(this.getMetadata()).isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(e){return this.number===e.number&&this.ext===e.ext}},{key:"getType",value:function(){return _P(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(e,t){return UP(this,e,t?zP(zP({},t),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(e){return this.format("NATIONAL",e)}},{key:"formatInternational",value:function(e){return this.format("INTERNATIONAL",e)}},{key:"getURI",value:function(e){return this.format("RFC3966",e)}}])&&GP(t.prototype,n),r&&GP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),HP=function(e){return/^[A-Z]{2}$/.test(e)};function QP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var YP=function(){function e(t){var n=t.onCountryChange,r=t.onCallingCodeChange;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onCountryChange=n,this.onCallingCodeChange=r}var t,n,r;return t=e,(n=[{key:"reset",value:function(e){var t=e.country,n=e.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(t,n)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this[r]=e[r]}}},{key:"initCountryAndCallingCode",value:function(e,t){this.setCountry(e),this.setCallingCode(t)}},{key:"setCountry",value:function(e){this.country=e,this.onCountryChange(e)}},{key:"setCallingCode",value:function(e){this.callingCode=e,this.onCallingCodeChange(e,this.country)}},{key:"startInternationalNumber",value:function(e,t){this.international=!0,this.initCountryAndCallingCode(e,t)}},{key:"appendDigits",value:function(e){this.digits+=e}},{key:"appendNationalSignificantNumberDigits",value:function(e){this.nationalSignificantNumber+=e}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])&&QP(t.prototype,n),r&&QP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function XP(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return JP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JP(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function JP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ZP="x",eA=new RegExp(ZP);function tA(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function nA(e,t){return")"===e[t]&&t++,function(e){var t=[],n=0;for(;n<e.length;)"("===e[n]?t.push(n):")"===e[n]&&t.pop(),n++;var r=0,i="";t.push(e.length);for(var a=0,o=t;a<o.length;a++){var u=o[a];i+=e.slice(r,u),r=u+1}return i}(e.slice(0,t))}function rA(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return iA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iA(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function iA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var aA={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u06f0":"0","\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9"};function oA(e){return aA[e]}function uA(e){for(var t,n="",r=rA(e.split(""));!(t=r()).done;){var i=oA(t.value);i&&(n+=i)}return n}function sA(e,t,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix;if(new RegExp("^(?:".concat(t.pattern(),")$")).test(e.nationalSignificantNumber))return function(e,t,n){var r=n.metadata,i=n.shouldTryNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix;e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode;if(i(t)){var o=lA(e,t,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:a,metadata:r});if(o)return o}return lA(e,t,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:a,metadata:r})}(e,t,{metadata:r,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:a})}function lA(e,t,n){var r=n.metadata,i=n.useNationalPrefixFormattingRule,a=n.getSeparatorAfterNationalPrefix,o=AP(e.nationalSignificantNumber,t,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:i,metadata:r});if(i||(e.nationalPrefix?o=e.nationalPrefix+a(t)+o:e.complexPrefixBeforeNationalSignificantNumber&&(o=e.complexPrefixBeforeNationalSignificantNumber+" "+o)),function(e,t){return uA(e)===t.getNationalDigits()}(o,e))return o}function cA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var dA=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"parse",value:function(e){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(e),1!==this.context.length)throw new Error("Non-finalized contexts left when pattern parse ended");var t=this.context[0],n=t.branches,r=t.instructions;if(n)return{op:"|",args:n.concat([vA(r)])};if(0===r.length)throw new Error("Pattern is required");return 1===r.length?r[0]:r}},{key:"startContext",value:function(e){this.context.push(e)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(e){if(!e)throw new Error("Pattern is required");var t=e.match(pA);if(t){var n=t[1],r=e.slice(0,t.index),i=e.slice(t.index+n.length);switch(n){case"(?:":r&&this.parsePattern(r),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(r&&this.parsePattern(r),0===this.getContext().instructions.length)throw new Error('No instructions found after "|" operator in an "or" group');var a=this.getContext().branches;a.push(vA(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:a});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(r&&this.parsePattern(r),!this.getContext().branches){if(1!==this.context.length)throw new Error('"branches" not found in an "or" group context');this.getContext().branches=[]}this.getContext().branches.push(vA(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":r&&this.parsePattern(r),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:fA(r)});break;default:throw new Error("Unknown operator: ".concat(n))}i&&this.parsePattern(i)}else{if(hA.test(e))throw new Error("Illegal characters found in a pattern: ".concat(e));this.getContext().instructions=this.getContext().instructions.concat(e.split(""))}}}])&&cA(t.prototype,n),r&&cA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function fA(e){for(var t=[],n=0;n<e.length;){if("-"===e[n]){if(0===n||n===e.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(e));for(var r=e[n-1].charCodeAt(0)+1,i=e[n+1].charCodeAt(0)-1,a=r;a<=i;)t.push(String.fromCharCode(a)),a++}else t.push(e[n]);n++}return t}var hA=/[\(\)\[\]\?\:\|]/,pA=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function vA(e){return 1===e.length?e[0]:e}function mA(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return yA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yA(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var bA=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.matchTree=(new dA).parse(t)}var t,n,r;return t=e,n=[{key:"match",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowOverflow;if(!e)throw new Error("String is required");var n=wA(e.split(""),this.matchTree,!0);if(n&&n.match&&delete n.matchedChars,!n||!n.overflow||t)return n}}],n&&gA(t.prototype,n),r&&gA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function wA(e,t,n){if("string"===typeof t){var r=e.join("");return 0===t.indexOf(r)?e.length===t.length?{match:!0,matchedChars:e}:{partialMatch:!0}:0===r.indexOf(t)?n&&e.length>t.length?{overflow:!0}:{match:!0,matchedChars:e.slice(0,t.length)}:void 0}if(Array.isArray(t)){for(var i=e.slice(),a=0;a<t.length;){var o=wA(i,t[a],n&&a===t.length-1);if(!o)return;if(o.overflow)return o;if(!o.match){if(o.partialMatch)return{partialMatch:!0};throw new Error("Unsupported match result:\n".concat(JSON.stringify(o,null,2)))}if(0===(i=i.slice(o.matchedChars.length)).length)return a===t.length-1?{match:!0,matchedChars:e}:{partialMatch:!0};a++}return n?{overflow:!0}:{match:!0,matchedChars:e.slice(0,e.length-i.length)}}switch(t.op){case"|":for(var u,s,l=mA(t.args);!(s=l()).done;){var c=wA(e,s.value,n);if(c){if(c.overflow)return c;if(c.match)return{match:!0,matchedChars:c.matchedChars};if(!c.partialMatch)throw new Error("Unsupported match result:\n".concat(JSON.stringify(c,null,2)));u=!0}}return u?{partialMatch:!0}:void 0;case"[]":for(var d,f=mA(t.args);!(d=f()).done;){var h=d.value;if(e[0]===h)return 1===e.length?{match:!0,matchedChars:e}:n?{overflow:!0}:{match:!0,matchedChars:[h]}}return;default:throw new Error("Unsupported instruction tree: ".concat(t))}}function kA(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return _A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _A(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var CA=tA("9",15),SA=/[- ]/,EA=function(){return/\[([^\[\]])*\]/g},IA=function(){return/\d(?=[^,}][^,}])/g},$A=new RegExp("["+TP+"]*\\$1["+TP+"]*(\\$\\d["+TP+"]*)*$"),TA=function(){function e(t){t.state;var n=t.metadata;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.metadata=n,this.resetFormat()}var t,n,r;return t=e,n=[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(e,t){this.resetFormat(),e?(this.isNANP="1"===e.callingCode(),this.matchingFormats=e.formats(),t.nationalSignificantNumber&&this.narrowDownMatchingFormats(t)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(e,t){var n=this;if(function(e,t){return"IS_POSSIBLE"===vP(e,t)}(t.nationalSignificantNumber,this.metadata))for(var r,i=kA(this.matchingFormats);!(r=i()).done;){var a=r.value,o=sA(t,a,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(e){return n.shouldTryNationalPrefixFormattingRule(e,{international:t.international,nationalPrefix:t.nationalPrefix})},getSeparatorAfterNationalPrefix:function(e){return n.getSeparatorAfterNationalPrefix(e)}});if(o)return this.resetFormat(),this.chosenFormat=a,this.setNationalNumberTemplate(o.replace(/\d/g,ZP),t),this.populatedNationalNumberTemplate=o,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(ZP),o}return this.formatNationalNumberWithNextDigits(e,t)}},{key:"formatNationalNumberWithNextDigits",value:function(e,t){var n=this.chosenFormat,r=this.chooseFormat(t);if(r)return r===n?this.formatNextNationalNumberDigits(e):this.formatNextNationalNumberDigits(t.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(e){var t=this,n=e.nationalSignificantNumber,r=e.nationalPrefix,i=e.international,a=n,o=a.length-3;o<0&&(o=0),this.matchingFormats=this.matchingFormats.filter((function(e){return t.formatSuits(e,i,r)&&t.formatMatches(e,a,o)})),this.chosenFormat&&-1===this.matchingFormats.indexOf(this.chosenFormat)&&this.resetFormat()}},{key:"formatSuits",value:function(e,t,n){return!(n&&!e.usesNationalPrefix()&&!e.nationalPrefixIsOptionalWhenFormattingInNationalFormat())&&!(!t&&!n&&e.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(e,t,n){var r=e.leadingDigitsPatterns().length;if(0===r)return!0;n=Math.min(n,r-1);var i=e.leadingDigitsPatterns()[n];if(t.length<3)try{return void 0!==new bA(i).match(t,{allowOverflow:!0})}catch(qi){return console.error(qi),!0}return new RegExp("^(".concat(i,")")).test(t)}},{key:"getFormatFormat",value:function(e,t){return t?e.internationalFormat():e.format()}},{key:"chooseFormat",value:function(e){for(var t,n=this,r=function(){var r=t.value;return n.chosenFormat===r?"break":$A.test(n.getFormatFormat(r,e.international))?n.createTemplateForFormat(r,e)?(n.chosenFormat=r,"break"):(n.matchingFormats=n.matchingFormats.filter((function(e){return e!==r})),"continue"):"continue"},i=kA(this.matchingFormats.slice());!(t=i()).done;){var a=r();if("break"===a)break}return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(e,t){if(!(e.pattern().indexOf("|")>=0)){var n=this.getTemplateForFormat(e,t);return n?(this.setNationalNumberTemplate(n,t),!0):void 0}}},{key:"getSeparatorAfterNationalPrefix",value:function(e){return this.isNANP||e&&e.nationalPrefixFormattingRule()&&SA.test(e.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(e,t){var n=e.IDDPrefix,r=e.missingPlus;return n?t&&!1===t.spacing?n:n+" ":r?"":"+"}},{key:"getTemplate",value:function(e){if(this.template){for(var t=-1,n=0,r=e.international?this.getInternationalPrefixBeforeCountryCallingCode(e,{spacing:!1}):"";n<r.length+e.getDigitsWithoutInternationalPrefix().length;)t=this.template.indexOf(ZP,t+1),n++;return nA(this.template,t+1)}}},{key:"setNationalNumberTemplate",value:function(e,t){this.nationalNumberTemplate=e,this.populatedNationalNumberTemplate=e,this.populatedNationalNumberTemplatePosition=-1,t.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(t).replace(/[\d\+]/g,ZP)+tA(ZP,t.callingCode.length)+" "+e:this.template=e}},{key:"getTemplateForFormat",value:function(e,t){var n=t.nationalSignificantNumber,r=t.international,i=t.nationalPrefix,a=t.complexPrefixBeforeNationalSignificantNumber,o=e.pattern();o=o.replace(EA(),"\\d").replace(IA(),"\\d");var u=CA.match(o)[0];if(!(n.length>u.length)){var s=new RegExp("^"+o+"$"),l=n.replace(/\d/g,"9");s.test(l)&&(u=l);var c,d=this.getFormatFormat(e,r);if(this.shouldTryNationalPrefixFormattingRule(e,{international:r,nationalPrefix:i})){var f=d.replace(PP,e.nationalPrefixFormattingRule());if(uA(e.nationalPrefixFormattingRule())===(i||"")+uA("$1")&&(d=f,c=!0,i))for(var h=i.length;h>0;)d=d.replace(/\d/,ZP),h--}var p=u.replace(new RegExp(o),d).replace(new RegExp("9","g"),ZP);return c||(a?p=tA(ZP,a.length)+" "+p:i&&(p=tA(ZP,i.length)+this.getSeparatorAfterNationalPrefix(e)+p)),r&&(p=NP(p)),p}}},{key:"formatNextNationalNumberDigits",value:function(e){var t=function(e,t,n){for(var r,i=XP(n.split(""));!(r=i()).done;){var a=r.value;if(e.slice(t+1).search(eA)<0)return;t=e.search(eA),e=e.replace(eA,a)}return[e,t]}(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,e);if(t)return this.populatedNationalNumberTemplate=t[0],this.populatedNationalNumberTemplatePosition=t[1],nA(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1);this.resetFormat()}},{key:"shouldTryNationalPrefixFormattingRule",value:function(e,t){var n=t.international,r=t.nationalPrefix;if(e.nationalPrefixFormattingRule()){var i=e.usesNationalPrefix();if(i&&r||!i&&!n)return!0}}}],n&&xA(t.prototype,n),r&&xA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),NA=new RegExp("(["+$P+"])");function PA(e,t,n,r){if(t){var i=new rP(r);i.selectNumberingPlan(t,n);var a=new RegExp(i.IDDPrefix());if(0===e.search(a)){var o=(e=e.slice(e.match(a)[0].length)).match(NA);if(!(o&&null!=o[1]&&o[1].length>0&&"0"===o[1]))return e}}}function AA(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),r=n.exec(e);if(r){var i,a,o,u=r.length-1,s=u>0&&r[u];if(t.nationalPrefixTransformRule()&&s)i=e.replace(n,t.nationalPrefixTransformRule()),u>1&&(a=r[1]);else{var l=r[0];i=e.slice(l.length),s&&(a=r[1])}if(s){var c=e.indexOf(r[1]);e.slice(0,c)===t.numberingPlan.nationalPrefix()&&(o=t.numberingPlan.nationalPrefix())}else o=r[0];return{nationalNumber:i,nationalPrefix:o,carrierCode:a}}}return{nationalNumber:e}}function OA(e,t){var n=AA(e,t),r=n.carrierCode,i=n.nationalNumber;if(i!==e){if(!function(e,t,n){if(gP(e,n.nationalNumberPattern())&&!gP(t,n.nationalNumberPattern()))return!1;return!0}(e,i,t))return{nationalNumber:e};if(t.possibleLengths()&&!function(e,t){switch(vP(e,t)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}(i,t))return{nationalNumber:e}}return{nationalNumber:i,carrierCode:r}}function DA(e,t,n,r){var i=t?cP(t,r):n;if(0===e.indexOf(i)){(r=new rP(r)).selectNumberingPlan(t,n);var a=e.slice(i.length),o=OA(a,r).nationalNumber,u=OA(e,r).nationalNumber;if(!gP(u,r.nationalNumberPattern())&&gP(o,r.nationalNumberPattern())||"TOO_LONG"===vP(u,r))return{countryCallingCode:i,number:a}}return{number:e}}function RA(e,t,n,r){if(!e)return{};var i;if("+"!==e[0]){var a=PA(e,t,n,r);if(!a||a===e){if(t||n){var o=DA(e,t,n,r),u=o.countryCallingCode,s=o.number;if(u)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:u,number:s}}return{number:e}}i=!0,e="+"+a}if("0"===e[1])return{};r=new rP(r);for(var l=2;l-1<=IP&&l<=e.length;){var c=e.slice(1,l);if(r.hasCallingCode(c))return r.selectNumberingPlan(c),{countryCallingCodeSource:i?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:c,number:e.slice(l)};l++}return{}}function MA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return LA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var FA=new RegExp("^"+("["+TP+$P+"]+")+"$","i"),UA="(?:[+\uff0b]["+TP+$P+"]*|["+TP+$P+"]+)",BA=new RegExp("[^"+TP+$P+"]+.*$"),VA=/[^\d\[\]]/,qA=function(){function e(t){var n=t.defaultCountry,r=t.defaultCallingCode,i=t.metadata,a=t.onNationalSignificantNumberChange;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultCountry=n,this.defaultCallingCode=r,this.metadata=i,this.onNationalSignificantNumberChange=a}var t,n,r;return t=e,(n=[{key:"input",value:function(e,t){var n,r=function(e){var t=function(e){var t=function(e){var t,n=e.search(UA);if(!(n<0))return"+"===(e=e.slice(n))[0]&&(t=!0,e=e.slice(1)),e=e.replace(BA,""),t&&(e="+"+e),e}(e)||"";return"+"===t[0]?[t.slice(1),!0]:[t]}(e),n=MA(t,2),r=n[0],i=n[1];return FA.test(r)||(r=""),[r,i]}(e),i=MA(r,2),a=i[0],o=i[1],u=uA(a);return o&&(t.digits||(t.startInternationalNumber(),u||(n=!0))),u&&this.inputDigits(u,t),{digits:u,justLeadingPlus:n}}},{key:"inputDigits",value:function(e,t){var n=t.digits,r=n.length<3&&n.length+e.length>=3;if(t.appendDigits(e),r&&this.extractIddPrefix(t),this.isWaitingForCountryCallingCode(t)){if(!this.extractCountryCallingCode(t))return}else t.appendNationalSignificantNumberDigits(e);t.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(t.getNationalDigits(),(function(e){return t.update(e)}))}},{key:"isWaitingForCountryCallingCode",value:function(e){var t=e.international,n=e.callingCode;return t&&!n}},{key:"extractCountryCallingCode",value:function(e){var t=RA("+"+e.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),n=t.countryCallingCode,r=t.number;if(n)return e.setCallingCode(n),e.update({nationalSignificantNumber:r}),!0}},{key:"reset",value:function(e){if(e){this.hasSelectedNumberingPlan=!0;var t=e._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=t&&VA.test(t)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(e,t){if(this.hasSelectedNumberingPlan){var n=AA(e,this.metadata),r=n.nationalPrefix,i=n.nationalNumber,a=n.carrierCode;if(i!==e)return this.onExtractedNationalNumber(r,a,i,e,t),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(e,t,n){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(e,n);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var r=AA(e,this.metadata),i=r.nationalPrefix,a=r.nationalNumber,o=r.carrierCode;if(a!==t)return this.onExtractedNationalNumber(i,o,a,e,n),!0}}},{key:"onExtractedNationalNumber",value:function(e,t,n,r,i){var a,o,u=r.lastIndexOf(n);if(u>=0&&u===r.length-n.length){o=!0;var s=r.slice(0,u);s!==e&&(a=s)}i({nationalPrefix:e,carrierCode:t,nationalSignificantNumber:n,nationalSignificantNumberMatchesInput:o,complexPrefixBeforeNationalSignificantNumber:a}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(e){return!!this.extractAnotherNationalSignificantNumber(e.getNationalDigits(),e.nationalSignificantNumber,(function(t){return e.update(t)}))||(this.extractIddPrefix(e)||this.fixMissingPlus(e)?(this.extractCallingCodeAndNationalSignificantNumber(e),!0):void 0)}},{key:"extractIddPrefix",value:function(e){var t=e.international,n=e.IDDPrefix,r=e.digits;if(e.nationalSignificantNumber,!t&&!n){var i=PA(r,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);return void 0!==i&&i!==r?(e.update({IDDPrefix:r.slice(0,r.length-i.length)}),this.startInternationalNumber(e,{country:void 0,callingCode:void 0}),!0):void 0}}},{key:"fixMissingPlus",value:function(e){if(!e.international){var t=DA(e.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),n=t.countryCallingCode;if(t.number,n)return e.update({missingPlus:!0}),this.startInternationalNumber(e,{country:e.country,callingCode:n}),!0}}},{key:"startInternationalNumber",value:function(e,t){var n=t.country,r=t.callingCode;e.startInternationalNumber(n,r),e.nationalSignificantNumber&&(e.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(e){this.extractCountryCallingCode(e)&&this.extractNationalSignificantNumber(e.getNationalDigits(),(function(t){return e.update(t)}))}}])&&jA(t.prototype,n),r&&jA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function zA(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return WA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WA(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function WA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GA(e,t){var n=t.countries,r=t.defaultCountry,i=t.metadata;i=new rP(i);for(var a,o=[],u=zA(n);!(a=u()).done;){var s=a.value;if(i.country(s),i.leadingDigits()){if(e&&0===e.search(i.leadingDigits()))return s}else if(_P({phone:e,country:s},void 0,i.metadata)){if(!r)return s;if(s===r)return s;o.push(s)}}if(o.length>0)return o[0]}var KA=!1;function HA(e,t){var n=t.nationalNumber,r=t.defaultCountry,i=t.metadata;if(KA&&i.isNonGeographicCallingCode(e))return"001";var a=i.getCountryCodesForCallingCode(e);return a?1===a.length?a[0]:GA(n,{countries:a,defaultCountry:r,metadata:i.metadata}):void 0}function QA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return YA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var JA=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.metadata=new rP(n);var r=QA(this.getCountryAndCallingCode(t),2),i=r[0],a=r[1];this.defaultCountry=i,this.defaultCallingCode=a,this.reset()}var t,n,r;return t=e,(n=[{key:"getCountryAndCallingCode",value:function(e){var t,n;return e&&(YN(e)?(t=e.defaultCountry,n=e.defaultCallingCode):t=e),t&&!this.metadata.hasCountry(t)&&(t=void 0),[t,n]}},{key:"input",value:function(e){var t=this.parser.input(e,this.state),n=t.digits;if(t.justLeadingPlus)this.formattedOutput="+";else if(n){var r;if(this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state),this.metadata.hasSelectedNumberingPlan()&&(r=this.formatter.format(n,this.state)),void 0===r&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var i=this.state.getNationalDigits();i&&(r=this.formatter.format(i,this.state))}this.formattedOutput=r?this.getFullNumber(r):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var e=this;return this.state=new YP({onCountryChange:function(t){e.country=t},onCallingCodeChange:function(t,n){e.metadata.selectNumberingPlan(n,t),e.formatter.reset(e.metadata.numberingPlan,e.state),e.parser.reset(e.metadata.numberingPlan)}}),this.formatter=new TA({state:this.state,metadata:this.metadata}),this.parser=new qA({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){e.determineTheCountryIfNeeded(),e.formatter.reset(e.metadata.numberingPlan,e.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){if(this.state.digits)return this._getCountry()}},{key:"_getCountry",value:function(){var e=this.state.country;return e}},{key:"determineTheCountryIfNeeded",value:function(){this.state.country&&!this.isCountryCallingCodeAmbiguous()||this.determineTheCountry()}},{key:"getFullNumber",value:function(e){var t=this;if(this.isInternational()){var n=function(e){return t.formatter.getInternationalPrefixBeforeCountryCallingCode(t.state,{spacing:!!e})+e},r=this.state.callingCode;return n(r?e?"".concat(r," ").concat(e):r:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return e}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var e=this.state,t=e.nationalSignificantNumber,n=e.complexPrefixBeforeNationalSignificantNumber,r=e.nationalPrefix,i=t,a=n||r;return a&&(i=a+i),i}},{key:"getNonFormattedNumber",value:function(){var e=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(e?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var e=this.getNonFormattedNumber();if(e)return e.replace(/[\+\d]/g,ZP)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var e=this.state.callingCode,t=this.metadata.getCountryCodesForCallingCode(e);return t&&t.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(HA(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var e=this.state,t=e.digits,n=e.callingCode,r=e.country,i=e.nationalSignificantNumber;if(t)return this.isInternational()?n?"+"+n+i:"+"+t:r||n?"+"+(r?this.metadata.countryCallingCode():n)+i:void 0}},{key:"getNumber",value:function(){var e=this.state,t=e.nationalSignificantNumber,n=e.carrierCode,r=e.callingCode,i=this._getCountry();if(t&&(i||r)){if(i&&i===this.defaultCountry){var a=new rP(this.metadata.metadata);a.selectNumberingPlan(i);var o=a.numberingPlan.callingCode(),u=this.metadata.getCountryCodesForCallingCode(o);if(u.length>1){var s=GA(t,{countries:u,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});s&&(i=s)}}var l=new KP(i||r,t,this.metadata.metadata);return n&&(l.carrierCode=n),l}}},{key:"isPossible",value:function(){var e=this.getNumber();return!!e&&e.isPossible()}},{key:"isValid",value:function(){var e=this.getNumber();return!!e&&e.isValid()}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])&&XA(t.prototype,n),r&&XA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ZA(e){var t=e.country,n=e.international,r=e.withCountryCallingCode,i=e.metadata;return t&&n&&!r?"+".concat(cP(t,i)):""}function eO(e,t){return t&&" "===(e=e.slice(t.length))[0]&&(e=e.slice(1)),e}function tO(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return nO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nO(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rO(e){for(var t,n="",r=tO(e.split(""));!(t=r()).done;){n+=iO(t.value,n)||""}return n}function iO(e,t,n){return"+"===e?t?void("function"===typeof n&&n("end")):"+":oA(e)}function aO(e,t,n){if(!n||!n.ignoreRest){return iO(e,t,(function(e){if(n&&"end"===e)n.ignoreRest=!0}))}}var oO=["country","international","withCountryCallingCode","metadata"];function uO(){return uO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uO.apply(this,arguments)}function sO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var lO=function(e){function t(t,n){var r=t.country,a=t.international,o=t.withCountryCallingCode,u=t.metadata,s=void 0===u?e:u,l=sO(t,oO),c=(0,i.useCallback)((function(e){var t=new JA(r,s),n=ZA({country:r,international:a,withCountryCallingCode:o,metadata:s}),i=t.input(n+e),u=t.getTemplate();return n&&(i=eO(i,n),u&&(u=eO(u,n))),{text:i,template:u}}),[r,s]);return i.createElement(GN,uO({},l,{ref:n,parse:aO,format:c}))}return(t=i.forwardRef(t)).propTypes={value:EN.string.isRequired,onChange:EN.func.isRequired,country:EN.string,international:EN.bool,withCountryCallingCode:EN.bool,metadata:EN.object},t}();var cO=["value","onChange","country","international","withCountryCallingCode","metadata","inputComponent"];function dO(){return dO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dO.apply(this,arguments)}function fO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var hO=function(e){function t(t,n){var r=t.value,a=t.onChange,o=t.country,u=t.international,s=t.withCountryCallingCode,l=t.metadata,c=void 0===l?e:l,d=t.inputComponent,f=void 0===d?"input":d,h=fO(t,cO),p=ZA({country:o,international:u,withCountryCallingCode:s,metadata:c}),v=(0,i.useCallback)((function(e){var t=rO(e.target.value);t===r&&(0===pO(p,t,o,c).indexOf(e.target.value)&&(t=t.slice(0,-1)));a(t)}),[p,r,a,o,c]);return i.createElement(f,dO({},h,{ref:n,value:pO(p,r,o,c),onChange:v}))}return(t=i.forwardRef(t)).propTypes={value:EN.string.isRequired,onChange:EN.func.isRequired,country:EN.string,international:EN.bool,withCountryCallingCode:EN.bool,metadata:EN.object,inputComponent:EN.elementType},t}();function pO(e,t,n,r){return eO(function(e,t,n){return n||(n=t,t=void 0),new JA(t,n).input(e)}(e+t,n,r),e)}function vO(e){return String.fromCodePoint(127397+e.toUpperCase().charCodeAt(0))}var mO=["value","onChange","options","disabled","readOnly"],yO=["value","options","className","iconComponent","getIconAspectRatio","arrowComponent","unicodeFlags"];function gO(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return bO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bO(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wO(){return wO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wO.apply(this,arguments)}function kO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _O(e){var t=e.value,n=e.onChange,r=e.options,a=e.disabled,o=e.readOnly,u=kO(e,mO),s=(0,i.useCallback)((function(e){var t=e.target.value;n("ZZ"===t?void 0:t)}),[n]);(0,i.useMemo)((function(){return EO(r,t)}),[r,t]);return i.createElement("select",wO({},u,{disabled:a||o,readOnly:o,value:t||"ZZ",onChange:s}),r.map((function(e){var t=e.value,n=e.label,r=e.divider;return i.createElement("option",{key:r?"|":t||"ZZ",value:r?"|":t||"ZZ",disabled:!!r,style:r?xO:void 0},n)})))}_O.propTypes={value:EN.string,onChange:EN.func.isRequired,options:EN.arrayOf(EN.shape({value:EN.string,label:EN.string,divider:EN.bool})).isRequired,disabled:EN.bool,readOnly:EN.bool};var xO={fontSize:"1px",backgroundColor:"currentColor",color:"inherit"};function CO(e){var t,n=e.value,r=e.options,a=e.className,o=e.iconComponent,u=(e.getIconAspectRatio,e.arrowComponent),s=void 0===u?SO:u,l=e.unicodeFlags,c=kO(e,yO),d=(0,i.useMemo)((function(){return EO(r,n)}),[r,n]);return i.createElement("div",{className:"PhoneInputCountry"},i.createElement(_O,wO({},c,{value:n,options:r,className:TN("PhoneInputCountrySelect",a)})),l&&n&&i.createElement("div",{className:"PhoneInputCountryIconUnicode"},vO((t=n)[0])+vO(t[1])),!(l&&n)&&i.createElement(o,{"aria-hidden":!0,country:n,label:d&&d.label,aspectRatio:l?1:void 0}),i.createElement(s,null))}function SO(){return i.createElement("div",{className:"PhoneInputCountrySelectArrow"})}function EO(e,t){for(var n,r=gO(e);!(n=r()).done;){var i=n.value;if(!i.divider&&i.value===t)return i}}CO.propTypes={iconComponent:EN.elementType,arrowComponent:EN.elementType,unicodeFlags:EN.bool};var IO=["country","countryName","flags","flagUrl"];function $O(){return $O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$O.apply(this,arguments)}function TO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function NO(e){var t=e.country,n=e.countryName,r=e.flags,a=e.flagUrl,o=TO(e,IO);return r&&r[t]?r[t]({title:n}):i.createElement("img",$O({},o,{alt:n,role:n?void 0:"presentation",src:a.replace("{XX}",t).replace("{xx}",t.toLowerCase())}))}NO.propTypes={country:EN.string.isRequired,countryName:EN.string.isRequired,flags:EN.objectOf(EN.elementType),flagUrl:EN.string.isRequired};var PO=["aspectRatio"],AO=["title"],OO=["title"];function DO(){return DO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DO.apply(this,arguments)}function RO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MO(e){var t=e.aspectRatio,n=RO(e,PO);return 1===t?i.createElement(jO,n):i.createElement(LO,n)}function LO(e){var t=e.title,n=RO(e,AO);return i.createElement("svg",DO({},n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75 50"}),i.createElement("title",null,t),i.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeMiterlimit:"10"},i.createElement("path",{strokeLinecap:"round",d:"M47.2,36.1C48.1,36,49,36,50,36c7.4,0,14,1.7,18.5,4.3"}),i.createElement("path",{d:"M68.6,9.6C64.2,12.3,57.5,14,50,14c-7.4,0-14-1.7-18.5-4.3"}),i.createElement("line",{x1:"26",y1:"25",x2:"74",y2:"25"}),i.createElement("line",{x1:"50",y1:"1",x2:"50",y2:"49"}),i.createElement("path",{strokeLinecap:"round",d:"M46.3,48.7c1.2,0.2,2.5,0.3,3.7,0.3c13.3,0,24-10.7,24-24S63.3,1,50,1S26,11.7,26,25c0,2,0.3,3.9,0.7,5.8"}),i.createElement("path",{strokeLinecap:"round",d:"M46.8,48.2c1,0.6,2.1,0.8,3.2,0.8c6.6,0,12-10.7,12-24S56.6,1,50,1S38,11.7,38,25c0,1.4,0.1,2.7,0.2,4c0,0.1,0,0.2,0,0.2"})),i.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"none",fill:"currentColor",d:"M12.4,17.9c2.9-2.9,5.4-4.8,0.3-11.2S4.1,5.2,1.3,8.1C-2,11.4,1.1,23.5,13.1,35.6s24.3,15.2,27.5,11.9c2.8-2.8,7.8-6.3,1.4-11.5s-8.3-2.6-11.2,0.3c-2,2-7.2-2.2-11.7-6.7S10.4,19.9,12.4,17.9z"}))}function jO(e){var t=e.title,n=RO(e,OO);return i.createElement("svg",DO({},n,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50"}),i.createElement("title",null,t),i.createElement("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round"},i.createElement("path",{d:"M8.45,13A21.44,21.44,0,1,1,37.08,41.56"}),i.createElement("path",{d:"M19.36,35.47a36.9,36.9,0,0,1-2.28-13.24C17.08,10.39,21.88.85,27.8.85s10.72,9.54,10.72,21.38c0,6.48-1.44,12.28-3.71,16.21"}),i.createElement("path",{d:"M17.41,33.4A39,39,0,0,1,27.8,32.06c6.62,0,12.55,1.5,16.48,3.86"}),i.createElement("path",{d:"M44.29,8.53c-3.93,2.37-9.86,3.88-16.49,3.88S15.25,10.9,11.31,8.54"}),i.createElement("line",{x1:"27.8",y1:"0.85",x2:"27.8",y2:"34.61"}),i.createElement("line",{x1:"15.2",y1:"22.23",x2:"49.15",y2:"22.23"})),i.createElement("path",{className:"PhoneInputInternationalIconPhone",stroke:"transparent",fill:"currentColor",d:"M9.42,26.64c2.22-2.22,4.15-3.59.22-8.49S3.08,17,.93,19.17c-2.49,2.48-.13,11.74,9,20.89s18.41,11.5,20.89,9c2.15-2.15,5.91-4.77,1-8.71s-6.27-2-8.49.22c-1.55,1.55-5.48-1.69-8.86-5.08S7.87,28.19,9.42,26.64Z"}))}function FO(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return UO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UO(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function UO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BO(e,t){return!!dP(e,t)||(console.error("Country not found: ".concat(e)),!1)}function VO(e,t){return e&&0===(e=e.filter((function(e){return BO(e,t)}))).length&&(e=void 0),e}function qO(e){return new rP(e).getCountries()}MO.propTypes={title:EN.string.isRequired,aspectRatio:EN.number},LO.propTypes={title:EN.string.isRequired},jO.propTypes={title:EN.string.isRequired};var zO=["country","label","aspectRatio"];function WO(){return WO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WO.apply(this,arguments)}function GO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KO(e){var t=e.flags,n=e.flagUrl,r=e.flagComponent,a=e.internationalIcon;function o(e){var o=e.country,u=e.label,s=e.aspectRatio,l=GO(e,zO),c=a===MO?s:void 0;return i.createElement("div",WO({},l,{className:TN("PhoneInputCountryIcon",{"PhoneInputCountryIcon--square":1===c,"PhoneInputCountryIcon--border":o})}),o?i.createElement(r,{country:o,countryName:u,flags:t,flagUrl:n,className:"PhoneInputCountryIconImg"}):i.createElement(a,{title:u,aspectRatio:c,className:"PhoneInputCountryIconImg"}))}return o.propTypes={country:EN.string,label:EN.string.isRequired,aspectRatio:EN.number},o}KO({flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",flagComponent:NO,internationalIcon:MO});function HO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return XO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JO(e){var t,n,r,i=YO(Array.prototype.slice.call(e),4),a=i[0],o=i[1],u=i[2],s=i[3];if("string"!==typeof a)throw new TypeError("A text for parsing must be a string.");if(t=a,o&&"string"!==typeof o){if(!YN(o))throw new Error("Invalid second argument: ".concat(o));u?(n=o,r=u):r=o}else s?(n=u,r=s):(n=void 0,r=u),o&&(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HO(Object(n),!0).forEach((function(t){QO(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({defaultCountry:o},n));return{text:t,options:n,metadata:r}}function ZO(e){return ZO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZO(e)}function eD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tD(e){var t=aD();return function(){var n,r=uD(e);if(t){var i=uD(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===ZO(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nD(e)}(this,n)}}function nD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rD(e){var t="function"===typeof Map?new Map:void 0;return rD=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return iD(e,arguments,uD(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),oD(n,e)},rD(e)}function iD(e,t,n){return iD=aD()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&oD(i,n.prototype),i},iD.apply(null,arguments)}function aD(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function oD(e,t){return oD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},oD(e,t)}function uD(e){return uD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},uD(e)}var sD=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oD(e,t)}(a,e);var t,n,r,i=tD(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this,e),Object.setPrototypeOf(nD(t),a.prototype),t.name=t.constructor.name,t}return t=a,n&&eD(t.prototype,n),r&&eD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(rD(Error)),lD=function(e){return"([".concat($P,"]{1,").concat(e,"})")};function cD(e){var t="[ \xa0\\t,]*",n="[:\\.\uff0e]?[ \xa0\\t,-]*",r="#?",i="[ \xa0\\t]*";return";ext="+lD("20")+"|"+(t+"(?:e?xt(?:ensi(?:o\u0301?|\xf3))?n?|\uff45?\uff58\uff54\uff4e?|\u0434\u043e\u0431|anexo)"+n+lD("20")+r)+"|"+(t+"(?:[x\uff58#\uff03~\uff5e]|int|\uff49\uff4e\uff54)"+n+lD("9")+r)+"|"+("[- ]+"+lD("6")+"#")+"|"+(i+"(?:,{2}|;)"+n+lD("15")+r)+"|"+(i+"(?:,)+"+n+lD("9")+r)}var dD="["+$P+"]{"+SP+"}",fD="[+\uff0b]{0,1}(?:["+TP+"]*["+$P+"]){3,}["+TP+$P+"]*",hD=new RegExp("^[+\uff0b]{0,1}(?:["+TP+"]*["+$P+"]){1,2}$","i"),pD=fD+"(?:"+cD()+")?",vD=new RegExp("^"+dD+"$|^"+pD+"$","i");var mD=new RegExp("(?:"+cD()+")$","i");var yD="+",gD="(["+$P+"]|[\\-\\.\\(\\)]?)",bD=new RegExp("^\\"+yD+gD+"*["+$P+"]"+gD+"*$","g"),wD=new RegExp("^("+("["+$P+"]+((\\-)*["+$P+"])*")+"\\.)*"+("[a-zA-Z]+((\\-)*["+$P+"])*")+"\\.?$","g"),kD="tel:",_D=";phone-context=",xD=";isub=";function CD(e,t){var n,r=t.extractFormattedPhoneNumber,i=function(e){var t=e.indexOf(_D);if(t<0)return null;var n=t+_D.length;if(n>=e.length)return"";var r=e.indexOf(";",n);return r>=0?e.substring(n,r):e.substring(n)}(e);if(!function(e){return null===e||0!==e.length&&(bD.test(e)||wD.test(e))}(i))throw new sD("NOT_A_NUMBER");if(null===i)n=r(e)||"";else{n="",i.charAt(0)===yD&&(n+=i);var a,o=e.indexOf(kD);a=o>=0?o+kD.length:0;var u=e.indexOf(_D);n+=e.substring(a,u)}var s=n.indexOf(xD);if(s>0&&(n=n.substring(0,s)),""!==n)return n}var SD=250,ED=new RegExp("[+\uff0b"+$P+"]"),ID=new RegExp("[^"+$P+"#]+$"),$D=!1;function TD(e,t,n){if(t=t||{},n=new rP(n),t.defaultCountry&&!n.hasCountry(t.defaultCountry)){if(t.v2)throw new sD("INVALID_COUNTRY");throw new Error("Unknown country: ".concat(t.defaultCountry))}var r=function(e,t,n){var r=CD(e,{extractFormattedPhoneNumber:function(e){return function(e,t,n){if(!e)return;if(e.length>SD){if(n)throw new sD("TOO_LONG");return}if(!1===t)return e;var r=e.search(ED);if(r<0)return;return e.slice(r).replace(ID,"")}(e,n,t)}});if(!r)return{};if(!function(e){return e.length>=SP&&vD.test(e)}(r))return function(e){return hD.test(e)}(r)?{error:"TOO_SHORT"}:{};var i=function(e){var t=e.search(mD);if(t<0)return{};for(var n=e.slice(0,t),r=e.match(mD),i=1;i<r.length;){if(r[i])return{number:n,ext:r[i]};i++}}(r);if(i.ext)return i;return{number:r}}(e,t.v2,t.extract),i=r.number,a=r.ext,o=r.error;if(!i){if(t.v2){if("TOO_SHORT"===o)throw new sD("TOO_SHORT");throw new sD("NOT_A_NUMBER")}return{}}var u=function(e,t,n,r){var i,a=RA(rO(e),t,n,r.metadata),o=a.countryCallingCodeSource,u=a.countryCallingCode,s=a.number;if(u)r.selectNumberingPlan(u);else{if(!s||!t&&!n)return{};r.selectNumberingPlan(t,n),t?i=t:$D&&r.isNonGeographicCallingCode(n)&&(i="001"),u=n||cP(t,r.metadata)}if(!s)return{countryCallingCodeSource:o,countryCallingCode:u};var l=OA(rO(s),r),c=l.nationalNumber,d=l.carrierCode,f=HA(u,{nationalNumber:c,defaultCountry:t,metadata:r});f&&(i=f,"001"===f||r.country(i));return{country:i,countryCallingCode:u,countryCallingCodeSource:o,nationalNumber:c,carrierCode:d}}(i,t.defaultCountry,t.defaultCallingCode,n),s=u.country,l=u.nationalNumber,c=u.countryCallingCode,d=u.countryCallingCodeSource,f=u.carrierCode;if(!n.hasSelectedNumberingPlan()){if(t.v2)throw new sD("INVALID_COUNTRY");return{}}if(!l||l.length<SP){if(t.v2)throw new sD("TOO_SHORT");return{}}if(l.length>EP){if(t.v2)throw new sD("TOO_LONG");return{}}if(t.v2){var h=new KP(c,l,n.metadata);return s&&(h.country=s),f&&(h.carrierCode=f),a&&(h.ext=a),h.__countryCallingCodeSource=d,h}var p=!!(t.extended?n.hasSelectedNumberingPlan():s)&&gP(l,n.nationalNumberPattern());return t.extended?{country:s,countryCallingCode:c,carrierCode:f,valid:p,possible:!!p||!(!0!==t.extended||!n.possibleLengths()||!yP(l,n)),phone:l,ext:a}:p?function(e,t,n){var r={country:e,phone:t};n&&(r.ext=n);return r}(s,l,a):{}}function ND(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ND(Object(n),!0).forEach((function(t){AD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OD(Object(n),!0).forEach((function(t){RD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MD(e,t,n){t&&t.defaultCountry&&!dP(t.defaultCountry,n)&&(t=DD(DD({},t),{},{defaultCountry:void 0}));try{return function(e,t,n){return TD(e,PD(PD({},t),{},{v2:!0}),n)}(e,t,n)}catch(qi){if(!(qi instanceof sD))throw qi}}function LD(e,t){return"+"+cP(e,t)}function jD(e,t){return function(){var e=JO(arguments);return MD(e.text,e.options,e.metadata)}(e||"",t)}function FD(e,t){var n=t.prevCountry,r=t.newCountry,i=t.metadata,a=t.useNationalFormat;if(n===r)return e;if(!e)return a?"":r?LD(r,i):"";if(r){if("+"===e[0]){if(a)return 0===e.indexOf("+"+cP(r,i))?function(e,t,n){if(t){var r="+"+cP(t,n);if(e.length<r.length){if(0===r.indexOf(e))return""}else if(0===e.indexOf(r))return e.slice(r.length)}for(var i=0,a=Object.keys(n.country_calling_codes);i<a.length;i++){var o=a[i];if(1===e.indexOf(o))return e.slice(1+o.length)}return""}(e,r,i):"";if(n){var o=LD(r,i);return 0===e.indexOf(o)?e:o}var u=LD(r,i);return 0===e.indexOf(u)?e:u}}else if("+"!==e[0])return UD(e,n,i)||"";return e}function UD(e,t,n){if(e){if("+"===e[0]){if("+"===e)return;var r=new JA(t,n);return r.input(e),r.getNumberValue()}if(t){var i=WD(e,t,n);return"+".concat(cP(t,n)).concat(i||"")}}}function BD(e,t,n){var r=WD(e,t,n);if(r){var i=r.length-function(e,t){return t=new rP(t),t.selectNumberingPlan(e),t.numberingPlan.possibleLengths()[t.numberingPlan.possibleLengths().length-1]}(t,n);if(i>0)return e.slice(0,e.length-i)}return e}function VD(e,t){var n=t.country,r=t.countries,i=t.required,a=t.metadata;if("+"===e)return n;var o=function(e,t){var n=new JA(null,t);return n.input(e),n.getCountry()}(e,a);return o&&(!r||r.indexOf(o)>=0)?o:!n||i||GD(e,n,a)?n:void 0}function qD(e,t,n){if(0===e.indexOf(LD(t,n))){var r=new JA(t,n);r.input(e);var i=r.getNumber();return i?i.formatNational().replace(/\D/g,""):""}return e.replace(/\D/g,"")}function zD(e,t,n){return String.prototype.localeCompare?e.localeCompare(t,n):e<t?-1:e>t?1:0}function WD(e,t,n){var r=new JA(t,n);r.input(e);var i=r.getNumber();return i&&i.nationalNumber}function GD(e,t,n){for(var r=LD(t,n),i=0;i<e.length&&i<r.length;){if(e[i]!==r[i])return!1;i++}return!0}function KD(e){var t=e.value,n=e.phoneNumber,r=e.defaultCountry,i=e.international,a=e.useNationalFormat,o=e.metadata;return(!1===i||a)&&n&&n.country?function(e){return e.formatNational().replace(/\D/g,"")}(n):!t&&i&&r?LD(r,o):t}function HD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HD(Object(n),!0).forEach((function(t){YD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XD(e,t){return null===e&&(e=void 0),null===t&&(t=void 0),e===t}function JD(e){return JD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JD(e)}var ZD=["name","disabled","readOnly","autoComplete","style","className","inputRef","inputComponent","numberInputProps","smartCaret","countrySelectComponent","countrySelectProps","containerComponent","defaultCountry","countries","countryOptionsOrder","labels","flags","flagComponent","flagUrl","addInternationalOption","internationalIcon","displayInitialValueAsLocalNumber","initialValueFormat","onCountryChange","limitMaxLength","countryCallingCodeEditable","focusInputOnCountrySelection","reset","metadata","international","locales"];function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eR(Object(n),!0).forEach((function(t){lR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nR(){return nR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nR.apply(this,arguments)}function rR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aR(e,t){return aR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},aR(e,t)}function oR(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sR(e);if(t){var i=sR(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===JD(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return uR(e)}(this,n)}}function uR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sR(e){return sR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sR(e)}function lR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cR=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aR(e,t)}(o,e);var t,n,r,a=oR(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),lR(uR(t=a.call(this,e)),"setInputRef",(function(e){t.inputRef.current=e;var n=t.props.inputRef;n&&("function"===typeof n?n(e):n.current=e)})),lR(uR(t),"isCountrySupportedWithError",(function(e){return BO(e,t.props.metadata)})),lR(uR(t),"onCountryChange",(function(e){var n=t.props,r=n.international,i=n.metadata,a=n.onChange,o=n.focusInputOnCountrySelection,u=t.state,s=FD(u.phoneDigits,{prevCountry:u.country,newCountry:e,metadata:i,useNationalFormat:!r}),l=UD(s,e,i);o&&t.inputRef.current.focus(),t.setState({country:e,hasUserSelectedACountry:!0,phoneDigits:s,value:l},(function(){a(l)}))})),lR(uR(t),"onChange",(function(e){var n=t.props,r=n.defaultCountry,i=n.onChange,a=n.addInternationalOption,o=n.international,u=n.limitMaxLength,s=n.countryCallingCodeEditable,l=n.metadata,c=t.state,d=c.countries,f=function(e,t){var n,r=t.prevPhoneDigits,i=t.country,a=t.defaultCountry,o=t.countryRequired,u=t.getAnyCountry,s=t.countries,l=t.international,c=t.limitMaxLength,d=t.countryCallingCodeEditable,f=t.metadata;if(l&&!1===d&&i){var h,p=LD(i,f);if(0!==e.indexOf(p))return e&&"+"!==e[0]?h=UD(e=p+e,i,f):e=p,{phoneDigits:e,value:h,country:i}}return!1===l&&i&&e&&"+"===e[0]&&(e=qD(e,i,f)),e&&i&&c&&(e=BD(e,i,f)),!e||"+"===e[0]||i&&!l||(e="+"+e),!e&&r&&"+"===r[0]&&(i=l?void 0:a),"+"===e&&r&&"+"===r[0]&&r.length>1&&(i=void 0),e&&(n="+"===e[0]&&("+"===e||i&&0===LD(i,f).indexOf(e))?void 0:UD(e,i,f)),n&&(i=VD(n,{country:i,countries:s,metadata:f}),!1===l&&i&&e&&"+"===e[0]&&(n=UD(e=qD(e,i,f),i,f))),!i&&o&&(i=a||u()),{phoneDigits:e,country:i,value:n}}(e,{prevPhoneDigits:c.phoneDigits,country:c.country,countryRequired:!a,defaultCountry:r,getAnyCountry:function(){return t.getFirstSupportedCountry({countries:d})},countries:d,international:o,limitMaxLength:u,countryCallingCodeEditable:s,metadata:l}),h=f.phoneDigits,p=f.country,v=f.value,m={phoneDigits:h,value:v,country:p};!1===s&&(v||h!==t.state.phoneDigits||(m.forceRerender={})),t.setState(m,(function(){return i(v)}))})),lR(uR(t),"_onFocus",(function(){return t.setState({isFocused:!0})})),lR(uR(t),"_onBlur",(function(){return t.setState({isFocused:!1})})),lR(uR(t),"onFocus",(function(e){t._onFocus();var n=t.props.onFocus;n&&n(e)})),lR(uR(t),"onBlur",(function(e){var n=t.props.onBlur;t._onBlur(),n&&n(e)})),lR(uR(t),"onCountryFocus",(function(e){t._onFocus();var n=t.props.countrySelectProps;if(n){var r=n.onFocus;r&&r(e)}})),lR(uR(t),"onCountryBlur",(function(e){t._onBlur();var n=t.props.countrySelectProps;if(n){var r=n.onBlur;r&&r(e)}})),t.inputRef=i.createRef();var n=t.props,r=n.value,u=(n.labels,n.international),s=n.addInternationalOption,l=n.displayInitialValueAsLocalNumber,c=n.initialValueFormat,d=n.metadata,f=t.props,h=f.defaultCountry,p=f.countries;h&&(t.isCountrySupportedWithError(h)||(h=void 0)),p=VO(p,d);var v=jD(r,d);t.CountryIcon=KO(t.props);var m=function(e){var t,n=e.value,r=e.phoneNumber,i=e.defaultCountry,a=e.getAnyCountry,o=e.countries,u=e.required,s=e.metadata;return r&&r.country?t=r.country:i&&(n&&!GD(n,i,s)||(t=i)),o&&o.indexOf(t)<0&&(t=void 0),!t&&u&&o&&o.length>0&&(t=a()),t}({value:r,phoneNumber:v,defaultCountry:h,required:!s,countries:p||qO(d),getAnyCountry:function(){return t.getFirstSupportedCountry({countries:p})},metadata:d});return t.state={props:t.props,country:m,countries:p,phoneDigits:KD({value:r,phoneNumber:v,defaultCountry:h,international:u,useNationalFormat:l||"national"===c,metadata:d}),value:r},t}return t=o,n=[{key:"componentDidMount",value:function(){var e=this.props.onCountryChange,t=this.props.defaultCountry,n=this.state.country;e&&(t&&(this.isCountrySupportedWithError(t)||(t=void 0)),n!==t&&e(n))}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.onCountryChange,r=this.state.country;n&&r!==t.country&&n(r)}},{key:"getCountrySelectOptions",value:function(e){var t=e.countries,n=this.props,r=n.international,i=n.countryCallingCodeEditable,a=n.countryOptionsOrder,o=n.addInternationalOption,u=n.labels,s=n.locales,l=n.metadata;return this.useMemoCountrySelectOptions((function(){return function(e,t){if(!t)return e;for(var n,r=[],i=[],a=r,o=FO(t);!(n=o()).done;){var u=n.value;"|"===u?a.push({divider:!0}):"..."===u||"\u2026"===u?a=i:function(){var t=void 0;t="\ud83c\udf10"===u?void 0:u;var n=e.indexOf(e.filter((function(e){return e.value===t}))[0]),r=e[n];e.splice(n,1),a.push(r)}()}return r.concat(e).concat(i)}(function(e){var t=e.countries,n=e.countryNames,r=e.addInternationalOption,i=e.compareStringsLocales,a=e.compareStrings;a||(a=zD);var o=t.map((function(e){return{value:e,label:n[e]||e}}));return o.sort((function(e,t){return a(e.label,t.label,i)})),r&&o.unshift({label:n.ZZ}),o}({countries:t||qO(l),countryNames:u,addInternationalOption:(!r||!1!==i)&&o,compareStringsLocales:s}),function(e,t){if(e&&(e=e.filter((function(e){switch(e){case"\ud83c\udf10":case"|":case"...":case"\u2026":return!0;default:return BO(e,t)}}))).length>0)return e}(a,l))}),[t,a,o,u,l])}},{key:"useMemoCountrySelectOptions",value:function(e,t){return this.countrySelectOptionsMemoDependencies&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;){if(e[n]!==t[n])return!1;n++}return!0}(t,this.countrySelectOptionsMemoDependencies)||(this.countrySelectOptionsMemo=e(),this.countrySelectOptionsMemoDependencies=t),this.countrySelectOptionsMemo}},{key:"getFirstSupportedCountry",value:function(e){var t=e.countries;return this.getCountrySelectOptions({countries:t})[0].value}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.disabled,r=e.readOnly,a=e.autoComplete,o=e.style,u=e.className,s=(e.inputRef,e.inputComponent),l=e.numberInputProps,c=e.smartCaret,d=e.countrySelectComponent,f=e.countrySelectProps,h=e.containerComponent,p=(e.defaultCountry,e.countries,e.countryOptionsOrder,e.labels),v=(e.flags,e.flagComponent,e.flagUrl,e.addInternationalOption,e.internationalIcon,e.displayInitialValueAsLocalNumber,e.initialValueFormat,e.onCountryChange,e.limitMaxLength,e.countryCallingCodeEditable,e.focusInputOnCountrySelection,e.reset,e.metadata),m=(e.international,e.locales,rR(e,ZD)),y=this.state,g=y.country,b=y.countries,w=y.phoneDigits,k=y.isFocused,_=c?lO:hO,x=this.getCountrySelectOptions({countries:b});return i.createElement(h,{style:o,className:TN(u,"PhoneInput",{"PhoneInput--focus":k,"PhoneInput--disabled":n,"PhoneInput--readOnly":r})},i.createElement(d,nR({name:t?"".concat(t,"Country"):void 0,"aria-label":p.country},f,{value:g,options:x,onChange:this.onCountryChange,onFocus:this.onCountryFocus,onBlur:this.onCountryBlur,disabled:n||f&&f.disabled,readOnly:r||f&&f.readOnly,iconComponent:this.CountryIcon})),i.createElement(_,nR({ref:this.setInputRef,type:"tel",autoComplete:a},l,m,{name:t,metadata:v,country:g,value:w||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,disabled:n,readOnly:r,inputComponent:s,className:TN("PhoneInputInput",l&&l.className,m.className)})))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return tR({props:e},function(e,t,n){var r=e.metadata,i=e.countries,a=e.defaultCountry,o=e.value,u=e.reset,s=e.international,l=e.displayInitialValueAsLocalNumber,c=e.initialValueFormat,d=t.defaultCountry,f=t.value,h=t.reset,p=(n.country,n.value),v=n.hasUserSelectedACountry,m=function(e){return KD(QD(QD({},e),{},{international:s,useNationalFormat:l||"national"===c,metadata:r}))};if(u!==h)return{phoneDigits:m({value:void 0,defaultCountry:a}),value:void 0,country:a,hasUserSelectedACountry:void 0};if(a!==d){var y=!a||BO(a,r),g=!p||s&&p===m({value:void 0,defaultCountry:d});if(!v&&y&&!o&&g)return{country:a,phoneDigits:m({value:void 0,defaultCountry:a}),value:void 0}}if(!XD(o,f)&&!XD(o,p)){var b,w,k;if(o){b=jD(o,r);var _=VO(i,r);b&&b.country?(!_||_.indexOf(b.country)>=0)&&(w=b.country):(w=VD(o,{country:void 0,countries:_,metadata:r}))||a&&0===o.indexOf(LD(a,r))&&(w=a)}return o||(k={hasUserSelectedACountry:void 0}),QD(QD({},k),{},{phoneDigits:m({phoneNumber:b,value:o,defaultCountry:a}),value:o,country:o?w:a})}}(e,t.props,t))}}],n&&iR(t.prototype,n),r&&iR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.PureComponent),dR=i.forwardRef((function(e,t){return i.createElement(cR,nR({},function(e){for(var t in e=tR({},e),fR)void 0===e[t]&&(e[t]=fR[t]);return e}(e),{inputRef:t}))}));dR.propTypes={value:EN.string,onChange:EN.func.isRequired,onFocus:EN.func,onBlur:EN.func,disabled:EN.bool,readOnly:EN.bool,autoComplete:EN.string,initialValueFormat:EN.oneOf(["national"]),displayInitialValueAsLocalNumber:EN.bool,defaultCountry:EN.string,countries:EN.arrayOf(EN.string),labels:$N,locales:EN.oneOfType([EN.string,EN.arrayOf(EN.string)]),flagUrl:EN.string,flags:EN.objectOf(EN.elementType),flagComponent:EN.elementType,addInternationalOption:EN.bool,internationalIcon:EN.elementType,countryOptionsOrder:EN.arrayOf(EN.string),style:EN.object,className:EN.string,countrySelectComponent:EN.elementType,countrySelectProps:EN.object,inputComponent:EN.elementType,containerComponent:EN.elementType,numberInputProps:EN.object,smartCaret:EN.bool,international:EN.bool,limitMaxLength:EN.bool,countryCallingCodeEditable:EN.bool,metadata:IN,onCountryChange:EN.func,focusInputOnCountrySelection:EN.bool};var fR={autoComplete:"tel",countrySelectComponent:CO,flagComponent:NO,flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",internationalIcon:MO,inputComponent:"input",containerComponent:"div",reset:EN.any,smartCaret:!0,addInternationalOption:!0,countryCallingCodeEditable:!0,focusInputOnCountrySelection:!0};var hR=dR;var pR=["metadata","labels"];function vR(){return vR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vR.apply(this,arguments)}function mR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yR(e){var t=i.forwardRef((function(t,n){var r=t.metadata,a=void 0===r?e:r,o=t.labels,u=void 0===o?SN:o,s=mR(t,pR);return i.createElement(hR,vR({},s,{ref:n,metadata:a,labels:u}))}));return t.propTypes={metadata:IN,labels:$N},t}yR();var gR=yR({version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|7(?:[013-57-9]\\d|2[0-8]))\\d|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90)))\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|3\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:(?:79|94)[01]|83[0-389])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[0-36-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|22"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","[025-7]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[025-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","[24-689]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]]]],BL:["590","00","590\\d{6}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-5])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","(?:[2-467]\\d\\d|8001)\\d{5}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[23]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","(?:[1-46-9]\\d\\d|5(?:[0-46-9]\\d|5[0-46-9]))\\d{8}|[1-9]\\d{9}|[3589]\\d{8}|[34]\\d{7}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","4(?:02|37)0|[34]00"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","(?:[2-8]\\d|90)\\d{8}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|50|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:00|2[125-9]|33|44|66|77|88)|622)[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:(?:79|94)[01]|83[0-389])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[0-36-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","[189]\\d{8}|[1-68]\\d{6}",[7,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9[2-9]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","1[127]\\d{8,9}|2\\d{9}(?:\\d{2})?|[12]\\d{6,7}|86\\d{6}|(?:1[03-689]\\d|6)\\d{7,9}|(?:[3-579]\\d|8[0-57-9])\\d{6,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]","(?:10|2[0-57-9])(?:10|9[56])","10(?:10|9[56])|2[0-57-9](?:100|9[56])"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:60\\d\\d|9101)\\d{6}|(?:1\\d|3)\\d{9}",[10,11],[["(\\d{3})(\\d{7})","$1 $2",["6"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|91"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","[27]\\d{6,7}|[34]\\d{5,7}|63\\d{6}|(?:5|8\\d\\d)\\d{7}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:(?:79|94)[01]|83[0-389])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[0-36-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|31)"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:1[3-79]|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0235])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-2]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","[56]94\\d{6}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[56]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","590\\d{6}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-5])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","(?:[24-69]\\d|3[0-79])\\d{7}|80\\d{5,7}|[1-79]\\d{7}|6\\d{5,6}",[6,7,8,9],[["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","(?:[2-489]\\d|55)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","(?:(?:00[1-9]|8\\d)\\d{4}|[1-36])\\d{6}|00\\d{10}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],0,0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["[36]|4(?:2[09]|7[01])","[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[257-9]"],"0$1"]],"0",0,"(000[259]\\d{6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["30[013-9]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[245]\\d|33|77|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(8-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"8 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(8-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(8-$1)",1]],"8",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-4]|5[01]|8[0-3]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","590\\d{6}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-5])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[45]|6(?:0[23]|[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-6]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","596\\d{6}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","1(?:(?:22|44|7[27]|87|99)[1-9]|65[0-689])\\d{7}|(?:1(?:[01]\\d|2[13-9]|[35][1-9]|4[0-35-9]|6[0-46-9]|7[013-689]|8[1-69]|9[1-8])|[2-9]\\d)\\d{8}",[10,11],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"],0,1],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 $3 $4",["1(?:33|5[56]|81)"],0,1],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 $3 $4",["1"],0,1]],"01",0,"0(?:[12]|4[45])|1",0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[047]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","2[0-24-9]\\d{8}|[78]\\d{10,13}|[7-9]\\d{9}|[1-9]\\d{7}|[124-7]\\d{6}",[7,8,10,11,12,13,14],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["78"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|9(?:0[3-9]|[1-9])"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[3-6]|7(?:0[0-689]|[1-79])|8[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:444|(?:55|8\\d)\\d|666)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[4-68]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|80\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[16]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2689]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["69(?:2\\d\\d|3(?:[06][0-6]|1[013]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-5]|76(?:2[27]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,"3[04-689]|[489]",0,"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","92\\d{7}|(?:[15]|8\\d)\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["81"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","(?:[1-6]|[7-9]\\d\\d)\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","800\\d{4}|(?:[249]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|77|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|68|[78]\\d)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-8]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-39]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|[69]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2679]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3[1-5]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","[1-6]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["6"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["(?:5056(?:[0-35-9]\\d|4[468])|7302[0-3]\\d)\\d{4}|(?:472[24]|505[2-57-9]|7306|983[2-47-9])\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[013569]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[1247]|4[037]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[068]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",[6,7,8,9,10,11,12,13],[["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","810","(?:20|33|[5-79]\\d|88)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72)\\d{4}|8\\d{5}(?:\\d{3})?",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[478]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|63|[79]\\d)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[79]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[35-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[35-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,0,0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}});var bR=function(){var e=(0,i.useRef)(null),t="r-a4WdmKt1jr0njGg",n="service_9k4k603",r="template_wsaffu5",a=d((0,i.useState)({fullName:"",address:"",emailAddress:"",phoneNumber:"",question:"",agreeTermsAndPrivacyPolicy:!1}),2),o=a[0],u=a[1];console.log(o);var s=d((0,i.useState)(null),2),l=s[0],c=s[1],f=d((0,i.useState)(!1),2),h=f[0],p=f[1],v=d((0,i.useState)(!1),2),m=v[0],y=v[1],g=d((0,i.useState)(!1),2),b=g[0],w=g[1],k=(0,i.useRef)(null),_=function(){var e=S(x().mark((function e(i){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.preventDefault(),!l){e.next=9;break}if(!k.current){e.next=8;break}return y(!0),e.next=6,kN(n,r,k.current,{publicKey:t}).then((function(){console.log("SUCCESS!"),y(!1),p(!0),w(!1)}),(function(e){console.log("FAILED...",e.text),y(!1),w(!0)}));case 6:e.next=9;break;case 8:y(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e,t){u(lr(lr({},o),{},E({},e,t)))};(0,i.useEffect)((function(){if(h){var e=setTimeout((function(){p(!1)}),5e3);return function(){return clearTimeout(e)}}}),[h]);return(0,_T.jsx)("section",{className:"w-full min-h-[70vh] flex flex-col items-center justify-center font-inter text-left pb-10 xl:pb-0",children:(0,_T.jsxs)("div",{className:"w-full lg:w-[1000px] xl:w-[90%] h-full flex flex-col items-center justify-center",children:[(0,_T.jsx)("h1",{className:"text-[18px] sm:text-[35px] lg:text-[50px] font-[600] w-[90%] md:w-[80%] lg:w-[65%] bg-[#2e3092] text-white px-10 leading-[40px] sm:leading-[55px] sm:my-6",children:"Contact Us"}),(0,_T.jsxs)("form",{ref:k,onSubmit:function(e){return _(e)},className:"flex flex-col items-center justify-center space-y-5 h-full w-[90%] md:w-[80%] lg:w-[65%] mt-5 sm:mt-0 p-5 border-2",children:[(0,_T.jsx)("span",{className:"text-[12px] sm:text-[18px] text-[#e65757] font-[500] w-full",children:"*Required information"}),(0,_T.jsxs)("div",{className:"w-full flex flex-col",children:[(0,_T.jsxs)("span",{className:"font-[400] font-[roboto] mb-1 text-[12px] sm:text-[18px] uppercase flex justify-start",children:["Full Name  ",(0,_T.jsx)("span",{className:"text-[#e65757] mx-1 font-[600]",children:"*"})," "]}),(0,_T.jsx)("input",{onChange:function(e){return C("fullName",e.target.value)},placeholder:"Enter full name here",required:!0,className:"w-[100%] mb-1 bg-white text-[10px] sm:text-[16px] focus:outline-none p-3 py-2 rounded-[17px] border-[2px]",type:"text",name:"fullName"})]}),(0,_T.jsxs)("div",{className:"w-full flex flex-col",children:[(0,_T.jsxs)("span",{className:"font-[400] font-[roboto] mb-1 text-[12px] sm:text-[18px] uppercase flex justify-start",children:["Address  ",(0,_T.jsx)("span",{className:"text-[#e65757] mx-1 font-[600]",children:"*"})," "]}),(0,_T.jsx)("input",{onChange:function(e){return C("address",e.target.value)},placeholder:"Enter address here",required:!0,className:"w-[100%] mb-1 bg-white text-[10px] sm:text-[16px] focus:outline-none p-3 py-2 rounded-[17px] border-[2px]",type:"text",name:"address"})]}),(0,_T.jsxs)("div",{className:"w-full flex flex-col sm:flex-row items-center justify-between space-y-5 sm:space-y-0 sm:space-x-4",children:[(0,_T.jsxs)("div",{className:"w-full flex flex-col",children:[(0,_T.jsxs)("span",{className:"font-[400] font-[roboto] mb-1 text-[12px] sm:text-[18px] uppercase flex justify-start",children:["Email Address  ",(0,_T.jsx)("span",{className:"text-[#e65757] mx-1 font-[600]",children:"*"})," "]}),(0,_T.jsx)("input",{onChange:function(e){return C("emailAddress",e.target.value)},placeholder:"example@domain.com",required:!0,className:"w-[100%] mb-1 bg-white text-[10px] sm:text-[16px] focus:outline-none p-3 py-2 rounded-[17px] border-[2px]",type:"text",name:"emailAddress"})]}),(0,_T.jsxs)("div",{className:"w-full flex flex-col",children:[(0,_T.jsxs)("span",{className:"font-[400] font-[roboto] mb-1 text-[12px] sm:text-[18px] uppercase flex justify-start",children:["Phone Number  ",(0,_T.jsx)("span",{className:"text-[#e65757] mx-1 font-[600]",children:"*"})," "]}),(0,_T.jsx)("div",{className:"mb-1 bg-white text-[10px] sm:text-[16px] focus:outline-none p-3 py-2 rounded-[17px] border-[2px]",children:(0,_T.jsx)(gR,{onChange:function(e){return C("phoneNumber",e)},className:"",placeholder:"+1 (number)"})})]})]}),(0,_T.jsxs)("div",{className:"w-full flex flex-col",children:[(0,_T.jsxs)("span",{className:"font-[400] font-[roboto] mb-1 text-[12px] sm:text-[18px] uppercase flex justify-start",children:["Question / Comment  ",(0,_T.jsx)("span",{className:"text-[#e65757] mx-1 font-[600]",children:"*"})," "]}),(0,_T.jsx)("textarea",{ref:e,placeholder:"Enter your question or comment here",rows:1,className:"w-[100%] mb-1 bg-white text-[10px] resize-none sm:text-[16px] focus:outline-none p-3 py-2 rounded-[17px] border-[2px]",onInput:function(){var t=e.current;t&&(t.style.height="auto",t.style.height="".concat(t.scrollHeight+5,"px"))},onChange:function(e){return C("message",e.target.value)},name:"message",required:!0})]}),(0,_T.jsxs)("div",{className:"w-full flex flex-col lg:flex-row items-center justify-between space-y-4 sm:space-y-0 h-full",children:[(0,_T.jsxs)("div",{className:"w-full lg:w-[60%] flex flex-col justify-start h-[200px]",children:[(0,_T.jsxs)("div",{className:"w-full flex items-center space-x-2 text-[10px]  sm:text-[16px] font-[600] ",children:[(0,_T.jsx)("input",{onChange:function(e){return C("agreeTermsAndPrivacyPolicy",e.target.checked)},value:o.agreeTermsAndPrivacyPolicy,type:"checkbox",required:!0}),(0,_T.jsxs)("span",{children:["By submitting this form you agree to the ",(0,_T.jsx)(nn,{className:"text-[blue] hover:border-b border-[blue]",to:"/terms-and-services",children:"terms "})," and ",(0,_T.jsx)(nn,{className:"text-[blue] hover:border-b border-[blue]",to:"/privacy-policy",children:"Privacy Policy."}),"  "]})]}),(0,_T.jsxs)("div",{className:"flex flex-wrap items-start justify-start w-full sm:space-x-4 m-auto",children:[(0,_T.jsx)(CN,{setIsVerifed:c}),(0,_T.jsx)("button",{className:"\n                    ".concat(m?"!text-white animate-pulse !bg-blue-500":b?"!bg-red-500 !text-white":h?"!bg-green-600 !text-white":"","\n\n                     p-4 px-8 sm:p-6 sm:px-14 bg-[#9ed41e] text-white rounded-[15px] text-[14px] sm:text-[18px] font-[500] uppercase transition-all duration-500\n                    "),children:(0,_T.jsx)("span",{className:"mx-1",children:m?"Loading...":b?"Error, please try again":h?"Message sent successfully":"Submit"})})]})]}),(0,_T.jsx)("div",{className:"w-full lg:w-[40%] flex flex-col items-start lg:items-end justify-end",children:(0,_T.jsxs)("div",{className:"",children:[(0,_T.jsx)("img",{className:"h-[120px] hidden sm:block",src:"contant-us-form.jpg",alt:""}),(0,_T.jsx)("div",{className:"flex flex-wrap items-center justify-start sm:justify-between my-2",children:[{icon:"facebook",link:"https://www.facebook.com/"},{icon:"whatsapp",link:"https://web.whatsapp.com/"},{icon:"twitter",link:"https://x.com/"},{icon:"instagram",link:"https://www.instagram.com/"}].map((function(e,t){return(0,_T.jsx)(nn,{className:"sm:h-[50px] w-[50px] m-1",target:"_blank",to:e.link,children:(0,_T.jsx)("img",{className:"rounded-full",src:e.icon+"-icon.png",alt:e.icon})},t)}))})]})})]})]})]})})},wR=function(){return(0,_T.jsxs)(_T.Fragment,{children:[(0,_T.jsx)("section",{className:"w-full xl:min-h-[70vh] flex items-center justify-center lg:mt-28 font-inter text-left pt-10 xl:pt-0",children:(0,_T.jsxs)("div",{className:"flex flex-col xl:flex-row items-center justify-between w-full xl:w-[65%] h-full",children:[(0,_T.jsxs)("div",{className:"w-[90%] sm:w-[80%] lg:w-[52%] flex flex-col items-start justify-center",children:[(0,_T.jsx)("div",{className:"w-full my-6",children:(0,_T.jsx)("img",{src:"/Colored-Arrows.jpg",alt:""})}),(0,_T.jsx)("h1",{className:"font-[700] text-[20px] sm:text-[25px] xl:text-[35px]",children:"How Can We Help You?"}),(0,_T.jsx)("p",{className:"font-[500] text-[14px] lg:text-[20px] text-[#00000099] mt-4 mb-6 lg:leading-[35px] text-justify",children:"We at EZDataMigration are thrilled that you're interested in our top-tier cloud data migration solutions. Whether you're seeking to seamlessly transfer your data from old to new systems, synchronize data from on-premise to the cloud, or need assistance with complex database migrations, EZDataMigration is here to make your data transition a smooth and successful journey."})]}),(0,_T.jsxs)("div",{className:"w-[90%] sm:w-[80%] lg:w-[52%] xl:w-[40%] flex flex-col items-start justify-center",children:[(0,_T.jsx)("p",{className:"font-[500] text-[14px] lg:text-[20px] text-[#00000099] mt-4 mb-2 lg:leading-[35px] text-justify",children:"At EZDataMigration, we specialize in a wide range of cloud data moving services tailored to meet your unique requirements. We're excited to collaborate with you on your cloud data migration journey. If you have questions, need a customized solution, or want to discuss specific requirements, please don't"}),(0,_T.jsxs)("p",{className:"font-[600] text-[14px] lg:text-[20px] w-full text-[#00000099] text-justify items-center justify-between tracking-widest whitespace-nowrap hidden xl:flex",children:[(0,_T.jsx)("span",{children:"h e s i t a t e"}),(0,_T.jsx)("span",{children:"t o"}),(0,_T.jsx)("span",{children:"c o n t a c t"}),(0,_T.jsx)("span",{children:"u s ."})]}),(0,_T.jsx)("p",{className:"font-[500] text-[14px] lg:text-[20px] text-[#00000099] lg:leading-[35px] text-justify my-10 xl:my-20",children:"Our team is ready to provide you with expert guidance and a comprehensive understanding of how EZDM can facilitate a seamless transition for your data. Trust us to handle the technical intricacies while you focus on your core business objectives. Call us today and let's migrate your data."})]})]})}),(0,_T.jsx)(bR,{}),(0,_T.jsx)(YT,{})]})},kR=function(){var e=xt();return(0,i.useEffect)((function(){window.scrollTo(0,0)}),[e]),null},_R=function(e){var t=e.title,n=e.desc;return(0,_T.jsxs)("div",{className:"text-left",children:[(0,_T.jsx)("span",{className:"font-[600] text-[14px] sm:text-[22px] sm:leading-[26px]",children:t}),(0,_T.jsx)("p",{className:"font-[500] text-[10px] sm:text-[20px] sm:leading-[26px] text-[#00000099] whitespace-pre-wrap",children:n})]})},xR=function(){return(0,_T.jsx)("div",{children:(0,_T.jsx)("section",{className:"w-full min-h-[110vh] flex flex-col items-center justify-center font-inter py-16 sm:py-48 text-left",children:(0,_T.jsxs)("div",{className:"w-[90%] lg:w-[67.5%] flex flex-col items-start justify-end font-inter",children:[(0,_T.jsx)("h1",{className:" text-[25px] sm:text-[45px] xl:text-[50px] font-[700] leading-[60.51px] w-full text-center my-5 sm:my-10",children:"Privacy Policy"}),(0,_T.jsx)("div",{className:"flex flex-col items-start justify-start space-y-10",children:[{desc:"This privacy policy, together with terms of use and any other document related to it, aims to help you (\u201cclient,\u201d \u201ccustomer\u201d) to understand what information EZDataMigration (\u201cWe,\u201d \u201cUs\u201d) will collect and how it will use it. At EZDataMigration, we strive to help our clients ensure the best quality of their databases by ensuring availability and top-notch technologies for data cleansing, validation, supply, and management.\nWe are committed to ensuring high protection and respect for your privacy, and we comply with any laws and regulations regarding your data and how to deal with it."},{title:"CAREFULLY READY AND UNDERSTAND HOW TO USE OUR SERVICES AND HOW WE COLLECT YOUR DATA."},{title:"Information We Collect",desc:"We shall collect and/or access client data to facilitate the data transfer appropriately and lawfully, according to the applicable data protection regulations. We comply with Iocal data protection laws in every jurisdiction in which we operate. \nThe information we collect may include:\n1. Your name and job title\n2. Contact details, including mobile phone number, email and more. \n3. Company information, including business name, address relating to your business and/ or your role in the company, size, and nature of business, website details related to the business, and the company switchboard."},{title:"How We Collect Data",desc:"EZDataMigration collects the information mentioned above in various ways, including: \n1. From our day-to-day conversation with our clients through phone, emails, and meetings. \n2. Through publicly accessible websites, like the company site and social media. \n3. Buying from lists that legally acquire potential customers that may be interested in your services. \n4. Through shows and similar events."},{title:"How We Use the Information",desc:"EZDataMigration may use the above information in various ways, including:"},{desc:"1. Marketing our products and services through direct marketing means like email, telephone, and direct mail. \n2. Analyzing the data to improve marketing strategies for our services. \n3. Completing obligations from any contracts between us and our clients. \n4. Answering questions and managing credit control/invoicing tasks on your account. \n5. Sending notifications on any changes in our products and services, this privacy policy, or our terms of use"},{title:"Data Storage and Data Security",desc:"We store clients\u2019 data in a central CRM solution and other tools like business email, spreadsheets, mobile phones, and phone systems. The law offers provision for such data to be collected and used legally in the organization's interest, as long as it does not impact the rights of individuals and companies."},{desc:"Regarding any Personal Data that may be part of the data migration process, we/you acknowledge your right to:"},{desc:"1. Have any such data migrated from a third-party platform to your account within the framework of our services?\n2. Disclose such data to EZDataMigration within the framework of our services ordered or when you need technical support.\n3. Allow EZDataMigration to disclose such information of:\n4. Any privacy law enforcement agency\n5. Any other party with the right, in accordance with Data Protection Laws, to acquire such data."},{desc:"EZDataMigration\u2019s business involves acting as a data processor, processing our clients\u2019 data. We do not use this data in any way other than as instructed by our client. Proper technical and organizational measures are taken against unauthorized or unlawful data processing and accidental loss, destruction, or damage to your data."},{title:"Your Rights",desc:"As our client, you have the right to:"},{desc:"1. Request and access information, whether or not our team is processing your personal data, and how and why it is processed.\n2. Object processing of your personal data for marketing purposes.\n3. Obtain correction of any inaccurate data concerning you or your company as processed by EZDataMigration.\n4. Erasure of personal data we hold when it is no longer required."},{title:"Declaimer and Indemnity",desc:"WE ARE NOT LIABLE FOR LOSS OF DATA DURING DATA MIGRATION PROCESS, OR BACKING IT UP, OR ANY FAILURE IN PERFORMANCE, OR ANY OBLIGATION REGARDING MIGRATION SERVICE ORDERS CAUSED BY ANY ACT OR EVENT BEYOND OUR CONTROL. YOU ACCEPT TO INDEMNIFY AND HOLD EZDataMigration AND ITS AFFILIATES HARMLESS FROM ANY AND ALL DIRECT THIRD-PARTY CLAIMS, LIABILITY, AND EXPENSES FROM THE USE OF OUR SERVICES. In our sole discretion and at our own expense, we reserve the right to assume defense and control of any claims."}].map((function(e,t){return(0,_T.jsx)(_R,lr({},e),t)}))})]})})})},CR=function(){return(0,_T.jsx)("div",{children:(0,_T.jsx)("section",{className:"w-full min-h-[100vh] flex flex-col items-center justify-center py-16 sm:py-48 font-inter text-left",children:(0,_T.jsxs)("div",{className:"w-[90%] lg:w-[67.5%] flex flex-col items-start justify-end font-inter",children:[(0,_T.jsx)("h1",{className:"text-[25px] sm:text-[45px] font-[700] leading-[60.51px] w-full text-center my-5 sm:my-10",children:"Terms and Services"}),(0,_T.jsx)("div",{className:"flex flex-col items-start justify-start space-y-10",children:[{title:"Preliminary",desc:"These Data Migration terms of services create the terms and conditions under which you can use our platform and services. As our Client, you must agree to our Data Migration Terms and Privacy Policy when you use our platform and its services. \nThese terms and services from EZDataMigration outline the Client's responsibilities throughout the project. These terms are included and form part of the Agreement with our Client for providing data migration services in an orderly manner after signing the form or provision. \nThese terms of service are only applicable to data migration services."},{title:"PLEASE READ THESE TERMS CAREFULLY TO ENSURE EFFICIENT AND EFFECTIVE SERVICE DELIVERY."},{title:"Client Responsibilities:",desc:"You, our Client, are responsible for the following:"},{desc:"1. To provide EZDataMigration with resources to allow EZDataMigration to deliver Data Migration Services, including but not limited to, wherever possible: account credentials details and everything necessary for accessing client data; access to client system wherever necessary.\n2. Transference of correct database backup version of the backup to EZDataMigration through defined cloud storage services. EZDataMigration is not responsible for creating a backup at the system of record, as it is your responsibility to ensure any data lost during transfer is fully recoverable.\n3. Ensure all information accessed by EZDataMigration is accurate, complete, and updated.\n4. Give complete information on their requirements and expectations in a timely manner when making requests.\n5. Review the migrated data carefully, thoroughly check it, and report on time. Since you understand your business better, you are responsible for identifying data issues.\n6. Understand limiting factors to data migration and work with EZDataMigration for proper solutions.\n7. Ensure that the SQL Backup file is easily restored by any database technology: MySQL, PostgreSQL, Amazon Redshift, or any other. In case the backup file cannot be restored according to the provided methods, the Client will need to ask their system of origin for a file that can be restored.\n8. As much as possible, avoid making any changes to the project tracker fields after the finalized mapping requirements, as any such changes will result in delays and increased costs."},{title:"Our Responsibilities:",desc:"EZDataMigration is responsible for:"},{desc:"1. Performing data migration services using proper technology, care, and skill.\n2. Take every measure to meet any processing or migration times. However, any time communicated by EZDataMigration is majorly an estimate, and any delay in meeting such times does not give the Client service termination unless a reasonable reason for successful migration mentioned in your request and specifications has elapsed.\n3. Keeping the Client\u2019s data safe and confidential during the migration process and providing any related support as requested.\n4. Complying with all applicable laws, statutes, and regulations to ensure sincerity.\n5. Ensuring client satisfaction and delivering efficient data migration services focusing on data security."},{desc:"Client warrants that it has all the legal rights, title, and interest to give EZDataMigration access to its Data, including, wherever possible, direct access to the client portal. We at EZDataMigration are committed to helping our clients achieve high-end data migration quickly and efficiently. THESE TERMS ARE SUBJECT TO LIMITATIONS ON LIABILITY SET FORTH BETWEEN EZDataMigration AND ITS CLIENT IN THE PRIVACY POLICY SECTION."}].map((function(e,t){return(0,_T.jsx)(_R,lr({},e),t)}))})]})})})},SR=function(){return(0,_T.jsx)("section",{className:"w-full min-h-[100vh] flex flex-col items-center justify-center py-16 sm:py-48 font-inter text-left",children:(0,_T.jsxs)("div",{className:"w-[90%] lg:w-[67.5%] flex flex-col items-center justify-center font-oswald",children:[(0,_T.jsx)("h1",{className:"text-[40vw] sm:text-[250px]",children:"404"}),(0,_T.jsx)("h2",{className:"text-[10vw] sm:text-[50px]",children:"Page not found"})]})})},ER=function(){var e=Ft();return console.log(e),404===e.error?(0,_T.jsx)(SR,{}):(0,_T.jsx)(_T.Fragment,{children:(0,_T.jsx)("section",{className:"w-full min-h-[100vh] flex flex-col items-center justify-center py-16 sm:py-48 font-inter text-left",children:(0,_T.jsxs)("div",{className:"w-[90%] lg:w-[67.5%] flex flex-col items-center justify-end font-inter text-center",children:[(0,_T.jsx)("h1",{className:"text-[16px] sm:text-[45px] font-[700] w-full text-center my-5 sm:my-10",children:e.title}),(0,_T.jsx)("p",{className:"font-[400] text-[12px] lg:text-[20px] text-[#00000099] lg:leading-[26px] text-center w-full",children:e.desc}),(0,_T.jsx)(qT,{title:"MORE SEVICES",className:"sm:py-[20px] sm:px-[40.055px] whitespace-nowrap mt-8 sm:w-[177px] sm:text-[14px] font-[600]",to:"/our-services"})]})})})},IR=function(){var e=S(x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n=[{title:"Data Migration",desc:"We specialize in migrating your data from your old system to a new one. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",serviceName:"data-migraiton"},{title:"Side by Side Data Synchronization: ",desc:"Transitioning from on-premise to the cloud? Our side-by-side data  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",serviceName:"data-synchronization"},{title:"Database Migration",desc:"Migrating data from PostgreSQL or MySQL to Amazon Redshift?",serviceName:"migration"},{title:"RDS to Aurora Migration",desc:"Upgrade from Amazon RDS to Aurora for enhanced performance and scalability Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",serviceName:"rds-to-aurora-migration"},{title:"EC2/On-premise to RDS Migration",desc:"Moving from EC2 instances or on-premise servers to Amazon RDS?  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",serviceName:"ec2-on-premise-to-rds-migraiton"},{title:"Aurora Setup from Scratch",desc:"Leverage the power of Amazon Aurora with our setup- from-scratch  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",serviceName:"aurora-setup-from-scratch"},{title:"Table Partitioning for PostgreSQL",desc:"Enhance the performance of your PostgreSQL database with our table  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",serviceName:"table-partitioning-for-postgresql"}].find((function(e){return e.serviceName===t})),e.abrupt("return",n||{error:404});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function $R(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var TR=function e(t,n){function r(e,r,i){if("undefined"!==typeof document){"number"===typeof(i=$R({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var o in i)i[o]&&(a+="; "+o,!0!==i[o]&&(a+="="+i[o].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+a}}return Object.create({set:r,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var a=n[i].split("="),o=a.slice(1).join("=");try{var u=decodeURIComponent(a[0]);if(r[u]=t.read(o,u),e===u)break}catch(s){}}return e?r[e]:r}},remove:function(e,t){r(e,"",$R({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,$R({},this.attributes,t))},withConverter:function(t){return e($R({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),NR=function(){var e=d((0,i.useState)({username:"",password:""}),2),t=e[0],n=e[1],r=d((0,i.useState)(!1),2),a=(r[0],r[1]),o=function(){var e=S(x().mark((function e(n){var r,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=2,e.next=5,fetch("".concat(OR,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 5:if(!(r=e.sent).ok){e.next=14;break}return e.next=9,r.json();case 9:i=e.sent,console.log(i.token),i.token?TR.set("authToken",JSON.stringify(i.token),{HttpOnly:!0,secure:!0}):console.error("Token not found in response"),e.next=15;break;case 14:console.error("Failed to login");case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),console.error("Error occurred during login:",e.t0);case 20:e.next=23;break;case 22:console.error("Verification is not completed");case 23:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}();return(0,_T.jsx)("main",{className:"h-screen w-full flex items-center justify-center",children:(0,_T.jsxs)("form",{onSubmit:function(e){return o(e)},className:"w-[100%] sm:w-[50%] xl:w-1/4 p-4 sm:p-12 border-2 m-4 rounded-lg flex flex-col items-center justify-center",children:[(0,_T.jsxs)("div",{className:"w-[100%] flex flex-col items-start justify-center text-left",children:[(0,_T.jsx)("span",{className:"py-2 text-[13px] sm:text-lg font-[500]",children:"Username"}),(0,_T.jsx)("input",{className:"p-3 w-full text-[13px] sm:text-lg rounded-lg border-2",value:t.username,onChange:function(e){return n(lr(lr({},t),{},{username:e.target.value}))},type:"text",required:!0})]}),(0,_T.jsxs)("div",{className:"w-[100%] flex flex-col items-start justify-center text-left",children:[(0,_T.jsx)("span",{className:"py-2 text-[13px] sm:text-lg font-[500]",children:"Password"}),(0,_T.jsx)("input",{className:"p-3 w-full text-[13px] sm:text-lg rounded-lg border-2",value:t.password,onChange:function(e){return n(lr(lr({},t),{},{password:e.target.value}))},type:"password",required:!0})]}),(0,_T.jsx)("div",{className:"my-6",children:(0,_T.jsx)(CN,{setIsVerifed:a})}),(0,_T.jsx)("button",{className:"py-2 sm:py-4 w-[100%] bg-blue-400 px-8 rounded-lg text-[16px] sm:text-xl font-[500] hover:bg-blue-500 mt-3",children:"Login"})]})})},PR=function(){var e=S(x().mark((function e(){var t,n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K$.collection("sections").get();case 3:return t=e.sent,n={},t.forEach((function(e){var t=e.data();n=lr(lr({},n),{},E({},t.title_key,t))})),console.log(n),e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),AR=function(){return(0,_T.jsxs)(_T.Fragment,{children:[(0,_T.jsxs)("section",{className:"w-full flex flex-col items-center justify-center pt-32 sm:mt-32 sm:py-0 border-dotted-section",children:[(0,_T.jsxs)("div",{className:"w-[95%] xl:w-[74%] h-[80%] flex flex-col sm:flex-row items-center justify-center space-y-10 sm:space-x-10",children:[(0,_T.jsxs)("div",{className:"flex flex-col items-start justify-end w-[100%] sm:w-[60%] font-inter sm:mr-5 text-left space-y-8",children:[(0,_T.jsx)("h1",{className:"text-[18px] lg:text-[30px] xl:text-[50px] font-[400] font-oswald bg-[#963596] bg-gradient-to-r from-[#963596] to-[#873587] px-2 text-white w-full text-right transition-colors",children:"AWS Database Migration Services"}),(0,_T.jsxs)("p",{className:"text-[10px] lg:text-[19px] font-[550] text-[#00000099] my-4 text-justify px-1 lg:px-3 w-[99%] sm:w-[95%] leading-[20px] md:leading-[35px]",children:["Our Database Migration Offerings span end-to-end database migration process, including assessment, schema conversion, code conversion, data migration and user acceptance testing. We will assess your environment and the impact and come up with a plan to migrate your database and analytics workloads to AWS services with high availability and minimal downtime during migration process with Multi-AZ and ongoing data replication and monitoring. We support homogeneous and heterogenous database migrations from",(0,_T.jsx)("p",{className:"text-[12px] lg:text-[22px] font-[700] text-[#00000099] text-justify w-full my-2",children:"Oracle,  SQL Server,  PostgreSQL,  MySQL,  MariaDB and other databases."})]})]}),(0,_T.jsx)("div",{className:"w-[95%] sm:w-[37%] flex flex-col justify-end h-[68%]",children:(0,_T.jsx)("img",{className:"",src:"Features.png",alt:"Welcome",draggable:"false"})})]}),(0,_T.jsxs)("div",{className:"w-[95%] xl:w-[75%] h-[80%] flex flex-col sm:flex-row items-center justify-center space-y-10 sm:space-x-10 my-4",children:[(0,_T.jsxs)("div",{className:"w-[95%] md:w-[60%] space-y-6",children:[(0,_T.jsx)("h2",{className:"text-[14px] xl:text-[28px] font-[700] text-[#2e3092]",children:"We support leading AWS Database Services like:"}),[{title:"AWS Relational Database Service (RDS) \u2013 Managed relational database in the \ncloud, supporting popular database engines including :\nAWS Aurora, PostgreSQL, MySQL, MariaDB, Oracle, and SQL Server"},{title:"AWS Aurora - MySQL and PostgreSQL-compatible relational database built for the cloud."},{title:"AWS DynamoDB \u2013 Fully managed, serverless NoSQL database that supports key-value and document data models"},{title:"AWS DMS (Database Migration Service) - Migrates data from source database to target \ndatabase in AWS, supporting both one-time data migration as well as continuous data replication."}].map((function(e,t){return(0,_T.jsxs)("div",{className:"flex items-start justify-start space-x-2 sm:space-x-4",children:[(0,_T.jsx)(BT,{icon:"double-arrows-right",className:"h-[15px] sm:h-[25px]"}),(0,_T.jsx)("p",{className:"text-[10px] lg:text-[16px] font-[500] text-[#00000099] whitespace-pre-wrap",children:e.title})]},t)}))]}),(0,_T.jsx)("div",{className:"w-[95%] xl:w-[62%] flex items-center justify-end",children:(0,_T.jsx)("p",{className:"text-[10px] lg:text-[18px] font-[600] text-[#00000099] whitespace-pre-wrap w-full xl:w-[90%] my-5 leading-[20px] sm:leading-[35px]",children:"EZDM manages the migration process using AWS Database Migration Service which is a migration and replication service that helps move your database and analytics workloads to AWS quickly, securely, and with minimal downtime and zero data loss. AWS DMS supports migration between 6-plus database and analytics engines, such as Oracle to Amazon Aurora MySQL-Compatible Edition, MySQL to Amazon Relational Database (RDS) for MySQL, Microsoft SQL Server to Amazon Aurora PostgreSQL-Compatible Edition, MongoDB to Amazon DocumentDB (with MongoDB compatibility), Oracle to Amazon Redshift, and Amazon Simple Storage Service (S3)"})})]})]}),(0,_T.jsx)(WT,{})]})},OR="http://localhost:3001",DR=function(e,t){return Ee({basename:null==t?void 0:t.basename,future:Qt({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),B((function(e,t){var n=U(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,u=n.hash;return j("",{pathname:i,search:o,hash:void 0===u?"":u},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:F(t))}),(function(e,t){M("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),n)),hydrationData:(null==t?void 0:t.hydrationData)||Jt(),routes:e,mapRouteProperties:Ht}).initialize();var n}([{path:"/",element:(0,_T.jsx)(zt,{to:"/home"})},{path:"/",element:(0,_T.jsxs)(_T.Fragment,{children:[(0,_T.jsx)(kR,{}),(0,_T.jsx)(sN,{})]}),loader:PR,children:[{path:"/home",element:(0,_T.jsx)(JT,{})},{path:"/about-us",element:(0,_T.jsx)(eN,{})},{path:"/contact-us",element:(0,_T.jsx)(wR,{})},{path:"/privacy-policy",element:(0,_T.jsx)(xR,{})},{path:"/terms-and-services",element:(0,_T.jsx)(CR,{})},{path:"/our-services",children:[{index:!0,element:(0,_T.jsxs)(_T.Fragment,{children:[(0,_T.jsx)(AR,{})," ",(0,_T.jsx)(YT,{})]})},{path:"*",element:(0,_T.jsx)(_T.Fragment,{children:"404"})},{path:":serviceName",element:(0,_T.jsx)(ER,{}),loader:function(e){var t=e.params;return IR(t.serviceName)}}]},{path:"/our-features",element:(0,_T.jsxs)(_T.Fragment,{children:[(0,_T.jsx)(KT,{})," ",(0,_T.jsx)(YT,{})]})},{path:"/faqs",element:(0,_T.jsxs)(_T.Fragment,{children:[(0,_T.jsx)(QT,{})," ",(0,_T.jsx)(YT,{})]})}]},{path:"/login",element:(0,_T.jsx)(NR,{})}]),RR=Symbol.for("immer-nothing"),MR=Symbol.for("immer-draftable"),LR=Symbol.for("immer-state");function jR(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var FR=Object.getPrototypeOf;function UR(e){return!!e&&!!e[LR]}function BR(e){var t;return!!e&&(qR(e)||Array.isArray(e)||!!e[MR]||!(null===(t=e.constructor)||void 0===t||!t[MR])||HR(e)||QR(e))}var VR=Object.prototype.constructor.toString();function qR(e){if(!e||"object"!==typeof e)return!1;var t=FR(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===VR}function zR(e,t){0===WR(e)?Object.entries(e).forEach((function(n){var r=d(n,2),i=r[0],a=r[1];t(i,a,e)})):e.forEach((function(n,r){return t(r,n,e)}))}function WR(e){var t=e[LR];return t?t.type_:Array.isArray(e)?1:HR(e)?2:QR(e)?3:0}function GR(e,t){return 2===WR(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function KR(e,t,n){var r=WR(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function HR(e){return e instanceof Map}function QR(e){return e instanceof Set}function YR(e){return e.copy_||e.base_}function XR(e,t){if(HR(e))return new Map(e);if(QR(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&qR(e)){if(!FR(e)){var n=Object.create(null);return Object.assign(n,e)}return lr({},e)}var r=Object.getOwnPropertyDescriptors(e);delete r[LR];for(var i=Reflect.ownKeys(r),a=0;a<i.length;a++){var o=i[a],u=r[o];!1===u.writable&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[o]})}return Object.create(FR(e),r)}function JR(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return eM(e)||UR(e)||!BR(e)||(WR(e)>1&&(e.set=e.add=e.clear=e.delete=ZR),Object.freeze(e),t&&zR(e,(function(e,t){return JR(t,!0)}))),e}function ZR(){jR(2)}function eM(e){return Object.isFrozen(e)}var tM,nM={};function rM(e){var t=nM[e];return t||jR(0),t}function iM(){return tM}function aM(e,t){t&&(rM("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function oM(e){uM(e),e.drafts_.forEach(lM),e.drafts_=null}function uM(e){e===tM&&(tM=e.parent_)}function sM(e){return tM={drafts_:[],parent_:tM,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function lM(e){var t=e[LR];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function cM(e,t){t.unfinalizedDrafts_=t.drafts_.length;var n=t.drafts_[0];return void 0!==e&&e!==n?(n[LR].modified_&&(oM(t),jR(4)),BR(e)&&(e=dM(t,e),t.parent_||hM(t,e)),t.patches_&&rM("Patches").generateReplacementPatches_(n[LR].base_,e,t.patches_,t.inversePatches_)):e=dM(t,n,[]),oM(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==RR?e:void 0}function dM(e,t,n){if(eM(t))return t;var r=t[LR];if(!r)return zR(t,(function(i,a){return fM(e,r,t,i,a,n)})),t;if(r.scope_!==e)return t;if(!r.modified_)return hM(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;var i=r.copy_,a=i,o=!1;3===r.type_&&(a=new Set(i),i.clear(),o=!0),zR(a,(function(t,a){return fM(e,r,i,t,a,n,o)})),hM(e,i,!1),n&&e.patches_&&rM("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function fM(e,t,n,r,i,a,o){if(UR(i)){var u=dM(e,i,a&&t&&3!==t.type_&&!GR(t.assigned_,r)?a.concat(r):void 0);if(KR(n,r,u),!UR(u))return;e.canAutoFreeze_=!1}else o&&n.add(i);if(BR(i)&&!eM(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;dM(e,i),t&&t.scope_.parent_||hM(e,i)}}function hM(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&JR(t,n)}var pM={get:function(e,t){if(t===LR)return e;var n=YR(e);if(!GR(n,t))return function(e,t,n){var r,i=yM(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);var r=n[t];return e.finalized_||!BR(r)?r:r===mM(e.base_,t)?(bM(e),e.copy_[t]=kM(r,e)):r},has:function(e,t){return t in YR(e)},ownKeys:function(e){return Reflect.ownKeys(YR(e))},set:function(e,t,n){var r=yM(YR(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){var i=mM(YR(e),t),a=null===i||void 0===i?void 0:i[LR];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,i)&&(void 0!==n||GR(e.base_,t)))return!0;bM(e),gM(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:function(e,t){return void 0!==mM(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,bM(e),gM(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor:function(e,t){var n=YR(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){jR(11)},getPrototypeOf:function(e){return FR(e.base_)},setPrototypeOf:function(){jR(12)}},vM={};function mM(e,t){var n=e[LR];return(n?YR(n):e)[t]}function yM(e,t){if(t in e)for(var n=FR(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=FR(n)}}function gM(e){e.modified_||(e.modified_=!0,e.parent_&&gM(e.parent_))}function bM(e){e.copy_||(e.copy_=XR(e.base_,e.scope_.immer_.useStrictShallowCopy_))}zR(pM,(function(e,t){vM[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),vM.deleteProperty=function(e,t){return vM.set.call(this,e,t,void 0)},vM.set=function(e,t,n){return pM.set.call(this,e[0],t,n,e[0])};var wM=function(){function e(t){var n=this;f(this,e),this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=function(e,t,r){if("function"===typeof e&&"function"!==typeof t){var i=t;t=e;var a=n;return function(){for(var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,r=arguments.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(n,(function(n){var r;return(r=t).call.apply(r,[e,n].concat(o))}))}}var o;if("function"!==typeof t&&jR(6),void 0!==r&&"function"!==typeof r&&jR(7),BR(e)){var u=sM(n),s=kM(e,void 0),l=!0;try{o=t(s),l=!1}finally{l?oM(u):uM(u)}return aM(u,r),cM(o,u)}if(!e||"object"!==typeof e){if(void 0===(o=t(e))&&(o=e),o===RR&&(o=void 0),n.autoFreeze_&&JR(o,!0),r){var c=[],d=[];rM("Patches").generateReplacementPatches_(e,o,c,d),r(c,d)}return o}jR(1)},this.produceWithPatches=function(e,t){if("function"===typeof e)return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return n.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=n.produce(e,t,(function(e,t){r=e,i=t}));return[a,r,i]},"boolean"===typeof(null===t||void 0===t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),"boolean"===typeof(null===t||void 0===t?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}return m(e,[{key:"createDraft",value:function(e){BR(e)||jR(8),UR(e)&&(e=_M(e));var t=sM(this),n=kM(e,void 0);return n[LR].isManual_=!0,uM(t),n}},{key:"finishDraft",value:function(e,t){var n=e&&e[LR];n&&n.isManual_||jR(9);var r=n.scope_;return aM(r,t),cM(void 0,r)}},{key:"setAutoFreeze",value:function(e){this.autoFreeze_=e}},{key:"setUseStrictShallowCopy",value:function(e){this.useStrictShallowCopy_=e}},{key:"applyPatches",value:function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=rM("Patches").applyPatches_;return UR(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))}}]),e}();function kM(e,t){var n=HR(e)?rM("MapSet").proxyMap_(e,t):QR(e)?rM("MapSet").proxySet_(e,t):function(e,t){var n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:iM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},i=r,a=pM;n&&(i=[r],a=vM);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.draft_=s,r.revoke_=u,s}(e,t);return(t?t.scope_:iM()).drafts_.push(n),n}function _M(e){return UR(e)||jR(10),xM(e)}function xM(e){if(!BR(e)||eM(e))return e;var t,n=e[LR];if(n){if(!n.modified_)return n.base_;n.finalized_=!0,t=XR(e,n.scope_.immer_.useStrictShallowCopy_)}else t=XR(e,!0);return zR(t,(function(e,n){KR(t,e,xM(n))})),n&&(n.finalized_=!1),t}var CM=new wM,SM=CM.produce;CM.produceWithPatches.bind(CM),CM.setAutoFreeze.bind(CM),CM.setUseStrictShallowCopy.bind(CM),CM.applyPatches.bind(CM),CM.createDraft.bind(CM),CM.finishDraft.bind(CM);function EM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var IM=function(e){return Array.isArray(e)?e:[e]};function $M(e){var t=Array.isArray(e[0])?e[0]:e;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((function(e){return"function"===typeof e}))){var n=e.map((function(e){return"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e})).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var TM="undefined"!==typeof WeakRef?WeakRef:function(){function e(t){f(this,e),this.value=t}return m(e,[{key:"deref",value:function(){return this.value}}]),e}(),NM=0,PM=1;function AM(){return{s:NM,v:void 0,o:null,p:null}}function OM(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=AM(),i=n.resultEqualityCheck,a=0;function o(){for(var n=r,o=0,u=arguments.length;o<u;o++){var s=arguments[o];if("function"===typeof s||"object"===typeof s&&null!==s){var l=n.o;null===l&&(n.o=l=new WeakMap);var c=l.get(s);void 0===c?(n=AM(),l.set(s,n)):n=c}else{var d=n.p;null===d&&(n.p=d=new Map);var f=d.get(s);void 0===f?(n=AM(),d.set(s,n)):n=f}}var h,p=n;if(n.s===PM?h=n.v:(h=e.apply(null,arguments),a++),p.s=PM,i){var v,m,y,g=null!==(v=null===(m=t)||void 0===m||null===(y=m.deref)||void 0===y?void 0:y.call(m))&&void 0!==v?v:t;null!=g&&i(g,h)&&(h=g,0!==a&&a--),t="object"===typeof h&&null!==h||"function"===typeof h?new TM(h):h}return p.v=h,h}return o.clearCache=function(){r=AM(),o.resetResultsCount()},o.resultsCount=function(){return a},o.resetResultsCount=function(){a=0},o}function DM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i="function"===typeof e?{memoize:e,memoizeOptions:n}:e,a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,a=0,o=0,u={},s=t.pop();"object"===typeof s&&(u=s,s=t.pop()),EM(s,"createSelector expects an output function after the inputs, but received: [".concat(typeof s,"]"));var l=lr(lr({},i),u),c=l.memoize,d=l.memoizeOptions,f=void 0===d?[]:d,h=l.argsMemoize,p=void 0===h?OM:h,v=l.argsMemoizeOptions,m=void 0===v?[]:v,y=(l.devModeChecks,IM(f)),g=IM(m),b=$M(t),w=c.apply(void 0,[function(){return a++,s.apply(null,arguments)}].concat(P(y))),k=p.apply(void 0,[function(){o++;var e=function(e,t){for(var n=[],r=e.length,i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(b,arguments);return r=w.apply(null,e)}].concat(P(g)));return Object.assign(k,{resultFunc:s,memoizedResultFunc:w,dependencies:b,dependencyRecomputations:function(){return o},resetDependencyRecomputations:function(){o=0},lastResult:function(){return r},recomputations:function(){return a},resetRecomputations:function(){a=0},memoize:c,argsMemoize:p})};return Object.assign(a,{withTypes:function(){return a}}),a}var RM=DM(OM),MM=Object.assign((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RM;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));var n=Object.keys(e),r=t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}));return r}),{withTypes:function(){return MM}});function LM(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var jM=LM(),FM=LM,UM=(function(){var e=DM.apply(void 0,arguments),t=Object.assign((function(){var t=e.apply(void 0,arguments),n=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.apply(void 0,[UR(e)?_M(e):e].concat(r))};return Object.assign(n,t),n}),{withTypes:function(){return t}})}(OM),"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?AT:AT.apply(null,arguments)}),BM=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,function(e){return e&&"function"===typeof e.match});function VM(e,t){function n(){if(t){var n=t.apply(void 0,arguments);if(!n)throw new Error(mL(0));return lr(lr({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=function(){return"".concat(e)},n.type=e,n.match=function(t){return function(e){return $T(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e},n}var qM=function(e,t){g(r,e);var n=_(r);function r(){var e;f(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),Object.setPrototypeOf(k(e),r.prototype),e}return m(r,[{key:"concat",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sd(b(r.prototype),"concat",this).apply(this,t)}},{key:"prepend",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?I(r,P(t[0].concat(this))):I(r,P(t.concat(this)))}}],[{key:t,get:function(){return r}}]),r}($(Array),Symbol.species);function zM(e){return BR(e)?SM(e,(function(){})):e}var WM="RTK_autoBatch",GM=function(e){return function(t){setTimeout(t,e)}},KM="undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:GM(10),HM=function(e){return function(t){var n=(null!==t&&void 0!==t?t:{}).autoBatch,r=void 0===n||n,i=new qM(e);return r&&i.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return function(t){return function(){var n=t.apply(void 0,arguments),r=!0,i=!1,a=!1,o=new Set,u="tick"===e.type?queueMicrotask:"raf"===e.type?KM:"callback"===e.type?e.queueNotification:GM(e.timeout),s=function(){a=!1,i&&(i=!1,o.forEach((function(e){return e()})))};return Object.assign({},n,{subscribe:function(e){var t=n.subscribe((function(){return r&&e()}));return o.add(e),function(){t(),o.delete(e)}},dispatch:function(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[WM]),(i=!r)&&(a||(a=!0,u(s))),n.dispatch(e)}finally{r=!0}}})}}}("object"===typeof r?r:void 0)),i}};function QM(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(!r)throw new Error(mL(28));if(r in n)throw new Error(mL(29));return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function YM(e,t){var n,r=d(QM(t),3),i=r[0],a=r[1],o=r[2];if(function(e){return"function"===typeof e}(e))n=function(){return zM(e())};else{var u=zM(e);n=function(){return u}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,r=[i[t.type]].concat(P(a.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer}))));return 0===r.filter((function(e){return!!e})).length&&(r=[o]),r.reduce((function(e,n){if(n){if(UR(e)){var r=n(e,t);return void 0===r?e:r}if(BR(e))return SM(e,(function(e){return n(e,t)}));var i=n(e,t);if(void 0===i){if(null===e)return e;throw new Error(mL(9))}return i}return e}),e)}return s.getInitialState=n,s}var XM=function(){for(var e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},JM=function(e,t){return BM(e)?e.match(t):e(t)};function ZM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.some((function(t){return JM(t,e)}))}}var eL=["name","message","stack","code"],tL=m((function e(t,n){f(this,e),E(this,"_type",void 0),this.payload=t,this.meta=n})),nL=m((function e(t,n){f(this,e),E(this,"_type",void 0),this.payload=t,this.meta=n})),rL=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=eL;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}},iL=function(){function e(e,t,n){var r=VM(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:lr(lr({},r||{}),{},{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=VM(e+"/pending",(function(e,t,n){return{payload:void 0,meta:lr(lr({},n||{}),{},{arg:t,requestId:e,requestStatus:"pending"})}})),a=VM(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||rL)(e||"Rejected"),meta:lr(lr({},a||{}),{},{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null===e||void 0===e?void 0:e.name),condition:"ConditionError"===(null===e||void 0===e?void 0:e.name)})}}));return Object.assign((function(e){return function(o,u,s){var l,c,d=null!==n&&void 0!==n&&n.idGenerator?n.idGenerator(e):XM(),f=new AbortController;function h(e){c=e,f.abort()}var p=S(x().mark((function p(){var v,m,y,g,b;return x().wrap((function(p){for(;;)switch(p.prev=p.next){case 0:if(p.prev=0,g=null===n||void 0===n||null===(m=n.condition)||void 0===m?void 0:m.call(n,e,{getState:u,extra:s}),null===(w=g)||"object"!==typeof w||"function"!==typeof w.then){p.next=6;break}return p.next=5,g;case 5:g=p.sent;case 6:if(!1!==g&&!f.signal.aborted){p.next=8;break}throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};case 8:return b=new Promise((function(e,t){l=function(){t({name:"AbortError",message:c||"Aborted"})},f.signal.addEventListener("abort",l)})),o(i(d,e,null===n||void 0===n||null===(y=n.getPendingMeta)||void 0===y?void 0:y.call(n,{requestId:d,arg:e},{getState:u,extra:s}))),p.next=12,Promise.race([b,Promise.resolve(t(e,{dispatch:o,getState:u,extra:s,requestId:d,signal:f.signal,abort:h,rejectWithValue:function(e,t){return new tL(e,t)},fulfillWithValue:function(e,t){return new nL(e,t)}})).then((function(t){if(t instanceof tL)throw t;return t instanceof nL?r(t.payload,d,e,t.meta):r(t,d,e)}))]);case 12:v=p.sent,p.next=18;break;case 15:p.prev=15,p.t0=p.catch(0),v=p.t0 instanceof tL?a(null,d,e,p.t0.payload,p.t0.meta):a(p.t0,d,e);case 18:return p.prev=18,l&&f.signal.removeEventListener("abort",l),p.finish(18);case 21:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||o(v),p.abrupt("return",v);case 24:case"end":return p.stop()}var w}),p,null,[[0,15,18,21]])})))();return Object.assign(p,{abort:h,requestId:d,arg:e,unwrap:function(){return p.then(aL)}})}}),{pending:i,rejected:a,fulfilled:r,settled:ZM(a,r),typePrefix:e})}return e.withTypes=function(){return e},e}();function aL(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var oL=Symbol.for("rtk-slice-createasyncthunk");E({},oL,iL);var uL="listener",sL="completed",lL="cancelled",cL=("task-".concat(lL),"task-".concat(sL),"".concat(uL,"-").concat(lL),"".concat(uL,"-").concat(sL),function(e,t){if("function"!==typeof e)throw new Error(mL(32))});Object.assign;var dL="listenerMiddleware",fL=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,i=e.predicate,a=e.effect;if(t)i=VM(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(mL(21));return cL(a),{predicate:i,type:t,effect:a}},hL=Object.assign((function(e){var t=fL(e),n=t.type,r=t.predicate,i=t.effect;return{id:XM(),effect:i,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error(mL(22))}}}),{withTypes:function(){return hL}}),pL=Object.assign(VM("".concat(dL,"/add")),{withTypes:function(){return pL}}),vL=(VM("".concat(dL,"/removeAll")),Object.assign(VM("".concat(dL,"/remove")),{withTypes:function(){return vL}}));Symbol.for("rtk-state-proxy-original");function mL(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var yL=function(e){var t,n,r=function(e){var t=null!==e&&void 0!==e?e:{},n=t.thunk,r=void 0===n||n,i=(t.immutableCheck,t.serializableCheck,t.actionCreatorCheck,new qM);return r&&(function(e){return"boolean"===typeof e}(r)?i.push(jM):i.push(FM(r.extraArgument))),i},i=e||{},a=i.reducer,o=void 0===a?void 0:a,u=i.middleware,s=i.devTools,l=void 0===s||s,c=i.preloadedState,d=void 0===c?void 0:c,f=i.enhancers,h=void 0===f?void 0:f;if("function"===typeof o)t=o;else{if(!$T(o))throw new Error(mL(1));t=NT(o)}n="function"===typeof u?u(r):r();var p=AT;l&&(p=UM(lr({trace:!1},"object"===typeof l&&l)));var v=OT.apply(void 0,P(n)),m=HM(v),y="function"===typeof h?h(m):m();return TT(t,d,p.apply(void 0,P(y)))}({reducer:NT({sections:YM({sections:{},isChangeMode:!1},(function(e){e.addCase("SET_SECTIONS",(function(e,t){var n=t.payload;e.sections=n})).addCase("CHANGE_SECTION",(function(e,t){var n=t.payload;e.sections[n.title_key]=n})).addCase("SET_IS_CHANGE_MODE",(function(e,t){var n=t.payload;e.isChangeMode=n})).addCase("SET_SECTION_FIELD",(function(e,t){var n=t.payload;e.sections[n.title_key][n.fieldName]=n.value}))}))})}),gL=function(){return(0,_T.jsx)(_T.Fragment,{children:(0,_T.jsx)(mT,{store:yL,children:(0,_T.jsx)(Vt,{router:DR})})})};o.createRoot(document.getElementById("root")).render((0,_T.jsx)(gL,{}))}()}();
//# sourceMappingURL=main.de99e3bd.js.map